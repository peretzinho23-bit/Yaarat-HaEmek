<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>××•×“×•×ª â€“ ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§</title>

  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="style.css" />

  <style>
    /* =========================================================
       ABOUT â€“ FULL VERSION (LONG + EDITABLE + LIGHT MODE FIXED)
       âœ… × ×˜×¢×Ÿ ×-Firestore: siteContent/about
       âœ… fallback ××œ× ×× ××™×Ÿ × ×ª×•× ×™×
       âœ… ×œ×™×™×˜ ××•×“: ×˜×§×¡×˜×™× / borders / ×›×¤×ª×•×¨×™× / ×¦'×™×¤×¡ / ×›×•×ª×¨×•×ª / nav
       âœ… ×”×¨×‘×” ×¡×§×©× ×™× ×›×“×™ ×©×”×¢××•×“ ×™×”×™×” "×××™×ª×™" ×•××¨×•×š
       ========================================================= */

    :root{
      /* dark base */
      --bg0:#0b1220;
      --bg1:#020617;
      --panel: rgba(2,6,23,.58);
      --panel2: rgba(2,6,23,.42);
      --stroke: rgba(148,163,184,.20);
      --stroke2: rgba(148,163,184,.30);
      --txt: rgba(241,245,249,.94);
      --muted: rgba(226,232,240,.78);
      --muted2: rgba(226,232,240,.62);

      /* accents */
      --blue: rgba(59,130,246,1);
      --blue2: rgba(59,130,246,.16);
      --green: rgba(16,185,129,1);
      --green2: rgba(16,185,129,.16);
      --amber: rgba(245,158,11,1);
      --amber2: rgba(245,158,11,.16);
      --pink: rgba(236,72,153,1);
      --pink2: rgba(236,72,153,.14);

      --shadow: 0 26px 90px rgba(0,0,0,.40);
      --shadow2: 0 16px 45px rgba(0,0,0,.25);

      --radius: 26px;
      --radius2: 20px;
      --radius3: 16px;

      --container: 1180px;

      --focus: 0 0 0 4px rgba(59,130,246,.22);
    }

    /* ===== Base ===== */
    body[data-page="about"]{
      background:
        radial-gradient(1200px 700px at 78% -10%, rgba(59,130,246,.24), transparent 58%),
        radial-gradient(950px 620px at 12% 0%, rgba(16,185,129,.16), transparent 60%),
        radial-gradient(900px 620px at 55% 112%, rgba(245,158,11,.18), transparent 62%),
        linear-gradient(180deg, rgba(2,6,23,.82), rgba(2,6,23,.96)),
        var(--bg0);
      color: var(--txt);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
    }

    .container{
      width: min(var(--container), calc(100% - 32px));
      margin: 0 auto;
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
    }

    /* Accessibility focus */
    a:focus-visible, button:focus-visible, input:focus-visible{
      outline: none;
      box-shadow: var(--focus);
      border-radius: 14px;
    }

    /* ===== scroll progress bar ===== */
    .scroll-progress{
      position: fixed;
      top:0; left:0; right:0;
      height: 3px;
      z-index: 3000;
      background: transparent;
    }
    .scroll-progress > i{
      display:block;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(59,130,246,1), rgba(16,185,129,1), rgba(245,158,11,1));
      box-shadow: 0 6px 18px rgba(59,130,246,.22);
    }

    /* =========================================================
       HEADER / NAV FIX (×›×¤×™×œ×•×™×•×ª + ××•×‘×™×™×œ)
       ========================================================= */
    body[data-page="about"] .header-main{
      position: sticky;
      top: 0;
      z-index: 200;
      background: rgba(2,6,23,.62);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--stroke);
    }

    body[data-page="about"] .nav.nav-centered{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      padding: 10px 0;
      position: relative;
    }

    body[data-page="about"] .nav-side{
      display:flex;
      align-items:center;
      gap: 12px;
      flex-wrap: nowrap;
      min-width: 0;
    }

    body[data-page="about"] .nav-side a{
      text-decoration:none;
      color: rgba(241,245,249,.92);
      font-weight: 900;
      font-size: .95rem;
      padding: 8px 10px;
      border-radius: 999px;
      transition: background .15s ease, transform .15s ease, border-color .15s ease;
      white-space: nowrap;
      border: 1px solid transparent;
    }

    body[data-page="about"] .nav-side a:hover{
      background: rgba(148,163,184,.12);
      transform: translateY(-1px);
      border-color: rgba(148,163,184,.18);
    }

    body[data-page="about"] .nav-side a.active{
      background: rgba(59,130,246,.16);
      border: 1px solid rgba(59,130,246,.28);
    }

    body[data-page="about"] .nav-center{
      display:flex;
      align-items:center;
      justify-content:center;
      flex: 0 0 auto;
    }

    body[data-page="about"] .logo-circle{
      display:grid;
      place-items:center;
      width: 46px;
      height: 46px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(15,23,42,.55);
      box-shadow: 0 12px 26px rgba(0,0,0,.18);
      overflow:hidden;
    }

    body[data-page="about"] .logo-img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }

    /* header buttons */
    body[data-page="about"] .theme-toggle-btn{
      border:none;
      cursor:pointer;
      width: 42px;
      height: 42px;
      border-radius: 999px;
      background: rgba(15,23,42,.55);
      border: 1px solid rgba(148,163,184,.22);
      color: rgba(241,245,249,.92);
      display:grid;
      place-items:center;
      box-shadow: 0 12px 26px rgba(0,0,0,.16);
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    body[data-page="about"] .theme-toggle-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(191,219,254,.28);
      background: rgba(15,23,42,.62);
    }

    /* important: hide mobile menu on desktop */
    body[data-page="about"] .nav-mobile{
      display:none !important;
    }

    body[data-page="about"] .nav-toggle{
      display:none;
      border:none;
      cursor:pointer;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: rgba(15,23,42,.55);
      border: 1px solid rgba(148,163,184,.22);
      box-shadow: 0 12px 26px rgba(0,0,0,.16);
      padding: 10px;
      gap: 6px;
      flex-direction: column;
      justify-content:center;
      align-items:stretch;
    }
    body[data-page="about"] .nav-toggle span{
      display:block;
      height: 2px;
      border-radius: 999px;
      background: rgba(241,245,249,.90);
      opacity:.95;
    }

    @media (max-width: 980px){
      body[data-page="about"] .nav-right-links,
      body[data-page="about"] .nav-left-links{
        display:none;
      }

      body[data-page="about"] .nav-toggle{
        display:flex;
      }

      body[data-page="about"] .nav-mobile{
        display:flex !important;
        flex-direction: column;
        gap: 8px;
        position:absolute;
        top: calc(100% + 10px);
        right: 0;
        left: 0;
        padding: 12px;
        border-radius: 18px;
        border: 1px solid rgba(148,163,184,.22);
        background: rgba(2,6,23,.86);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        box-shadow: 0 22px 70px rgba(0,0,0,.45);
        transform: translateY(-6px);
        opacity: 0;
        pointer-events:none;
        transition: opacity .18s ease, transform .18s ease;
      }

      body[data-page="about"] .nav-mobile a{
        display:flex;
        justify-content:space-between;
        align-items:center;
        text-decoration:none;
        color: rgba(241,245,249,.92);
        font-weight: 950;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px solid rgba(148,163,184,.14);
        background: rgba(15,23,42,.42);
      }

      body[data-page="about"] .nav-mobile a:hover{
        border-color: rgba(191,219,254,.28);
        background: rgba(59,130,246,.12);
      }

      body[data-page="about"] .nav-mobile.open{
        opacity: 1;
        transform: translateY(0);
        pointer-events:auto;
      }
    }

    /* ===== Layout primitives ===== */
    .about-wrapper{
      padding: 18px 0 64px;
      min-height: 100vh;
    }

    .glass{
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      background: var(--panel);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .panel{
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.40);
      box-shadow: var(--shadow2);
      padding: 14px;
    }

    .reveal{
      opacity: 0;
      transform: translateY(14px);
      filter: blur(6px);
      transition: opacity .7s cubic-bezier(.2,.8,.2,1),
                  transform .7s cubic-bezier(.2,.8,.2,1),
                  filter .7s cubic-bezier(.2,.8,.2,1);
      will-change: transform, opacity, filter;
    }
    .reveal.in{ opacity:1; transform: translateY(0); filter: blur(0); }

    /* =========================================================
       HERO
       ========================================================= */
    .hero{
      margin-top: 18px;
      padding: 16px;
      position: relative;
      background:
        radial-gradient(900px 520px at 80% 0%, rgba(59,130,246,.22), transparent 58%),
        radial-gradient(700px 420px at 10% 0%, rgba(16,185,129,.18), transparent 60%),
        var(--panel);
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      align-items: stretch;
    }
    @media (max-width: 980px){ .hero-grid{ grid-template-columns: 1fr; } }

    .hero h1{
      margin: 0 0 8px;
      font-size: clamp(1.7rem, 2.8vw, 2.8rem);
      line-height: 1.12;
      letter-spacing: .01em;
    }

    .lead{
      margin: 0;
      color: rgba(226,232,240,.86);
      line-height: 1.9;
      font-size: 1.02rem;
    }

    .hero-actions{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 14px;
      align-items:center;
    }

    .btn{
      text-decoration:none;
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 1000;
      font-size: .9rem;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(15,23,42,.55);
      color: rgba(241,245,249,.92);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.16);
      display:inline-flex;
      align-items:center;
      gap: 8px;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(191,219,254,.30);
      box-shadow: 0 14px 32px rgba(0,0,0,.2);
      background: rgba(15,23,42,.62);
    }
    .btn.primary{ background: #10b981; border-color: rgba(16,185,129,.85); color: #052e23; }
    .btn.secondary{ background: rgba(59,130,246,.14); border-color: rgba(59,130,246,.35); color: rgba(219,234,254,.95); }
    .btn.ghost{ background: transparent; border-color: rgba(148,163,184,.28); }

    .chips{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.20);
      background: rgba(15,23,42,.50);
      font-weight: 950;
      font-size: .88rem;
      color: rgba(241,245,249,.92);
    }

    .chip.blue{ border-color: rgba(59,130,246,.30); background: rgba(59,130,246,.14); color: rgba(219,234,254,.95); }
    .chip.green{ border-color: rgba(16,185,129,.30); background: rgba(16,185,129,.14); color: rgba(209,250,229,.96); }
    .chip.amber{ border-color: rgba(245,158,11,.30); background: rgba(245,158,11,.14); color: rgba(254,243,199,.96); }
    .chip.pink{ border-color: rgba(236,72,153,.30); background: rgba(236,72,153,.14); color: rgba(251,207,232,.95); }

    .hero-media{
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.18);
      overflow:hidden;
      background: rgba(0,0,0,.22);
      height: 350px;
      position: relative;
    }
    .hero-media img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
      transform: scale(1.02);
      transition: transform .7s cubic-bezier(.2,.8,.2,1);
    }
    .hero-media:hover img{ transform: scale(1.06); }

    .hero-badge{
      position:absolute;
      bottom: 12px;
      right: 12px;
      left: 12px;
      padding: 10px 12px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.52);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .hero-badge strong{ font-weight: 1000; }
    .hero-badge span{ color: rgba(226,232,240,.80); font-weight: 900; font-size:.9rem; }

    @media (max-width: 520px){
      .hero-media{ height: 250px; }
      .hero-badge{ border-radius: 16px; }
    }

    /* =========================================================
       SECTION HEADERS
       ========================================================= */
    .section{
      margin-top: 22px;
    }

    .section-head{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap: 12px;
      margin: 0 0 10px;
    }

    .section-head h2{
      margin: 0;
      font-size: 1.28rem;
      letter-spacing: .01em;
    }

    .section-head p{
      margin: 6px 0 0;
      color: rgba(226,232,240,.70);
      line-height: 1.8;
      max-width: 820px;
      font-size: .96rem;
    }

    .section-tools{
      display:flex;
      gap: 8px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .pill{
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(15,23,42,.50);
      padding: 8px 10px;
      font-weight: 1000;
      color: rgba(241,245,249,.92);
      cursor:pointer;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      display:inline-flex;
      align-items:center;
      gap: 8px;
      font-size: .88rem;
    }
    .pill:hover{ transform: translateY(-1px); border-color: rgba(191,219,254,.28); background: rgba(15,23,42,.58); }
    .pill.active{ border-color: rgba(59,130,246,.36); background: rgba(59,130,246,.14); }

    .search{
      width: min(340px, 100%);
      display:flex;
      align-items:center;
      gap: 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(15,23,42,.50);
      padding: 8px 12px;
    }
    .search input{
      flex:1;
      border:none;
      outline:none;
      background: transparent;
      color: rgba(241,245,249,.92);
      font-weight: 900;
      font-size: .92rem;
    }
    .search i{ opacity:.8; }

    /* =========================================================
       CARDS / GRIDS
       ========================================================= */
    .grid3{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 980px){ .grid3{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 640px){ .grid3{ grid-template-columns: 1fr; } }

    .card{
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      padding: 14px;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      border-color: rgba(191,219,254,.26);
      box-shadow: 0 24px 65px rgba(0,0,0,.26);
    }
    .card .tag{
      color: rgba(148,163,184,.92);
      font-weight: 1000;
      font-size: .82rem;
      margin-bottom: 6px;
    }
    .card h3{ margin: 0 0 6px; font-size: 1.02rem; }
    .card p{ margin:0; color: rgba(226,232,240,.80); font-size:.92rem; line-height:1.75; }

    /* =========================================================
       STATS
       ========================================================= */
    .stats{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .stats{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 640px){ .stats{ grid-template-columns: 1fr; } }

    .stat{
      border-radius: 20px;
      border: 1px solid rgba(59,130,246,.20);
      background:
        radial-gradient(700px 360px at 10% 0%, rgba(59,130,246,.20), transparent 55%),
        rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      padding: 14px;
      transition: transform .18s ease, border-color .18s ease;
    }
    .stat:hover{ transform: translateY(-3px); border-color: rgba(191,219,254,.26); }
    .stat .label{ color: rgba(191,219,254,.95); font-weight: 1000; font-size: .86rem; }
    .stat .value{ margin-top: 8px; font-size: 2.15rem; font-weight: 1000; line-height: 1; }
    .stat .note{ margin-top: 8px; color: rgba(226,232,240,.70); font-size: .86rem; }

    /* =========================================================
       TEAM
       ========================================================= */
    .team-wrap{
      margin-top: 10px;
    }

    .team-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width:1100px){ .team-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width:640px){ .team-grid{ grid-template-columns: 1fr; } }

    .team-list{
      display:flex;
      flex-direction: column;
      gap: 10px;
    }

    .member{
      display:flex;
      gap: 12px;
      align-items:flex-start;
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      padding: 14px;
      transition: transform .18s ease, border-color .18s ease;
    }
    .member:hover{ transform: translateY(-2px); border-color: rgba(191,219,254,.26); }

    .avatar{
      width: 50px;
      height: 50px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(15,23,42,.55);
      display:grid;
      place-items:center;
      flex: 0 0 auto;
      overflow:hidden;
    }
    .avatar img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }
    .avatar .circle{
      width: 40px;
      height: 40px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      font-weight: 1000;
      background: rgba(59,130,246,.16);
      border: 1px solid rgba(59,130,246,.30);
      color: rgba(219,234,254,.95);
    }

    .role{
      font-weight: 950;
      font-size: .88rem;
      color: rgba(209,250,229,.92);
      margin-top: 2px;
    }

    .m-body p{
      margin: 8px 0 0;
      color: rgba(226,232,240,.80);
      font-size: .92rem;
      line-height: 1.75;
    }

    .member-meta{
      display:flex;
      gap: 8px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .badge{
      font-size: .82rem;
      font-weight: 950;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.20);
      background: rgba(15,23,42,.45);
      color: rgba(241,245,249,.90);
    }

    /* =========================================================
       FACILITIES / PROGRAMS
       ========================================================= */
    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .split{ grid-template-columns: 1fr; } }

    .mini-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .mini-grid{ grid-template-columns: 1fr; } }

    .mini{
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      padding: 14px;
      display:flex;
      gap: 12px;
      align-items:flex-start;
    }
    .mini .ico{
      width: 42px;
      height: 42px;
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(15,23,42,.52);
      display:grid;
      place-items:center;
      font-size: 1.15rem;
      flex: 0 0 auto;
    }
    .mini h3{ margin:0; font-size: 1.02rem; }
    .mini p{ margin:6px 0 0; color: rgba(226,232,240,.80); line-height:1.75; font-size:.92rem; }

    /* =========================================================
       TIMELINE
       ========================================================= */
    .timeline{
      margin-top: 12px;
      display:flex;
      flex-direction: column;
      gap: 10px;
    }
    .t-item{
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      padding: 14px;
      display:flex;
      gap: 12px;
      align-items:flex-start;
    }
    .t-dot{
      width: 14px; height:14px; margin-top: 6px;
      border-radius:999px;
      background: rgba(59,130,246,1);
      box-shadow: 0 0 0 4px rgba(59,130,246,.18);
      flex:0 0 auto;
    }
    .t-body strong{ font-weight:1000; }
    .t-body p{ margin:6px 0 0; color: rgba(226,232,240,.80); line-height:1.75; font-size:.92rem; }

    /* =========================================================
       TESTIMONIALS (slider)
       ========================================================= */
    .testi{
      margin-top: 10px;
      border-radius: var(--radius);
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow);
      padding: 14px;
      overflow:hidden;
      position: relative;
    }
    .testi-track{
      display:flex;
      gap: 12px;
      transition: transform .35s ease;
      will-change: transform;
    }
    .quote{
      min-width: min(520px, 92vw);
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(15,23,42,.42);
      padding: 14px;
    }
    .quote p{ margin:0; color: rgba(241,245,249,.90); line-height:1.9; }
    .quote .by{ margin-top: 10px; color: rgba(226,232,240,.72); font-weight: 950; font-size:.9rem; }

    .testi-controls{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      margin-top: 12px;
    }
    .dots{ display:flex; gap: 8px; }
    .dot{
      width: 10px; height:10px;
      border-radius:999px;
      border: 1px solid rgba(148,163,184,.30);
      background: rgba(148,163,184,.18);
      cursor:pointer;
    }
    .dot.active{ background: rgba(59,130,246,.95); border-color: rgba(59,130,246,.35); }

    .arrow{
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 1000;
      color: rgba(241,245,249,.92);
      background: rgba(15,23,42,.55);
      border: 1px solid rgba(148,163,184,.22);
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .arrow:hover{ transform: translateY(-1px); border-color: rgba(191,219,254,.28); background: rgba(15,23,42,.62); }

    /* =========================================================
       GALLERY + LIGHTBOX
       ========================================================= */
    .gallery{
      display:grid;
      grid-template-columns: 1.45fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .gallery{ grid-template-columns: 1fr; } }

    .g-main, .ph{
      cursor: zoom-in;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(0,0,0,.18);
      box-shadow: 0 14px 30px rgba(0,0,0,.18);
      transition: transform .18s ease, border-color .18s ease;
      position: relative;
    }
    .g-main:hover, .ph:hover{ transform: translateY(-3px); border-color: rgba(191,219,254,.28); }

    .g-main img{
      width:100%;
      height: 370px;
      object-fit: cover;
      display:block;
      transform: scale(1.01);
      transition: transform .7s cubic-bezier(.2,.8,.2,1);
    }
    .g-main:hover img, .ph:hover img{ transform: scale(1.06); }
    @media (max-width: 640px){ .g-main img{ height: 260px; } }

    .cap{
      position:absolute;
      bottom: 10px;
      right: 10px;
      left: 10px;
      border-radius: 16px;
      padding: 10px 12px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.55);
      color: rgba(241,245,249,.92);
      font-weight: 950;
      font-size: .92rem;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .g-mini{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }

    .ph img{
      width:100%;
      height: 165px;
      object-fit: cover;
      display:block;
      transform: scale(1.01);
      transition: transform .7s cubic-bezier(.2,.8,.2,1);
    }
    @media (max-width: 640px){ .ph img{ height: 145px; } }

    .lightbox{
      position: fixed;
      inset: 0;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 16px;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 2000;
    }
    .lightbox.open{ display:flex; }

    .lightbox-inner{
      width: min(980px, 96vw);
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(2,6,23,.65);
      box-shadow: 0 34px 120px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .lightbox-inner img{
      width: 100%;
      max-height: 82vh;
      object-fit: contain;
      display:block;
      background: rgba(0,0,0,.18);
    }
    .lb-bar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 10px 12px;
      border-top: 1px solid rgba(148,163,184,.18);
      color: rgba(241,245,249,.92);
      font-weight: 950;
      font-size: .9rem;
    }
    .lb-close{
      border:none;
      cursor:pointer;
      background: rgba(15,23,42,.55);
      border: 1px solid rgba(148,163,184,.20);
      color: rgba(241,245,249,.92);
      border-radius: 12px;
      padding: 8px 10px;
      font-weight: 1000;
    }

    /* =========================================================
       FAQ
       ========================================================= */
    .faq{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 980px){ .faq{ grid-template-columns: 1fr; } }

    .qa{
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(2,6,23,.42);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .qa button{
      width: 100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 14px;
      border:none;
      background: transparent;
      color: rgba(241,245,249,.92);
      cursor:pointer;
      font-weight: 1000;
      font-size: .98rem;
      text-align:right;
    }
    .qa button span{ color: rgba(191,219,254,.95); font-weight: 1000; }
    .qa .a{
      padding: 0 14px 14px;
      color: rgba(226,232,240,.80);
      line-height: 1.85;
      font-size: .92rem;
      display:none;
    }
    .qa.open .a{ display:block; }
    .qa .chev{ opacity:.8; transition: transform .18s ease; }
    .qa.open .chev{ transform: rotate(180deg); }

    .faq-empty{
      display:none;
      margin-top: 10px;
      color: rgba(226,232,240,.78);
      font-weight: 900;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px dashed rgba(148,163,184,.30);
      background: rgba(15,23,42,.42);
    }

    /* =========================================================
       CTA + FOOTER
       ========================================================= */
    .cta{
      margin-top: 22px;
      border-radius: var(--radius);
      border: 1px solid rgba(16,185,129,.30);
      background:
        radial-gradient(900px 420px at 10% 0%, rgba(16,185,129,.20), transparent 58%),
        radial-gradient(900px 420px at 90% 0%, rgba(59,130,246,.16), transparent 58%),
        rgba(2,6,23,.50);
      box-shadow: var(--shadow);
      padding: 16px;
      display:flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items:center;
      justify-content:space-between;
    }
    .cta .txt{
      max-width: 860px;
      color: rgba(236,253,245,.92);
      line-height: 1.9;
      font-size: .98rem;
    }
    .cta .txt strong{ display:inline-block; margin-bottom: 4px; font-size: 1.1rem; }
    .cta .actions{ display:flex; gap: 10px; flex-wrap: wrap; }

    footer{ margin-top: 22px; }
    footer .container{
      padding: 16px 0;
      border-top: 1px solid rgba(148,163,184,.18);
      color: rgba(226,232,240,.75);
      font-weight: 900;
    }

    /* back to top */
    .to-top{
      position: fixed;
      bottom: 18px;
      left: 18px;
      z-index: 2500;
      opacity: 0;
      pointer-events:none;
      transform: translateY(8px);
      transition: opacity .18s ease, transform .18s ease;
    }
    .to-top.show{
      opacity: 1;
      pointer-events:auto;
      transform: translateY(0);
    }

    /* =========================================================
       EDIT MODE (JSON editor) â€” ××•×¤×™×¢ ×¨×§ ×¢× ?edit=1
       ========================================================= */
    .edit-fab{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 2600;
      display:none;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(15,23,42,.70);
      color: rgba(241,245,249,.92);
      font-weight: 1000;
      cursor:pointer;
      box-shadow: 0 18px 45px rgba(0,0,0,.28);
    }
    .edit-fab:hover{ transform: translateY(-1px); border-color: rgba(191,219,254,.28); }

    .edit-modal{
      position: fixed;
      inset: 0;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 16px;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 2700;
    }
    .edit-modal.open{ display:flex; }

    .edit-card{
      width: min(980px, 96vw);
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,.22);
      background: rgba(2,6,23,.78);
      box-shadow: 0 34px 120px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .edit-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 12px;
      border-bottom: 1px solid rgba(148,163,184,.18);
      color: rgba(241,245,249,.92);
      font-weight: 1000;
    }
    .edit-top .hint{
      color: rgba(226,232,240,.72);
      font-weight: 900;
      font-size: .9rem;
    }

    .edit-body{
      padding: 12px;
      display:grid;
      gap: 10px;
    }

    .edit-area{
      width: 100%;
      min-height: 56vh;
      resize: vertical;
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,.20);
      background: rgba(15,23,42,.55);
      color: rgba(241,245,249,.92);
      font-weight: 900;
      font-size: .9rem;
      line-height: 1.55;
      padding: 12px;
      outline: none;
    }

    .edit-actions{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      justify-content:space-between;
      align-items:center;
    }

    .edit-actions .left,
    .edit-actions .right{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .edit-status{
      color: rgba(226,232,240,.80);
      font-weight: 900;
      font-size: .9rem;
    }

    .btn.small{
      padding: 9px 12px;
      font-size: .88rem;
    }

    /* =========================================================
       LIGHT THEME (FULL FIX)
       ========================================================= */
    html[data-theme="light"] body[data-page="about"]{
      background:
        radial-gradient(1200px 700px at 78% -10%, rgba(59,130,246,.14), transparent 58%),
        radial-gradient(950px 620px at 12% 0%, rgba(16,185,129,.10), transparent 60%),
        radial-gradient(900px 620px at 55% 112%, rgba(245,158,11,.10), transparent 62%),
        #f3f7ff;
      color: #0f172a;
    }

    html[data-theme="light"] body[data-page="about"] .header-main{
      background: rgba(255,255,255,.86);
      border-bottom-color: rgba(148,163,184,.40);
    }

    html[data-theme="light"] body[data-page="about"] .nav-side a{ color:#0f172a; }
    html[data-theme="light"] body[data-page="about"] .nav-side a:hover{
      background: rgba(2,6,23,.05);
      border-color: rgba(148,163,184,.30);
    }

    html[data-theme="light"] body[data-page="about"] .theme-toggle-btn{
      background: rgba(255,255,255,.92);
      color: #0f172a;
      border-color: rgba(148,163,184,.45);
      box-shadow: 0 12px 26px rgba(15,23,42,.08);
    }

    html[data-theme="light"] body[data-page="about"] .glass,
    html[data-theme="light"] body[data-page="about"] .panel,
    html[data-theme="light"] body[data-page="about"] .card,
    html[data-theme="light"] body[data-page="about"] .stat,
    html[data-theme="light"] body[data-page="about"] .qa,
    html[data-theme="light"] body[data-page="about"] .member,
    html[data-theme="light"] body[data-page="about"] .mini,
    html[data-theme="light"] body[data-page="about"] .t-item,
    html[data-theme="light"] body[data-page="about"] .testi,
    html[data-theme="light"] body[data-page="about"] .quote{
      background: rgba(255,255,255,.94);
      border-color: rgba(148,163,184,.45);
      box-shadow: 0 18px 45px rgba(15,23,42,.08);
      color:#0f172a;
    }

    html[data-theme="light"] body[data-page="about"] .lead,
    html[data-theme="light"] body[data-page="about"] .section-head p,
    html[data-theme="light"] body[data-page="about"] .card p,
    html[data-theme="light"] body[data-page="about"] .stat .note,
    html[data-theme="light"] body[data-page="about"] .qa .a,
    html[data-theme="light"] body[data-page="about"] .m-body p,
    html[data-theme="light"] body[data-page="about"] .mini p,
    html[data-theme="light"] body[data-page="about"] .t-body p,
    html[data-theme="light"] body[data-page="about"] .quote .by{
      color:#475569;
    }

    html[data-theme="light"] body[data-page="about"] .chip{
      background: rgba(2,6,23,.04);
      color:#0f172a;
      border-color: rgba(148,163,184,.50);
    }
    html[data-theme="light"] body[data-page="about"] .chip.blue{ background: rgba(59,130,246,.10); border-color: rgba(59,130,246,.28); color:#0f172a; }
    html[data-theme="light"] body[data-page="about"] .chip.green{ background: rgba(16,185,129,.10); border-color: rgba(16,185,129,.28); color:#0f172a; }
    html[data-theme="light"] body[data-page="about"] .chip.amber{ background: rgba(245,158,11,.10); border-color: rgba(245,158,11,.30); color:#0f172a; }
    html[data-theme="light"] body[data-page="about"] .chip.pink{ background: rgba(236,72,153,.10); border-color: rgba(236,72,153,.28); color:#0f172a; }

    html[data-theme="light"] body[data-page="about"] .cap{
      background: rgba(255,255,255,.92);
      border-color: rgba(148,163,184,.45);
      color:#0f172a;
    }

    html[data-theme="light"] body[data-page="about"] .btn{
      background: rgba(255,255,255,.92);
      color:#0f172a;
      border-color: rgba(148,163,184,.50);
      box-shadow: 0 10px 22px rgba(15,23,42,.08);
    }
    html[data-theme="light"] body[data-page="about"] .btn:hover{
      background: rgba(255,255,255,.98);
      border-color: rgba(59,130,246,.30);
    }
    html[data-theme="light"] body[data-page="about"] .btn.primary{ background:#10b981; color:#052e23; border-color: rgba(16,185,129,.85); }
    html[data-theme="light"] body[data-page="about"] .btn.secondary{ background: rgba(59,130,246,.12); color:#0f172a; border-color: rgba(59,130,246,.28); }

    html[data-theme="light"] body[data-page="about"] .pill,
    html[data-theme="light"] body[data-page="about"] .search{
      background: rgba(255,255,255,.92);
      border-color: rgba(148,163,184,.45);
      color:#0f172a;
    }
    html[data-theme="light"] body[data-page="about"] .search input{ color:#0f172a; }
    html[data-theme="light"] body[data-page="about"] .pill.active{
      background: rgba(59,130,246,.12);
      border-color: rgba(59,130,246,.28);
    }

    html[data-theme="light"] body[data-page="about"] .nav-mobile{
      background: rgba(255,255,255,.96);
      border-color: rgba(148,163,184,.45);
    }
    html[data-theme="light"] body[data-page="about"] .nav-mobile a{
      background: rgba(2,6,23,.04);
      color:#0f172a;
      border-color: rgba(148,163,184,.24);
    }

    html[data-theme="light"] body[data-page="about"] footer .container{
      border-top-color: rgba(148,163,184,.40);
      color:#475569;
    }

    html[data-theme="light"] body[data-page="about"] .edit-fab{
      background: rgba(255,255,255,.92);
      border-color: rgba(148,163,184,.45);
      color: #0f172a;
      box-shadow: 0 18px 45px rgba(15,23,42,.10);
    }
    html[data-theme="light"] body[data-page="about"] .edit-card{
      background: rgba(255,255,255,.98);
      border-color: rgba(148,163,184,.45);
    }
    html[data-theme="light"] body[data-page="about"] .edit-top{
      color:#0f172a;
      border-bottom-color: rgba(148,163,184,.35);
    }
    html[data-theme="light"] body[data-page="about"] .edit-top .hint,
    html[data-theme="light"] body[data-page="about"] .edit-status{
      color:#475569;
    }
    html[data-theme="light"] body[data-page="about"] .edit-area{
      background: rgba(2,6,23,.03);
      border-color: rgba(148,163,184,.45);
      color:#0f172a;
    }
  </style>
</head>

<body data-page="about">
  <div class="scroll-progress" aria-hidden="true"><i id="scrollBar"></i></div>

  <script type="module" src="analytics.js"></script>

  <!-- HEADER -->
  <header class="header-main">
    <div class="container">
      <nav class="nav nav-centered" aria-label="× ×™×•×•×˜ ×¨××©×™">

        <div class="nav-side nav-right-links">
          <a href="index.html#home-news">×—×“×©×•×ª</a>
          <a href="index.html#home-exams">××‘×—× ×™×</a>
          <a href="index.html#grades">×”×©×›×‘×•×ª</a>
          <a href="polls.html">×¡×§×¨×™×</a>
          <a href="about.html" class="active">××•×“×•×ª</a>
        </div>

        <div class="nav-center">
          <a href="index.html" class="logo-circle" aria-label="×“×£ ×”×‘×™×ª">
            <img src="https://i.ibb.co/tp4K737Y/Cropped-circle-image-1.png" alt="×¡××œ ×™×¢×¨×ª ×”×¢××§" class="logo-img" />
          </a>
        </div>

        <div class="nav-side nav-left-links">
          <a href="index.html#contact">×™×¦×™×¨×ª ×§×©×¨</a>
          <a href="news.html">×›×œ ×”×—×“×©×•×ª</a>
          <a href="exams.html">×›×œ ×”××‘×—× ×™×</a>
          <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
          <a href="admin.html" class="btn-outline">Admin</a>
        </div>

        <button id="theme-toggle" class="theme-toggle-btn" type="button" aria-label="××¦×‘ ×›×”×”/×‘×”×™×¨">ğŸŒ™</button>

        <button class="nav-toggle" id="nav-toggle" type="button" aria-label="×¤×ª×— ×ª×¤×¨×™×˜" aria-expanded="false" aria-controls="nav-mobile">
          <span></span><span></span><span></span>
        </button>

        <div class="nav-mobile" id="nav-mobile" aria-hidden="true">
          <a href="index.html#home-news">×—×“×©×•×ª</a>
          <a href="index.html#home-exams">××‘×—× ×™×</a>
          <a href="index.html#grades">×”×©×›×‘×•×ª</a>
          <a href="polls.html">×¡×§×¨×™×</a>
          <a href="about.html">××•×“×•×ª</a>
          <a href="index.html#contact">×™×¦×™×¨×ª ×§×©×¨</a>
          <a href="news.html">×›×œ ×”×—×“×©×•×ª</a>
          <a href="exams.html">×›×œ ×”××‘×—× ×™×</a>
          <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
          <a href="admin.html" class="btn-outline">Admin</a>
        </div>

      </nav>
    </div>
  </header>

  <main class="about-wrapper">
    <div class="container">

      <!-- HERO -->
      <section class="glass hero reveal" id="hero">
        <div class="hero-grid">
          <div class="panel">
            <h1 id="heroTitle">××•×“×•×ª ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§</h1>
            <p class="lead" id="heroLead"></p>

            <div class="chips" id="heroChips"></div>

            <div class="hero-actions" id="heroActions"></div>
          </div>

          <div class="panel">
            <div class="hero-media" id="heroMedia">
              <img id="heroImg" src="" alt="×ª××•× ×ª ××•×•×™×¨×”">
              <div class="hero-badge">
                <strong id="heroBadgeStrong">×§×”×™×œ×” ×—×–×§×”</strong>
                <span id="heroBadgeText">×œ××™×“×” â€¢ ×¢×¨×›×™× â€¢ ×™×•×–××•×ª</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- VALUES -->
      <section class="section" id="values">
        <div class="section-head reveal">
          <div>
            <h2 id="valuesTitle"></h2>
            <p id="valuesSubtitle"></p>
          </div>
        </div>
        <div class="grid3" id="valuesGrid"></div>
      </section>

      <!-- STATS -->
      <section class="section" id="stats">
        <div class="section-head reveal">
          <div>
            <h2 id="statsTitle"></h2>
            <p id="statsSubtitle"></p>
          </div>
        </div>
        <div class="stats" id="statsGrid"></div>
      </section>

      <!-- FACILITIES -->
      <section class="section" id="facilities">
        <div class="section-head reveal">
          <div>
            <h2 id="facTitle"></h2>
            <p id="facSubtitle"></p>
          </div>
        </div>

        <div class="split">
          <div class="panel reveal">
            <h3 id="facPanelTitle" style="margin:0 0 8px;">××‘×˜ ××§×¨×•×‘</h3>
            <p id="facPanelText" style="margin:0;color:rgba(226,232,240,.80);line-height:1.85;"></p>
            <div class="mini-grid" id="facGrid"></div>
          </div>

          <div class="panel reveal">
            <h3 style="margin:0 0 8px;">××” ××§×‘×œ×™× ×‘×™×•×-×™×•×</h3>
            <div class="mini-grid" id="dailyGrid"></div>
          </div>
        </div>
      </section>

      <!-- PROGRAMS -->
      <section class="section" id="programs">
        <div class="section-head reveal">
          <div>
            <h2 id="progTitle"></h2>
            <p id="progSubtitle"></p>
          </div>
        </div>

        <div class="grid3" id="progGrid"></div>
      </section>

      <!-- TIMELINE -->
      <section class="section" id="timeline">
        <div class="section-head reveal">
          <div>
            <h2 id="timeTitle"></h2>
            <p id="timeSubtitle"></p>
          </div>
        </div>

        <div class="timeline" id="timeList"></div>
      </section>

      <!-- TESTIMONIALS -->
      <section class="section" id="testimonials">
        <div class="section-head reveal">
          <div>
            <h2 id="testiTitle"></h2>
            <p id="testiSubtitle"></p>
          </div>
        </div>

        <div class="testi reveal">
          <div class="testi-track" id="testiTrack"></div>

          <div class="testi-controls">
            <button class="arrow" id="testiPrev" type="button">â€¹ ×§×•×“×</button>
            <div class="dots" id="testiDots" aria-label="××¢×‘×¨ ×¦×™×˜×•×˜×™×"></div>
            <button class="arrow" id="testiNext" type="button">×”×‘× â€º</button>
          </div>
        </div>
      </section>

      <!-- TEAM -->
      <section class="section" id="team">
        <div class="section-head reveal">
          <div>
            <h2 id="teamTitle"></h2>
            <p id="teamSubtitle"></p>
          </div>

          <div class="section-tools">
            <button class="pill active" id="teamGridBtn" type="button">ğŸ”³ Grid</button>
            <button class="pill" id="teamListBtn" type="button">ğŸ“ƒ List</button>
          </div>
        </div>

        <div class="team-wrap">
          <div class="team-grid" id="teamGrid"></div>
        </div>
      </section>

      <!-- GALLERY -->
      <section class="section" id="gallery">
        <div class="section-head reveal">
          <div>
            <h2 id="galleryTitle"></h2>
            <p id="gallerySubtitle"></p>
          </div>
        </div>

        <div class="gallery">
          <div class="g-main reveal" id="gMain" data-lb="" data-title="">
            <img id="gMainImg" src="" alt="">
            <div class="cap" id="gMainCap"></div>
          </div>

          <div class="g-mini" id="gMini"></div>
        </div>
      </section>

      <!-- FAQ -->
      <section class="section" id="faq">
        <div class="section-head reveal">
          <div>
            <h2 id="faqTitle"></h2>
            <p id="faqSubtitle"></p>
          </div>

          <div class="section-tools">
            <div class="search" title="×—×™×¤×•×© ×©××œ×•×ª">
              <i>ğŸ”</i>
              <input id="faqSearch" type="text" placeholder="×—×¤×© ×©××œ×” (×œ××©×œ: ××•×¢×¦×” / ×§×©×¨ / ××‘×—× ×™×)" />
            </div>
          </div>
        </div>

        <div class="faq" id="faqGrid"></div>
        <div class="faq-empty" id="faqEmpty">×œ× × ××¦××• ×©××œ×•×ª ×©××ª××™××•×ª ×œ×—×™×¤×•×©.</div>
      </section>

      <!-- CTA -->
      <section class="cta reveal" id="cta">
        <div class="txt" id="ctaText"></div>
        <div class="actions" id="ctaActions"></div>
      </section>

    </div>
  </main>

  <footer>
    <div class="container">
      <p id="footer-text">Â© ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§</p>
    </div>
  </footer>

  <!-- back to top -->
  <a href="#hero" class="btn to-top" id="toTop" aria-label="×—×–×¨×” ×œ××¢×œ×”">â¬†ï¸ ×œ××¢×œ×”</a>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-inner" role="dialog" aria-modal="true" aria-label="×ª×¦×•×’×ª ×ª××•× ×”">
      <img id="lbImg" alt="">
      <div class="lb-bar">
        <div id="lbTitle">×ª××•× ×”</div>
        <button class="lb-close" id="lbClose" type="button">âœ• ×¡×’×•×¨</button>
      </div>
    </div>
  </div>

  <!-- âœï¸ Edit FAB + Modal (××•×¤×™×¢ ×¨×§ ×¢× ?edit=1) -->
  <button class="edit-fab" id="editFab" type="button" aria-label="×¢×¨×™×›×ª ×ª×•×›×Ÿ ××•×“×•×ª">âœï¸ ×¢×¨×™×›×”</button>

  <div class="edit-modal" id="editModal" aria-hidden="true">
    <div class="edit-card" role="dialog" aria-modal="true" aria-label="×¢×•×¨×š ×ª×•×›×Ÿ ××•×“×•×ª">
      <div class="edit-top">
        <div>
          <div style="font-size:1rem;">×¢×•×¨×š JSON â€” siteContent/about</div>
          <div class="hint">×˜×™×¤: ×ª×¢×¨×•×š ×¨×§ ××” ×©××ª×” ××‘×™×Ÿ. ×–×” ×¢×•×©×” ×©××™×¨×” ×œ-Firestore.</div>
        </div>
        <button class="btn small" id="editCloseTop" type="button">âœ• ×¡×’×•×¨</button>
      </div>

      <div class="edit-body">
        <textarea class="edit-area" id="editArea" spellcheck="false"></textarea>

        <div class="edit-actions">
          <div class="left">
            <button class="btn small ghost" id="editCopy" type="button">ğŸ“‹ ×”×¢×ª×§</button>
            <button class="btn small ghost" id="editReset" type="button">â†©ï¸ ×”×—×–×¨ (××” ×©××•×˜×¢×Ÿ)</button>
          </div>

          <div class="right">
            <span class="edit-status" id="editStatus">××•×›×Ÿ.</span>
            <button class="btn small secondary" id="editValidate" type="button">âœ… ×‘×“×•×§ JSON</button>
            <button class="btn small primary" id="editSave" type="button">ğŸ’¾ ×©××•×¨</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- =========================================================
       SCRIPTS (Firestore load + render + UI)
       ========================================================= -->
  <script type="module">
    import { db } from "./firebase-config.js";
    import { doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";

    /* ======================
       Helpers
       ====================== */
    const $ = (id) => document.getElementById(id);
    const esc = (s) => String(s ?? "")
      .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
      .replaceAll('"',"&quot;").replaceAll("'","&#039;");

    const isArr = Array.isArray;

    /* ======================
       Fallback Data (BIG)
       ====================== */
    const fallback = {
      hero: {
        title: "××•×“×•×ª ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§",
        lead:
          "××§×•× ×©××¨×™× ×ª×œ××™×“×™× â€” ×œ×™××•×“×™× ×‘×¨××” ×’×‘×•×”×”, ××•×•×™×¨×” ×—×‘×¨×ª×™×ª ×—×–×§×” ×•×¦×•×•×ª ×©××›×™×¨ ××•×ª×š ×‘×××ª. " +
          "×¤×” ×œ× â€œ×©×•×¨×“×™× ×‘×™×ª ×¡×¤×¨â€ â€” ×¤×” ×’×“×œ×™×. ×”××ª×¨ ×”×–×” × ×‘× ×” ×›×“×™ ×œ×ª×ª ×œ×ª×œ××™×“×™× ××™×“×¢ ××¡×•×“×¨: ×—×“×©×•×ª, ××‘×—× ×™×, ×©×›×‘×•×ª, ×¡×§×¨×™× ×•×¢×•×“.",
        chips: [
          { text:"ğŸ« ××’×“×œ ×”×¢××§", tone:"blue" },
          { text:"ğŸ¤ ×™×—×¡ ××™×©×™", tone:"green" },
          { text:"ğŸš€ ×™×•×–××•×ª ×ª×œ××™×“×™×", tone:"amber" },
          { text:"ğŸ’¡ ×—×“×©× ×•×ª ×“×™×’×™×˜×œ×™×ª", tone:"pink" }
        ],
        actions: [
          { text:"×œ×—×“×©×•×ª", href:"index.html#home-news", type:"secondary", icon:"ğŸ“°" },
          { text:"×œ××‘×—× ×™×", href:"index.html#home-exams", type:"ghost", icon:"ğŸ“" },
          { text:"×—×–×¨×” ×œ×“×£ ×”×‘×™×ª", href:"index.html", type:"primary", icon:"ğŸ " }
        ],
        imageUrl: "images/about-hero.png",
        imageAlt: "××‘×˜ ××œ ×—×¦×¨ ×‘×™×ª ×”×¡×¤×¨",
        badgeStrong: "×§×”×™×œ×” ×—×–×§×”",
        badgeText: "×œ××™×“×” â€¢ ×¢×¨×›×™× â€¢ ×™×•×–××•×ª"
      },

      values: {
        title: "××™ ×× ×—× ×• â€“ ×™×¢×¨×ª ×”×¢××§ ××§×¨×•×‘",
        subtitle:
          "×©×œ×•×©×” ×“×‘×¨×™× ×©××’×“×™×¨×™× ××•×ª× ×•: ×¢×¨×›×™×, ×œ××™×“×”, ×•×§×”×™×œ×”. " +
          "×”×§×˜×¢ ×”×•× ×œ× ×¨×§ ×¦×™×•× ×™× â€” ××œ× ××™ ××ª×” × ×”×™×” ×‘×“×¨×š.",
        cards: [
          { tag:"×¢×¨×›×™× ×•×—×™× ×•×š", title:"××§×•× ×‘×˜×•×— ×œ×’×“×•×œ ×‘×•", text:"×›×‘×•×“ ×”×“×“×™, ×”×§×©×‘×” ×•×§×‘×œ×”. ×¦×•×•×ª ×©××œ×•×•×” ××§×¨×•×‘ ×•×©×•××¨ ×¢×œ ×§×©×¨ ×¢× ×”×‘×™×ª." },
          { tag:"×œ××™×“×” ×•×—×“×©× ×•×ª", title:"××¦×•×™× ×•×ª ×©××ª××™××” ×œ×”×™×•×", text:"×œ××™×“×” ×“×™×’×™×˜×œ×™×ª, ×—×§×¨ ×•×¤×¨×•×™×§×˜×™× â€” ×¢× ×—×©×™×‘×” ×‘×™×§×•×¨×ª×™×ª ×•×¢×‘×•×“×ª ×¦×•×•×ª." },
          { tag:"×—×‘×¨×” ×•×§×”×™×œ×”", title:"×”×ª×œ××™×“×™× ××©×¤×™×¢×™×", text:"××•×¢×¦×ª ×ª×œ××™×“×™×, ×¡×§×¨×™×, ×™××™ ×©×™× ×•××¢×•×¨×‘×•×ª ×—×‘×¨×ª×™×ª â€” ×”×§×•×œ ×©×œ ×”×ª×œ××™×“×™× × ×©××¢." }
        ]
      },

      stats: {
        title: "×™×¢×¨×ª ×”×¢××§ â€“ ×‘××¡×¤×¨×™×",
        subtitle: "× ×ª×•× ×™× ×›×œ×œ×™×™× ×œ×”××—×©×” (××¤×©×¨ ×œ×©× ×•×ª ×“×¨×š ×”××“××™×Ÿ).",
        items: [
          { label:"×ª×œ××™×“×™× ×‘×—×˜×™×‘×”", count:383, note:"196 ×‘× ×™× Â· 187 ×‘× ×•×ª" },
          { label:"×¦×•×•×ª ×—×™× ×•×›×™", count:43, note:"36 ××•×¨×•×ª Â· 7 ××•×¨×™×" },
          { label:"×©×›×‘×•×ª ×œ×™××•×“", count:3, note:"×–×³ Â· ×—×³ Â· ×˜×³" },
          { label:"×©×‘×™×¢×•×ª ×¨×¦×•×Ÿ", count:94, suffix:"%", note:"×¢×œ ×‘×¡×™×¡ ××©×•×‘×™× ×¤× ×™××™×™×" }
        ]
      },

      facilities: {
        title: "×”××¨×—×‘ ×©×œ× ×•",
        subtitle:
          "×”×¡×‘×™×‘×” ××©×¤×™×¢×” ×¢×œ ×”×›×œ: ×× ×¨×’×™×”, ××•×˜×™×‘×¦×™×”, ×•×ª×—×•×©×” ×©××ª×” ×‘××§×•× ×©××›×‘×“ ××•×ª×š. " +
          "×¤×” ×™×© ×“×’×© ×¢×œ ×¡×“×¨, × ×¨××•×ª, ×•×ª×—× ×•×ª ×œ××™×“×” ×××™×ª×™×•×ª.",
        panelTitle: "××” ×™×© ×¤×” ×‘×××ª",
        panelText:
          "×›×™×ª×•×ª, ××¨×—×‘×™×, ××¢×‘×“×•×ª ×•××–×•×¨×™ ×™×©×™×‘×”. ×”××˜×¨×” ×”×™× ×©×ª×œ××™×“ ×œ× ×™×¨×’×™×© â€œ×¡×ª× ×¢×•×“ ××—×“â€, " +
          "××œ× ×©×™×© ×œ×• ××§×•×, ×¨××”, ×•×©×’×¨×” ×©××¨×™××” ××•×ª×•.",
        items: [
          { icon:"ğŸ§ª", title:"××¢×‘×“×•×ª ×•××¨×—×‘×™ ×—×§×¨", text:"×¤×¢×™×œ×•×ª ××¢×©×™×ª, × ×™×¡×•×™×™×, ×¤×¨×•×™×§×˜×™× ×§×‘×•×¦×ª×™×™×." },
          { icon:"ğŸ’»", title:"××¨×—×‘ ××—×©×‘×™× ×•×“×™×’×™×˜×œ", text:"×œ××™×“×” ××ª×•×§×©×‘×ª, ×ª×¨×’×•×œ, ×•×›×œ×™× ×œ×¢×‘×•×“×ª ×¦×•×•×ª." },
          { icon:"ğŸ“š", title:"×¤×™× ×•×ª ×§×¨×™××” ×•×©×§×˜", text:"××§×•× ×œ×œ××•×“ ×‘×œ×™ ×¨×¢×©, ×œ×”×ª××§×“ ×•×œ×”×ª×§×“×." },
          { icon:"âš½", title:"×¡×¤×•×¨×˜ ×•×—×•×’×™×", text:"××™××•× ×™×, ×˜×•×¨× ×™×¨×™×, ×•×¤×¢×™×œ×•×ª ×©××—×‘×¨×ª." }
        ],
        daily: [
          { icon:"ğŸ•˜", title:"×©×’×¨×” ×‘×¨×•×¨×”", text:"×œ×•×— ×–×× ×™× ××¡×•×“×¨, ×ª×™××•× ××‘×—× ×™× ×•×”×•×“×¢×•×ª." },
          { icon:"ğŸ¤", title:"××¤×¡ ×œ×‘×“", text:"×™×•×¢×¦×ª/××—× ×›×™× ×–××™× ×™× ×œ×ª×œ××™×“×™× â€” ×’× ×‘×¨×’×¢×™× ×§×©×™×." },
          { icon:"ğŸ¯", title:"×™×¢×“×™×", text:"××’×“×™×¨×™× ××˜×¨×•×ª ×•××ª×§×“××™× ××œ×™×”×Ÿ ×¢× ×œ×™×•×•×™." },
          { icon:"ğŸ§ ", title:"×œ××™×“×” ×—×›××”", text:"×œ× ×¨×§ ×œ×©× ×Ÿ â€” ×œ×”×‘×™×Ÿ, ×œ×™×™×©×, ×•×œ×¢×‘×•×“ × ×›×•×Ÿ." }
        ]
      },

      programs: {
        title: "×ª×•×›× ×™×•×ª, ×™×•×–××•×ª ×•××” ×©×§×•×¨×” ××¢×‘×¨ ×œ×©×™×¢×•×¨×™×",
        subtitle:
          "×”×§×˜×¢ ×‘×—×˜×™×‘×” ×—×–×§×” ×–×” ×©×™×© ×¢×•××§: ×× ×”×™×’×•×ª, ×¤×¨×•×™×§×˜×™×, ×™××™× ××™×•×—×“×™×, ×•×“×‘×¨×™× ×©×ª×œ××™×“×™× ×™×•×–××™× ×‘×¢×¦××.",
        cards: [
          { tag:"×× ×”×™×’×•×ª", title:"××•×¢×¦×ª ×ª×œ××™×“×™×", text:"××¢×•×¨×‘×•×ª, ×”×—×œ×˜×•×ª, ×™×•×–××•×ª, ×•×¡×§×¨×™× ×©××–×™×–×™× ×“×‘×¨×™× ×‘×××ª." },
          { tag:"×—×‘×¨×”", title:"×™××™ ×©×™× ×•×˜×™×•×œ×™×", text:"×—×™×‘×•×¨ ×‘×™×Ÿ ×©×›×‘×•×ª, ×¢×¨×›×™×, ×—×•×•×™×•×ª ×•×–×™×›×¨×•× ×•×ª." },
          { tag:"×œ×™××•×“×™×", title:"×ª×’×‘×•×¨ ×•×§×™×“×•×", text:"××™ ×©×¦×¨×™×š ×¢×–×¨×” ××§×‘×œ. ××™ ×©×¨×•×¦×” ×œ×”×¦×˜×™×™×Ÿ â€” ××§×‘×œ ××ª ×”×›×œ×™×." }
        ]
      },

      timeline: {
        title: "××™×š × ×¨××” ×ª×”×œ×™×š ×œ××•×¨×š ×”×©× ×”",
        subtitle:
          "×›×“×™ ×©×ª×‘×™×Ÿ ××” ×”×•×œ×š: ×œ××Ÿ ×–×” ××ª×§×“×, ××ª×™ ×™×© ×¢×•××¡×™×, ×•××ª×™ ×™×© ×¨×’×¢×™× ×©×œ ××•×•×™×¨×”.",
        items: [
          { title:"×ª×—×™×œ×ª ×©× ×”", text:"×”×™×›×¨×•×ª, ×©×’×¨×”, ×”×’×“×¨×ª ×¦×™×¤×™×•×ª, ×•×”×ª×—×œ×” ×—×–×§×”." },
          { title:"×××¦×¢ ×¡××¡×˜×¨", text:"×¤×¨×•×™×§×˜×™×, ××‘×—× ×™×, ×•×œ××™×“×” ×¢××•×§×” ×™×•×ª×¨." },
          { title:"×ª×§×•×¤×ª ×©×™×", text:"×¨×™×›×•×– ××‘×—× ×™× + ×¢×‘×•×“×” ×§×‘×•×¦×ª×™×ª. ×¤×” ×× ×¦×—×™× ×¢× ×¡×“×¨." },
          { title:"×¡×™×•× ××—×¦×™×ª", text:"×¡×™×›×•××™×, ××©×•×‘, ×™×¢×“×™× ×—×“×©×™× ×•×©×™×¤×•×¨." }
        ]
      },

      testimonials: {
        title: "××” ×ª×œ××™×“×™× ××•××¨×™×",
        subtitle: "××©×¤×˜×™× ×§×¦×¨×™× ×©×¢×•×©×™× ××ª ×”×¢××•×“ ×—×™ (××¤×©×¨ ×œ×¢×¨×•×š ×‘××“××™×Ÿ).",
        items: [
          { text:"×”×“×‘×¨ ×”×›×™ ×˜×•×‘ ×¤×” ×–×” ×©××ª×” ××¨×’×™×© ×©×™×© ×œ××™ ×œ×¤× ×•×ª. ×–×” ×œ× ×¨×§ ×©×™×¢×•×¨×™×.", by:"×ª×œ××™×“/×” ××©×›×‘×” ×—×³" },
          { text:"×”×¡×§×¨×™× ×•×”××•×¢×¦×” ×‘×××ª ××©× ×™× ×“×‘×¨×™×. ×›×©××§×©×™×‘×™× ×œ× ×• â€” ×× ×—× ×• ×¢×¤×™×.", by:"×ª×œ××™×“/×” ××©×›×‘×” ×˜×³" },
          { text:"×›×©×”×ª××¨×’× ×•×ª ×œ××‘×—× ×™× ××¡×•×“×¨×ª ×‘××ª×¨ â€” ×–×” ××•×¨×™×“ ×œ×—×¥ ×‘×¨××•×ª.", by:"×ª×œ××™×“/×” ××©×›×‘×” ×–×³" }
        ]
      },

      team: {
        title: "×¦×•×•×ª ××•×‘×™×œ",
        subtitle:
          "×”×¦×•×•×ª ×©××•×‘×™×œ ××ª ×”×—×˜×™×‘×” ×§×“×™××” â€” ××¤×©×¨ ×œ×¢×¨×•×š ×©××•×ª, ×ª×¤×§×™×“×™×, ×ª×™××•×¨×™× ×•××¤×™×œ×• ×ª××•× ×•×ª ×“×¨×š Firestore/××“××™×Ÿ.",
        members: [
          { name:"××•×¨×™×ª", role:"×× ×”×œ×ª ×”×—×˜×™×‘×”", bio:"××•×‘×™×œ×” ××¦×•×™× ×•×ª + ×™×—×¡ ××™×©×™. ×™×•×“×¢×ª ×œ×”×¨×™× ×ª×œ××™×“×™× ×’× ×›×©×§×©×”.", initials:"×", tags:["×× ×”×™×’×•×ª","××©××¢×ª","××›×¤×ª×™×•×ª"] },
          { name:"×“× ×™", role:"×¨×›×– ×©×›×‘×”", bio:"×©×•××¨ ×¢×œ ×¡×“×¨, ×¢×•×§×‘ ××—×¨×™ ×”×ª×§×“××•×ª ×•×¢×•×–×¨ ×œ×ª×œ××™×“×™× ×œ×”×ª×™×™×©×¨ ×œ××¡×œ×•×œ.", initials:"×“", tags:["×¡×“×¨","×œ×™×•×•×™","×©×›×‘×”"] },
          { name:"×¨×—×œ", role:"×™×•×¢×¦×ª", bio:"××§×•× ×‘×˜×•×— ×œ×©×™×—×” ×•×”×›×•×•× ×”. ××™×Ÿ ××¦×‘ ×©×ª×™×©××¨ ×œ×‘×“ ×¢× ××©×”×•.", initials:"×¨", tags:["×ª××™×›×”","×©×™×—×”","×¨×•×’×¢"] },
          { name:"× ×•×¢×”", role:"××—× ×›×ª", bio:"××—×‘×¨×ª ×›×™×ª×”, ×©×™×™×›×•×ª ×•×”×ª×§×“××•×ª. ×“×•××’×ª ×©××£ ××—×“ ×œ× ×™×™×¤×•×œ.", initials:"× ", tags:["×›×™×ª×”","×©×™×™×›×•×ª","×—×•×–×§"] }
        ]
      },

      gallery: {
        title: "×¨×’×¢×™× ××”×—×™×™× ×‘×‘×™×ª ×”×¡×¤×¨",
        subtitle: "×˜×™×•×œ×™×, ×™××™ ×©×™×, ×—×¦×¨ ×•×©×’×¨×” â€” ×”×× ×¨×’×™×” ×©×œ ×”××§×•× ×‘×ª××•× ×•×ª.",
        main: {
          url:"images/PIC-HATZER.png",
          title:"×—×¦×¨ ×‘×™×ª ×”×¡×¤×¨ â€“ ×¨×’×¢×™× ×©×œ ×©×’×¨×” ×˜×•×‘×”",
          caption:"ğŸ“¸ ×—×¦×¨ ×‘×™×ª ×”×¡×¤×¨ â€“ ×¨×’×¢×™× ×©×œ ×©×’×¨×” ×˜×•×‘×”",
          alt:"×ª×œ××™×“×™× ×‘×—×¦×¨ ×‘×™×ª ×”×¡×¤×¨"
        },
        items: [
          { url:"images/about-gallery-1.png", title:"×¤×¢×™×œ×•×ª ×—×‘×¨×ª×™×ª ×‘×›×™×ª×”", alt:"×¤×¢×™×œ×•×ª ×—×‘×¨×ª×™×ª ×‘×›×™×ª×”" },
          { url:"images/pic2.png", title:"×™×•× ×©×™× / ×˜×§×¡ ×‘×™×ª ×¡×¤×¨×™", alt:"×™×•× ×©×™× ××• ×˜×§×¡" },
          { url:"images/pic3-demo.png", title:"×œ××™×“×” ×‘××¢×‘×“×” / ××—×©×‘×™×", alt:"×œ××™×“×” ×‘××¢×‘×“×”" },
          { url:"images/PIC4-TIOL.png", title:"×˜×™×•×œ ×©× ×ª×™ / ×¤×¢×™×œ×•×ª ×—×•×¥", alt:"×˜×™×•×œ ×©× ×ª×™" }
        ]
      },

      faq: {
        title: "×©××œ×•×ª × ×¤×•×¦×•×ª",
        subtitle: "×©××œ×•×ª ×©×‘×××ª ×—×•×¡×›×•×ª ×œ×š ×–××Ÿ. ×™×© ×¤×” ×’× ×—×™×¤×•×© ×›×“×™ ×©×–×” ×™×”×™×” ××§×¦×•×¢×™.",
        items: [
          { q:"××” ××™×•×—×“ ×‘×™×¢×¨×ª ×”×¢××§?", a:"×§×”×™×œ×” ×—×–×§×”, ×™×—×¡ ××™×©×™, ×•××œ× ×™×•×–××•×ª ×©×œ ×ª×œ××™×“×™× â€” ×œ× ×¨×§ ×©×™×¢×•×¨×™×." },
          { q:"×™×© ××•×¢×¦×ª ×ª×œ××™×“×™× ×¤×¢×™×œ×”?", a:"×›×Ÿ. ××•×¢×¦×” + ×¡×§×¨×™× + ×¤×¢×™×œ×•×™×•×ª â€” ×œ×ª×œ××™×“×™× ×™×© ×”×©×¤×¢×” ×××™×ª×™×ª." },
          { q:"××™×š ×× ×™ ×™×•×“×¢ ××ª×™ ×™×© ××‘×—× ×™×?", a:"×“×¨×š ×“×£ ×”×‘×™×ª/×“×£ ×›×œ ×”××‘×—× ×™×. ×”××˜×¨×” ×©×›×œ ×–×” ×™×”×™×” ××¡×•×“×¨ ×•×‘×¨×•×¨." },
          { q:"×™×© ×“×’×© ×¢×œ ×“×™×’×™×˜×œ ×•×¤×¨×•×™×§×˜×™×?", a:"×›×Ÿ. ×©×™×œ×•×‘ ×›×œ×™× ×“×™×’×™×˜×œ×™×™×, ×¢×‘×•×“×” ×‘×§×‘×•×¦×•×ª, ×•×—×§×¨ â€” ×›×“×™ ×œ×œ××•×“ ×›××• ×”×™×•×." },
          { q:"××™×š ×™×•×¦×¨×™× ×§×©×¨?", a:"×“×¨×š ×¢××•×“ ×™×¦×™×¨×ª ×§×©×¨ ×‘××ª×¨ (index.html#contact) ××• ×“×¨×š ×”× ×”×œ×ª ×‘×™×ª ×”×¡×¤×¨." },
          { q:"××¤×©×¨ ×œ×”×¦×™×¢ ×¨×¢×™×•×Ÿ ×œ×‘×™×ª ×”×¡×¤×¨?", a:"×›×Ÿ. ×“×¨×š ××•×¢×¦×ª ×ª×œ××™×“×™×/×¡×§×¨×™×/×¤× ×™×™×” ×œ××—× ×š ××• ×¨×›×–." }
        ]
      },

      cta: {
        textHtml:
          "<strong>×¨×•×¦×™× ×œ×”××©×™×š ×œ×”×›×™×¨ ××ª ×™×¢×¨×ª ×”×¢××§?</strong><br>" +
          "×—×–×¨×• ×œ×“×£ ×”×‘×™×ª, ×”×¦×™×¦×• ×‘×—×“×©×•×ª, ×¢×‘×¨×• ×¢×œ ×œ×•×— ×”××‘×—× ×™× ××• ×›× ×¡×• ×œ×¢××•×“ ×”×¡×§×¨×™× ×•×”×©×¤×™×¢×• ×¢×œ ××” ×©×§×•×¨×” ×‘×—×˜×™×‘×”.",
        actions: [
          { text:"×—×–×¨×” ×œ×“×£ ×”×‘×™×ª", href:"index.html", type:"primary", icon:"ğŸ " },
          { text:"×œ×¢××•×“ ×”×¡×§×¨×™× Â»", href:"polls.html", type:"secondary", icon:"ğŸ“Š" },
          { text:"×›×œ ×”×—×“×©×•×ª", href:"news.html", type:"ghost", icon:"ğŸ“°" }
        ]
      }
    };

    /* ======================
       Render
       ====================== */
    let currentTestimonialsIndex = 0;
    let testimonialsTimer = null;
    let teamMode = "grid"; // grid | list

    function render(data){
      const d = data || fallback;

      /* HERO */
      const hero = d.hero || fallback.hero;
      $("heroTitle").textContent = hero.title || fallback.hero.title;
      $("heroLead").textContent  = hero.lead || fallback.hero.lead;

      const chips = isArr(hero.chips) ? hero.chips : fallback.hero.chips;
      $("heroChips").innerHTML = chips.map(c => {
        const tone = esc(c.tone || "");
        const cls = tone ? `chip ${tone}` : "chip";
        return `<span class="${cls}">${esc(c.text)}</span>`;
      }).join("");

      const actions = isArr(hero.actions) ? hero.actions : fallback.hero.actions;
      $("heroActions").innerHTML = actions.map(a => {
        const cls = `btn ${esc(a.type||"")}`;
        return `<a href="${esc(a.href)}" class="${cls}">${esc(a.icon||"")} ${esc(a.text)}</a>`;
      }).join("");

      $("heroImg").src = hero.imageUrl || fallback.hero.imageUrl;
      $("heroImg").alt = hero.imageAlt || fallback.hero.imageAlt;
      $("heroBadgeStrong").textContent = hero.badgeStrong || fallback.hero.badgeStrong;
      $("heroBadgeText").textContent = hero.badgeText || fallback.hero.badgeText;

      // ×× ×ª××•× ×” ×œ× × ×˜×¢× ×ª â€“ ×œ× × ×©×‘×¨
      $("heroImg").addEventListener("error", () => {
        $("heroImg").src = fallback.hero.imageUrl;
        $("heroImg").alt = fallback.hero.imageAlt;
      }, { once:true });

      /* VALUES */
      const values = d.values || fallback.values;
      $("valuesTitle").textContent = values.title || fallback.values.title;
      $("valuesSubtitle").textContent = values.subtitle || fallback.values.subtitle;
      const vCards = isArr(values.cards) ? values.cards : fallback.values.cards;
      $("valuesGrid").innerHTML = vCards.map(c => `
        <article class="card reveal">
          <div class="tag">${esc(c.tag)}</div>
          <h3>${esc(c.title)}</h3>
          <p>${esc(c.text)}</p>
        </article>
      `).join("");

      /* STATS */
      const stats = d.stats || fallback.stats;
      $("statsTitle").textContent = stats.title || fallback.stats.title;
      $("statsSubtitle").textContent = stats.subtitle || fallback.stats.subtitle;
      const sItems = isArr(stats.items) ? stats.items : fallback.stats.items;
      $("statsGrid").innerHTML = sItems.map(it => `
        <div class="stat reveal">
          <div class="label">${esc(it.label)}</div>
          <div class="value" data-count="${Number(it.count||0)}" data-suffix="${esc(it.suffix||"")}">0</div>
          <div class="note">${esc(it.note||"")}</div>
        </div>
      `).join("");

      /* FACILITIES */
      const fac = d.facilities || fallback.facilities;
      $("facTitle").textContent = fac.title || fallback.facilities.title;
      $("facSubtitle").textContent = fac.subtitle || fallback.facilities.subtitle;
      $("facPanelTitle").textContent = fac.panelTitle || fallback.facilities.panelTitle;
      $("facPanelText").textContent = fac.panelText || fallback.facilities.panelText;

      const facItems = isArr(fac.items) ? fac.items : fallback.facilities.items;
      $("facGrid").innerHTML = facItems.map(x => `
        <div class="mini reveal">
          <div class="ico">${esc(x.icon||"âœ¨")}</div>
          <div>
            <h3>${esc(x.title)}</h3>
            <p>${esc(x.text)}</p>
          </div>
        </div>
      `).join("");

      const daily = isArr(fac.daily) ? fac.daily : fallback.facilities.daily;
      $("dailyGrid").innerHTML = daily.map(x => `
        <div class="mini reveal">
          <div class="ico">${esc(x.icon||"âœ…")}</div>
          <div>
            <h3>${esc(x.title)}</h3>
            <p>${esc(x.text)}</p>
          </div>
        </div>
      `).join("");

      /* PROGRAMS */
      const prog = d.programs || fallback.programs;
      $("progTitle").textContent = prog.title || fallback.programs.title;
      $("progSubtitle").textContent = prog.subtitle || fallback.programs.subtitle;
      const pCards = isArr(prog.cards) ? prog.cards : fallback.programs.cards;
      $("progGrid").innerHTML = pCards.map(c => `
        <article class="card reveal">
          <div class="tag">${esc(c.tag)}</div>
          <h3>${esc(c.title)}</h3>
          <p>${esc(c.text)}</p>
        </article>
      `).join("");

      /* TIMELINE */
      const time = d.timeline || fallback.timeline;
      $("timeTitle").textContent = time.title || fallback.timeline.title;
      $("timeSubtitle").textContent = time.subtitle || fallback.timeline.subtitle;
      const tItems = isArr(time.items) ? time.items : fallback.timeline.items;
      $("timeList").innerHTML = tItems.map((x) => `
        <div class="t-item reveal">
          <div class="t-dot"></div>
          <div class="t-body">
            <strong>${esc(x.title)}</strong>
            <p>${esc(x.text)}</p>
          </div>
        </div>
      `).join("");

      /* TESTIMONIALS */
      const testi = d.testimonials || fallback.testimonials;
      $("testiTitle").textContent = testi.title || fallback.testimonials.title;
      $("testiSubtitle").textContent = testi.subtitle || fallback.testimonials.subtitle;
      const qItems = isArr(testi.items) ? testi.items : fallback.testimonials.items;

      $("testiTrack").innerHTML = qItems.map(q => `
        <div class="quote">
          <p>â€œ${esc(q.text)}â€</p>
          <div class="by">â€” ${esc(q.by || "×ª×œ××™×“/×”")}</div>
        </div>
      `).join("");

      $("testiDots").innerHTML = qItems.map((_, i) => `
        <button class="dot ${i===0 ? "active":""}" type="button" aria-label="×¦×™×˜×•×˜ ${i+1}" data-dot="${i}"></button>
      `).join("");

      currentTestimonialsIndex = 0;
      moveTestimonials(0, true);

      /* TEAM */
      const team = d.team || fallback.team;
      $("teamTitle").textContent = team.title || fallback.team.title;
      $("teamSubtitle").textContent = team.subtitle || fallback.team.subtitle;
      const members = isArr(team.members) ? team.members : fallback.team.members;

      renderTeam(members);

      /* GALLERY */
      const gallery = d.gallery || fallback.gallery;
      $("galleryTitle").textContent = gallery.title || fallback.gallery.title;
      $("gallerySubtitle").textContent = gallery.subtitle || fallback.gallery.subtitle;

      const main = gallery.main || fallback.gallery.main;
      $("gMain").setAttribute("data-lb", main.url);
      $("gMain").setAttribute("data-title", main.title || "");
      $("gMainImg").src = main.url;
      $("gMainImg").alt = main.alt || main.title || "×ª××•× ×”";
      $("gMainCap").textContent = main.caption || main.title || "×ª××•× ×”";

      const items = isArr(gallery.items) ? gallery.items : fallback.gallery.items;
      $("gMini").innerHTML = items.map(g => `
        <div class="ph reveal" data-lb="${esc(g.url)}" data-title="${esc(g.title||"")}">
          <img src="${esc(g.url)}" alt="${esc(g.alt || g.title || "×ª××•× ×”")}">
        </div>
      `).join("");

      /* FAQ */
      const faq = d.faq || fallback.faq;
      $("faqTitle").textContent = faq.title || fallback.faq.title;
      $("faqSubtitle").textContent = faq.subtitle || fallback.faq.subtitle;
      const faqItems = isArr(faq.items) ? faq.items : fallback.faq.items;

      $("faqGrid").innerHTML = faqItems.map((x, idx) => `
        <div class="qa reveal" data-faq="${idx}">
          <button type="button" class="q">
            ${esc(x.q)}
            <span class="chev">â–¾</span>
          </button>
          <div class="a">${esc(x.a)}</div>
        </div>
      `).join("");

      $("faqEmpty").style.display = "none";

      /* CTA */
      const cta = d.cta || fallback.cta;
      $("ctaText").innerHTML = cta.textHtml || fallback.cta.textHtml;
      const acts = isArr(cta.actions) ? cta.actions : fallback.cta.actions;
      $("ctaActions").innerHTML = acts.map(a => `
        <a href="${esc(a.href)}" class="btn ${esc(a.type||"")}">${esc(a.icon||"")} ${esc(a.text)}</a>
      `).join("");

      // after render: reveal observer + counters
      initReveal();
      initCounters();
      initFaqSearch(faqItems);
      startTestimonialsAuto(qItems);
    }

    function renderTeam(members){
      const wrap = document.querySelector(".team-wrap");
      wrap.innerHTML = ""; // rebuild

      const el = document.createElement("div");
      el.id = "teamGrid";
      el.className = teamMode === "grid" ? "team-grid" : "team-list";

      el.innerHTML = members.map(m => {
        const hasImg = !!m.photoUrl;
        const avatar = hasImg
          ? `<div class="avatar"><img src="${esc(m.photoUrl)}" alt="${esc(m.name)}"></div>`
          : `<div class="avatar"><div class="circle">${esc(m.initials || (m.name||"").slice(0,1))}</div></div>`;

        const tags = isArr(m.tags) ? m.tags : [];
        const tagHtml = tags.length
          ? `<div class="member-meta">${tags.map(t => `<span class="badge">${esc(t)}</span>`).join("")}</div>`
          : "";

        return `
          <div class="member reveal">
            ${avatar}
            <div class="m-body">
              <h3 style="margin:0;">${esc(m.name)}</h3>
              <div class="role">${esc(m.role)}</div>
              <p>${esc(m.bio)}</p>
              ${tagHtml}
            </div>
          </div>
        `;
      }).join("");

      wrap.appendChild(el);
    }

    /* ======================
       Firestore load
       ====================== */
    async function load(){
      try{
        const ref = doc(db, "siteContent", "about");
        const snap = await getDoc(ref);
        if(snap.exists()){
          render(snap.data());
        }else{
          render(fallback);
        }
      }catch(e){
        console.error(e);
        render(fallback);
      }
    }

    /* ======================
       Reveal
       ====================== */
    function initReveal(){
      const els = Array.from(document.querySelectorAll('.reveal'));
      if (!('IntersectionObserver' in window) || els.length === 0) {
        els.forEach(e => e.classList.add('in'));
        return;
      }
      const io = new IntersectionObserver((entries) => {
        entries.forEach((en) => {
          if (en.isIntersecting) {
            en.target.classList.add('in');
            io.unobserve(en.target);
          }
        });
      }, { threshold: 0.12, rootMargin: "0px 0px -10% 0px" });
      els.forEach(e => io.observe(e));
    }

    /* ======================
       Counters
       ====================== */
    function initCounters(){
      const nodes = Array.from(document.querySelectorAll('.value[data-count]'));
      if (nodes.length === 0) return;

      const animate = (el) => {
        const target = Number(el.getAttribute('data-count') || '0');
        const suffix = el.getAttribute('data-suffix') || '';
        const dur = 950;
        const t0 = performance.now();

        const step = (t) => {
          const p = Math.min(1, (t - t0) / dur);
          const eased = 1 - Math.pow(1 - p, 3);
          const val = Math.round(target * eased);
          el.textContent = String(val) + suffix;
          if (p < 1) requestAnimationFrame(step);
        };
        requestAnimationFrame(step);
      };

      if (!('IntersectionObserver' in window)) { nodes.forEach(animate); return; }

      const io = new IntersectionObserver((entries) => {
        entries.forEach((en) => {
          if (en.isIntersecting) { animate(en.target); io.unobserve(en.target); }
        });
      }, { threshold: 0.35 });

      nodes.forEach(n => io.observe(n));
    }

    /* ======================
       Mobile menu
       ====================== */
    (function(){
      const btn = document.getElementById('nav-toggle');
      const menu = document.getElementById('nav-mobile');
      if(!btn || !menu) return;

      const close = () => {
        menu.classList.remove('open');
        btn.setAttribute('aria-expanded','false');
        menu.setAttribute('aria-hidden','true');
      };

      btn.addEventListener('click', () => {
        const isOpen = menu.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(isOpen));
        menu.setAttribute('aria-hidden', String(!isOpen));
      });

      document.addEventListener('click', (e) => {
        if (!menu.classList.contains('open')) return;
        const inside = menu.contains(e.target) || btn.contains(e.target);
        if (!inside) close();
      });

      menu.querySelectorAll('a').forEach(a => a.addEventListener('click', close));
    })();

    /* ======================
       FAQ accordion + search
       ====================== */
    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".qa button");
      if(!btn) return;
      btn.closest(".qa").classList.toggle("open");
    });

    function initFaqSearch(faqItems){
      const input = $("faqSearch");
      if(!input) return;

      const apply = () => {
        const q = input.value.trim().toLowerCase();
        const boxes = Array.from(document.querySelectorAll(".qa"));
        let shown = 0;

        boxes.forEach((box, idx) => {
          const item = faqItems[idx];
          const text = ((item?.q||"") + " " + (item?.a||"")).toLowerCase();
          const ok = q === "" ? true : text.includes(q);
          box.style.display = ok ? "" : "none";
          if(ok) shown++;
        });

        $("faqEmpty").style.display = shown === 0 ? "block" : "none";
      };

      input.addEventListener("input", apply);
      apply();
    }

    /* ======================
       Lightbox
       ====================== */
    (function(){
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lbImg');
      const lbTitle = document.getElementById('lbTitle');
      const lbClose = document.getElementById('lbClose');
      if(!lb || !lbImg || !lbClose) return;

      const open = (src, title) => {
        lb.classList.add('open');
        lb.setAttribute('aria-hidden','false');
        lbImg.src = src;
        lbImg.alt = title || '×ª××•× ×”';
        lbTitle.textContent = title || '×ª××•× ×”';
        document.body.style.overflow = 'hidden';
      };
      const close = () => {
        lb.classList.remove('open');
        lb.setAttribute('aria-hidden','true');
        lbImg.src = '';
        document.body.style.overflow = '';
      };

      document.addEventListener("click", (e) => {
        const el = e.target.closest("[data-lb]");
        if(!el) return;
        const src = el.getAttribute("data-lb");
        const title = el.getAttribute("data-title") || "";
        if(src) open(src, title);
      });

      lbClose.addEventListener('click', close);
      lb.addEventListener('click', (e) => { if(e.target === lb) close(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') close(); });
    })();

    /* ======================
       Testimonials slider
       ====================== */
    function moveTestimonials(idx, instant=false){
      const track = $("testiTrack");
      const dots = Array.from(document.querySelectorAll(".dot"));
      if(!track) return;

      const cards = track.children.length;
      if(cards === 0) return;

      currentTestimonialsIndex = Math.max(0, Math.min(cards-1, idx));

      const card = track.children[0];
      const gap = 12;
      const moveBy = (card.getBoundingClientRect().width + gap) * currentTestimonialsIndex;

      track.style.transition = instant ? "none" : "transform .35s ease";
      track.style.transform = `translateX(${moveBy}px)`;

      dots.forEach((d, i) => d.classList.toggle("active", i === currentTestimonialsIndex));
    }

    function startTestimonialsAuto(items){
      if(testimonialsTimer) clearInterval(testimonialsTimer);
      if(!items || items.length <= 1) return;

      testimonialsTimer = setInterval(() => {
        const next = (currentTestimonialsIndex + 1) % items.length;
        moveTestimonials(next);
      }, 5200);
    }

    document.addEventListener("click", (e) => {
      const d = e.target.closest(".dot");
      if(d){
        const idx = Number(d.getAttribute("data-dot"));
        if(Number.isFinite(idx)) moveTestimonials(idx);
      }
    });

    $("testiPrev")?.addEventListener("click", () => moveTestimonials(currentTestimonialsIndex - 1));
    $("testiNext")?.addEventListener("click", () => moveTestimonials(currentTestimonialsIndex + 1));

    /* ======================
       Team view toggle
       ====================== */
    function setTeamMode(mode){
      teamMode = mode;
      $("teamGridBtn").classList.toggle("active", mode==="grid");
      $("teamListBtn").classList.toggle("active", mode==="list");

      if(window.__aboutLastData){
        const members = (window.__aboutLastData.team?.members && Array.isArray(window.__aboutLastData.team.members))
          ? window.__aboutLastData.team.members
          : fallback.team.members;
        renderTeam(members);
        initReveal();
      }
    }

    $("teamGridBtn")?.addEventListener("click", () => setTeamMode("grid"));
    $("teamListBtn")?.addEventListener("click", () => setTeamMode("list"));

    /* ======================
       Scroll progress + to top
       ====================== */
    (function(){
      const bar = $("scrollBar");
      const toTop = $("toTop");

      const onScroll = () => {
        const h = document.documentElement;
        const scrolled = h.scrollTop || document.body.scrollTop;
        const max = (h.scrollHeight - h.clientHeight) || 1;
        const pct = Math.max(0, Math.min(1, scrolled / max));
        if(bar) bar.style.width = (pct * 100).toFixed(2) + "%";

        if(toTop){
          toTop.classList.toggle("show", scrolled > 800);
        }
      };

      window.addEventListener("scroll", onScroll, { passive:true });
      onScroll();
    })();

    /* ======================
       Theme toggle icon sync (optional)
       ====================== */
    (function(){
      const btn = $("theme-toggle");
      if(!btn) return;

      const sync = () => {
        const isLight = document.documentElement.getAttribute("data-theme") === "light";
        btn.textContent = isLight ? "â˜€ï¸" : "ğŸŒ™";
      };

      const mo = new MutationObserver(sync);
      mo.observe(document.documentElement, { attributes:true, attributeFilter:["data-theme"] });
      sync();
    })();

    /* ======================
       Edit Mode (JSON) â€” ?edit=1
       ====================== */
    (function(){
      const params = new URLSearchParams(location.search);
      const enabled = params.has("edit");
      const fab = $("editFab");
      const modal = $("editModal");
      const area = $("editArea");
      const status = $("editStatus");

      if(!enabled || !fab || !modal || !area) return;
      fab.style.display = "inline-flex";

      const ref = doc(db, "siteContent", "about");

      const setStatus = (txt) => { if(status) status.textContent = txt; };

      const open = () => {
        modal.classList.add("open");
        modal.setAttribute("aria-hidden","false");
        document.body.style.overflow = "hidden";
        area.value = JSON.stringify(window.__aboutLastData || fallback, null, 2);
        setStatus("××•×›×Ÿ.");
      };

      const close = () => {
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden","true");
        document.body.style.overflow = "";
      };

      const validate = () => {
        try{
          JSON.parse(area.value);
          setStatus("âœ… JSON ×ª×§×™×Ÿ.");
        }catch(e){
          setStatus("âŒ JSON ×œ× ×ª×§×™×Ÿ: " + (e?.message || "×©×’×™××”"));
        }
      };

      const save = async () => {
        try{
          const parsed = JSON.parse(area.value);
          setStatus("×©×•××¨...");
          await setDoc(ref, parsed); // ×¨×™×¤×œ×™×™×¡ ××œ×
          window.__aboutLastData = parsed;
          render(parsed);
          setStatus("âœ… × ×©××¨! (Firestore ×¢×•×“×›×Ÿ)");
        }catch(e){
          console.error(e);
          const msg = String(e?.message || e || "×©×’×™××”");
          if(msg.toLowerCase().includes("permission")){
            setStatus("âŒ ××™×Ÿ ×”×¨×©××” ×œ×©××•×¨ (Firestore rules).");
          }else{
            setStatus("âŒ ×©×’×™××” ×‘×©××™×¨×”: " + msg);
          }
        }
      };

      const copy = async () => {
        try{
          await navigator.clipboard.writeText(area.value);
          setStatus("ğŸ“‹ ×”×•×¢×ª×§.");
        }catch(e){
          setStatus("âŒ ×œ× ×”×¦×œ×—×ª×™ ×œ×”×¢×ª×™×§ (×“×¤×“×¤×Ÿ).");
        }
      };

      const reset = () => {
        area.value = JSON.stringify(window.__aboutLastData || fallback, null, 2);
        setStatus("â†©ï¸ ×”×•×—×–×¨.");
      };

      fab.addEventListener("click", open);
      $("editCloseTop")?.addEventListener("click", close);

      $("editValidate")?.addEventListener("click", validate);
      $("editSave")?.addEventListener("click", save);
      $("editCopy")?.addEventListener("click", copy);
      $("editReset")?.addEventListener("click", reset);

      modal.addEventListener("click", (e) => { if(e.target === modal) close(); });
      document.addEventListener("keydown", (e) => { if(e.key === "Escape" && modal.classList.contains("open")) close(); });
    })();

    /* ======================
       Load
       ====================== */
    async function boot(){
      try{
        const ref = doc(db, "siteContent", "about");
        const snap = await getDoc(ref);
        const data = snap.exists() ? snap.data() : fallback;
        window.__aboutLastData = data;
        render(data);
      }catch(e){
        console.error(e);
        window.__aboutLastData = fallback;
        render(fallback);
      }
    }

    boot();
  </script>

  <script src="accessibility.js"></script>
  <script type="module" src="app.js"></script>
</body>
</html>
