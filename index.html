<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <!-- BASIC -->
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Language" content="he" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- TITLE -->
  <title>×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ â€“ ×”××ª×¨ ×”×¨×©××™</title>

  <!-- SEO -->
  <meta name="description" content="×”××ª×¨ ×”×¨×©××™ ×©×œ ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ ×‘××’×“×œ ×”×¢××§. ×—×“×©×•×ª, ×œ×•×— ××‘×—× ×™×, ×œ×•×— ××•×“×¢×•×ª, ××™×“×¢ ×œ×©×›×‘×•×ª ×–'-×˜' ×•×™×¦×™×¨×ª ×§×©×¨ ×¢× ×¦×•×•×ª ×‘×™×ª ×”×¡×¤×¨ â€“ ×”×›×œ ×‘××§×•× ××—×“." />
  <meta name="keywords" content="×™×¢×¨×ª ×”×¢××§, ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§, ×—×˜×™×‘×ª ×‘×™× ×™×™×, ××’×“×œ ×”×¢××§, ×©×›×‘×ª ×–, ×©×›×‘×ª ×—, ×©×›×‘×ª ×˜, ×—×“×©×•×ª ×‘×™×ª ×¡×¤×¨, ××‘×—× ×™×" />
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />

  <!-- CANONICAL -->
  <link rel="canonical" href="https://yaarathaemek.online/" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#2563eb" />
  <meta name="application-name" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§" />
  <meta name="apple-mobile-web-app-title" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§" />

  <!-- FAVICONS (×ª××•× ×” ×§×˜× ×” ×‘×’×•×’×œ ×œ×¨×•×‘ ××’×™×¢×” ××¤×”) -->
  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  <!-- GOOGLE VERIFICATION -->
  <meta name="google-site-verification" content="014e0d8fdc8f329c" />

  <!-- OPEN GRAPH (×ª××•× ×” ×œ×©×™×ª×•×£/×ª×¦×•×’×”) -->
  <meta property="og:title" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ â€“ ×”××ª×¨ ×”×¨×©××™" />
  <meta property="og:description" content="×—×“×©×•×ª, ××‘×—× ×™×, ×œ×•×— ××•×“×¢×•×ª ×•××™×“×¢ ×œ×ª×œ××™×“×™× ×•×œ×”×•×¨×™× â€“ ×‘××ª×¨ ×”×¨×©××™ ×©×œ ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="he_IL" />
  <meta property="og:site_name" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§" />
  <meta property="og:url" content="https://yaarathaemek.online/" />

  <!-- âœ… ×ª××•× ×ª ×©×™×ª×•×£ ×××™×ª×™×ª 1200x630 -->
  <meta property="og:image" content="https://yaarathaemek.online/og-image.png" />
  <meta property="og:image:secure_url" content="https://yaarathaemek.online/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ â€“ ××ª×¨ ×¨×©××™" />

  <!-- TWITTER -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ â€“ ×”××ª×¨ ×”×¨×©××™" />
  <meta name="twitter:description" content="×›×œ ×”××™×“×¢ ×¢×œ ×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§ ×‘××§×•× ××—×“." />
  <meta name="twitter:image" content="https://yaarathaemek.online/og-image.png" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "×—×˜×™×‘×ª ×”× ×¢×•×¨×™× ×™×¢×¨×ª ×”×¢××§",
    "url": "https://yaarathaemek.online/",
    "logo": "https://yaarathaemek.online/logo.png"
  }
  </script>

  <!-- LOCAL -->
  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="style.css" />

 
  <style>

    /* ---------- POLL (×¡×§×¨ ×”×©×‘×•×¢) ---------- */
    #home-poll-mini{ padding:32px 0; }

    .home-poll-card{
      max-width:720px; margin:0 auto;
      border-radius:24px;
      padding:18px 18px 14px;
      background: rgba(15,23,42,0.96);
      border:1px solid rgba(148,163,184,0.5);
      box-shadow:0 18px 45px rgba(15,23,42,0.85);
      transition: background-color .25s ease, border-color .25s ease, box-shadow .25s ease, color .25s ease;
    }
    .home-poll-header{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; margin-bottom:10px; }
    .home-poll-badge{
      border-radius:999px; padding:4px 10px;
      font-size:.75rem;
      background:rgba(56,189,248,0.14);
      border:1px solid rgba(56,189,248,0.7);
      color:#bae6fd;
    }
    .home-poll-status-text{ font-size:.8rem; color:#9ca3af; }
    .home-poll-body{ margin-bottom:10px; }
    .home-poll-question{ font-size:1rem; font-weight:600; margin-bottom:8px; color:#e5f0ff; }

    .home-poll-options{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
    .home-poll-option{
      border-radius:999px;
      padding:6px 10px;
      background:rgba(15,23,42,0.9);
      border:1px solid rgba(51,65,85,0.9);
      font-size:.85rem;
      color:#e5e7eb;
      display:flex; justify-content:space-between; align-items:center; gap:6px;
    }
    .home-poll-option-label{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .home-poll-option-votes{ font-size:.75rem; color:#cbd5f5; white-space:nowrap; }

    .home-poll-footer{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; font-size:.8rem; }
    .home-poll-votes{ color:#9ca3af; }
    .home-poll-link{
      font-size:.8rem; text-decoration:none;
      border-radius:999px; padding:6px 10px;
      border:1px solid rgba(56,189,248,0.7);
      background:rgba(15,23,42,0.9);
      color:#7dd3fc;
    }
    .home-poll-link:hover{ text-decoration:underline; }

    :root[data-theme="light"] .home-poll-card{ background:#fff; border-color:rgba(15,23,42,0.08); box-shadow:0 12px 35px rgba(15,23,42,0.08); }
    :root[data-theme="light"] .home-poll-badge{ background:rgba(37,99,235,0.1); border-color:rgba(37,99,235,0.55); color:#1d4ed8; }
    :root[data-theme="light"] .home-poll-status-text{ color:#4b5563; }
    :root[data-theme="light"] .home-poll-question{ color:#111827; }
    :root[data-theme="light"] .home-poll-option{ background:#f9fafb; border-color:#e5e7eb; color:#111827; }
    :root[data-theme="light"] .home-poll-option-votes{ color:#4b5563; }
    :root[data-theme="light"] .home-poll-votes{ color:#6b7280; }
    :root[data-theme="light"] .home-poll-link{ background:#eff6ff; border-color:#2563eb; color:#1d4ed8; }
    @media (max-width:640px){ .home-poll-card{ padding:16px 14px 12px; } }

    #home-news .home-board-list > *:not(:first-child){ display:none !important; }
    #home-news .home-board-list p{
      display:-webkit-box;
      -webkit-line-clamp:4;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }

    .home-news-mini{ margin-top:8px; }
    .home-news-mini-item{ display:flex; align-items:center; gap:10px; }
    .home-news-mini-thumb-wrap{ flex:0 0 56px; height:56px; border-radius:12px; overflow:hidden; }
    .home-news-mini-thumb-wrap img{ width:100%; height:100%; object-fit:cover; display:block; }
    .home-news-mini-text{ flex:1; min-width:0; }
    .home-news-mini-title{ font-size:.9rem; font-weight:600; margin-bottom:2px; }
    .home-news-mini-body{ font-size:.8rem; color:#4b5563; max-height:2.6em; overflow:hidden; text-overflow:ellipsis; }
    .home-news-mini-empty{ font-size:.8rem; color:#6b7280; }
    .mini-link-inline{ display:inline-block; margin-top:4px; font-size:.78rem; }

    .hero-home-inner{
      position:relative; z-index:1;
      padding-top:64px; padding-bottom:40px;
      display:flex; flex-direction:column; gap:24px;
    }
    .hero-home-header{ max-width:720px; margin:0 auto 8px; text-align:center; }
    .hero-home-cards{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:18px; margin-top:18px; }
    .hero-quick-card ul{ margin:10px 0 0; padding-inline-start:1.1rem; font-size:.9rem; }
    @media (max-width:900px){
      .hero-home-inner{ padding-top:40px; }
      .hero-home-cards{ grid-template-columns:1fr; }
    }

    body[data-page="home"] .hero-home-header h1,
    body[data-page="home"] #hero-main-title{
      color:#fff;
      text-shadow:
        0 2px 16px rgba(0,0,0,.55),
        0 0 26px rgba(56,189,248,.35);
    }
    body[data-page="home"] .hero-home-header p,
    body[data-page="home"] #hero-main-body{
      color: rgba(255,255,255,.92);
      text-shadow: 0 2px 14px rgba(0,0,0,.45);
    }

    .hero.hero-home .hero-overlay{
      opacity: .38;
    }

    .hero-home-header .hero-glow-line{
      display:block;
      width:min(680px, 92vw);
      height:4px;
      margin:16px auto 0;
      border-radius:999px;
      background: linear-gradient(
        90deg,
        transparent 0%,
        #60a5fa 20%,
        #38bdf8 50%,
        #60a5fa 80%,
        transparent 100%
      );
      background-size:200% 100%;
      box-shadow: 0 0 18px rgba(56,189,248,.35), 0 8px 28px rgba(37,99,235,.25);
      opacity:.95;
      animation: heroGlowMove 5s linear infinite;
    }
    @keyframes heroGlowMove{
      from{ background-position:0% 50%; }
      to{ background-position:200% 50%; }
    }
    @media (max-width:768px){
      .hero-home-header .hero-glow-line{ height:3px; }
    }

    .hero-actions a,
    .hero-actions .btn,
    .hero-actions .btn-outline{
      border-radius:999px;
      padding:10px 18px;
      font-weight:800;
      letter-spacing:.2px;
      background: rgba(255,255,255,0.75);
      color:#0f172a;
      border:1px solid rgba(255,255,255,0.6);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow:0 8px 24px rgba(15,23,42,0.18);
      transition: all .25s ease;
    }
    .hero-actions a:hover{
      background: rgba(37,99,235,0.9);
      color:#fff;
      border-color: transparent;
      box-shadow:0 12px 35px rgba(37,99,235,0.45);
      transform: translateY(-1px);
    }
    html[data-theme="dark"] .hero-actions a,
    html[data-theme="dark"] .hero-actions .btn,
    html[data-theme="dark"] .hero-actions .btn-outline{
      background: rgba(255,255,255,0.18);
      color:#fff;
      border:1px solid rgba(255,255,255,0.35);
      box-shadow:0 10px 30px rgba(0,0,0,0.35);
    }

    .hero-home-cards .grade-card{
      border-radius:18px;
      padding:18px 18px 16px;
      border:1px solid rgba(255,255,255,0.40);
      background: rgba(255,255,255,0.92); /* ×¨×’×™×œ â€“ ×‘×¨×•×¨ */
      box-shadow:0 10px 26px rgba(15,23,42,0.12);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }

    .hero-home-cards .grade-card:hover{
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(12px) saturate(135%);
      -webkit-backdrop-filter: blur(12px) saturate(135%);
      transform: translateY(-4px);
      box-shadow:0 18px 45px rgba(15,23,42,0.18);
      border-color: rgba(37,99,235,0.22);
    }

    .hero-home-cards .grade-card h3{
      margin:0 0 8px;
      font-size:1.05rem;
      font-weight:800;
      letter-spacing:.2px;
      color: rgba(15,23,42,0.92);
    }
    .hero-home-cards .grade-card p,
    .hero-home-cards .grade-card li{
      color: rgba(15,23,42,0.72);
      line-height:1.55;
    }

    .hero-home-cards .grade-card:nth-child(2){
      border-color: rgba(37,99,235,0.20);
      box-shadow:0 14px 34px rgba(37,99,235,0.10);
      position: relative;
    }
    .hero-home-cards .grade-card:nth-child(2)::before{
      content:"";
      position:absolute;
      inset:12px auto 12px 12px;
      width:4px;
      border-radius:999px;
      background: rgba(37,99,235,0.50);
    }

    /* DARK */
    html[data-theme="dark"] .hero-home-cards .grade-card{
      background: rgba(15,23,42,0.88);
      border-color: rgba(148,163,184,0.22);
      box-shadow:0 14px 40px rgba(0,0,0,0.45);
    }
    html[data-theme="dark"] .hero-home-cards .grade-card:hover{
      background: rgba(15,23,42,0.45);
      backdrop-filter: blur(12px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
      border-color: rgba(56,189,248,0.28);
    }
    html[data-theme="dark"] .hero-home-cards .grade-card h3{ color: rgba(255,255,255,0.92); }
    html[data-theme="dark"] .hero-home-cards .grade-card p,
    html[data-theme="dark"] .hero-home-cards .grade-card li{ color: rgba(255,255,255,0.74); }
    html[data-theme="dark"] .hero-home-cards .grade-card:nth-child(2)::before{ background: rgba(56,189,248,0.55); }

    @media (max-width:900px){
      .hero-home-cards .grade-card{
        padding:16px 14px 14px;
        border-radius:16px;
      }
      .hero-home-cards .grade-card:hover{
        backdrop-filter: blur(10px) saturate(125%);
        -webkit-backdrop-filter: blur(10px) saturate(125%);
      }
      .hero-home-cards .grade-card:nth-child(2)::before{
        inset:12px auto 12px 10px;
      }
    }

    /* ---------- ALL NEWS BUTTON ---------- */
    .all-news-btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 18px; margin-top:12px;
      font-size:.9rem; font-weight:600;
      text-decoration:none;
      color:#2563eb; background:#eff6ff;
      border:1px solid #bfdbfe; border-radius:999px;
      transition: background .25s ease, color .25s ease, transform .2s ease, box-shadow .25s ease;
    }
    .all-news-btn::before{ content:"ğŸ“°"; font-size:.95rem; }
    .all-news-btn:hover{ background:#2563eb; color:#fff; transform:translateY(-1px); box-shadow:0 8px 20px rgba(37,99,235,0.35); }
    :root[data-theme="dark"] .all-news-btn{ background:rgba(37,99,235,0.15); color:#93c5fd; border-color:rgba(37,99,235,0.4); }
    :root[data-theme="dark"] .all-news-btn:hover{ background:#2563eb; color:#fff; }

    .nav.nav-centered{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:10px 0; position:relative;
    }
    .nav-side{ display:flex; gap:10px; align-items:center; flex:1; }
    .nav-right-links{ justify-content:flex-start; }
    .nav-left-links{ justify-content:flex-end; }

    .logo-circle{
      width:74px; height:74px;
      border-radius:999px; overflow:hidden;
      border:2px solid rgba(59,130,246,0.35);
      background: rgba(255,255,255,0.9);
      box-shadow:0 10px 25px rgba(15,23,42,0.12);
      display:flex; align-items:center; justify-content:center;
    }
    .logo-img{ width:100%; height:100%; object-fit:cover; }
    html[data-theme="dark"] .logo-circle{
      background: rgba(15,23,42,0.55);
      border-color: rgba(56,189,248,0.35);
    }
    @media (max-width:900px){
      .logo-circle{ width:64px; height:64px; }
    }

    .nav-side a{
      padding:8px 14px;
      border-radius:999px;
      background: rgba(255,255,255,0.92);
      border:1px solid rgba(148,163,184,0.55);
      color:#0f172a;
      box-shadow:0 8px 20px rgba(15,23,42,0.08);
      font-size:.92rem;
      font-weight:600;
      letter-spacing:.2px;
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .nav-side a:hover{
      transform: translateY(-1px);
      box-shadow:0 12px 28px rgba(15,23,42,0.12);
      background:#eff6ff;
    }
    html[data-theme="dark"] .nav-side a{
      background: rgba(15,23,42,0.55);
      color:#e5e7eb;
      border-color: rgba(148,163,184,0.35);
    }
    .nav-side .personal-btn{
      background:#1d4ed8;
      color:#fff;
      border:none;
      font-weight:800;
    }
    .nav-side .btn-outline{ opacity:.85; }

    .theme-toggle-btn{
      all:unset;
      box-sizing:border-box;
      width:44px; height:44px;
      border-radius:50%;
      display:inline-flex; align-items:center; justify-content:center;
      cursor:pointer;
      border:1px solid rgba(148,163,184,0.6);
      background: rgba(255,255,255,0.92);
      box-shadow:0 8px 20px rgba(15,23,42,0.08);
      font-size:1.4rem;
      z-index:50;
    }
    html[data-theme="dark"] .theme-toggle-btn{ background: rgba(15,23,42,0.9); color:#f9fafb; }

    .nav-toggle{ display:none; }
    .nav-mobile{ display:none; }

    @media (max-width:900px){
      .nav-right-links, .nav-left-links{ display:none !important; }
      .nav.nav-centered{ justify-content:center; min-height:70px; }

      .nav-toggle{
        display:flex;
        position:absolute;
        left:12px;
        top:50%;
        transform: translateY(-50%);
        flex-direction:column;
        gap:4px;
        background:none;
        border:none;
        cursor:pointer;
        z-index:9999;
      }
      .nav-toggle span{ width:22px; height:2px; background:#0f172a; }
      html[data-theme="dark"] .nav-toggle span{ background:#e5e7eb; }

      #theme-toggle.theme-toggle-btn{
        position:absolute;
        right:12px;
        top:50%;
        transform: translateY(-50%);
        z-index:9999;
      }

      #nav-mobile.nav-mobile{
        display:none;
        position:absolute;
        top: calc(100% + 10px);
        left: 6px;
        width: min(220px, calc(100% - 24px));
        background: rgba(255,255,255,0.98);
        border:1px solid rgba(148,163,184,0.45);
        border-radius:18px;
        padding:8px;
        box-shadow:0 18px 45px rgba(15,23,42,0.18);
        z-index:9999;
      }
      html[data-theme="dark"] #nav-mobile.nav-mobile{
        background: rgba(15,23,42,0.95);
        border-color: rgba(148,163,184,0.35);
      }
      #nav-mobile.nav-mobile.open{ display:block; }

      #nav-mobile.nav-mobile a{
        display:block;
        padding:9px 10px;
        border-radius:12px;
        margin:6px 0;
        background: rgba(255,255,255,0.9);
        border:1px solid rgba(148,163,184,0.45);
        color:#0f172a;
        font-weight:600;
      }
      html[data-theme="dark"] #nav-mobile.nav-mobile a{
        background: rgba(2,6,23,0.55);
        border-color: rgba(148,163,184,0.25);
        color:#e5e7eb;
      }
    }

    .home-class-card{ width:100%; max-width:680px; margin:0 auto; text-align:center; padding:18px; }
    .home-class-row{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center; }
    .home-class-row .select{ min-width:160px; }

    #urgent-wrap{ width:100%; }
    .urgent-bar{
      width:min(1200px, calc(100% - 28px));
      margin:18px auto;
      padding:10px 14px;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(251,191,36,.14);
      overflow:hidden;
    }
    .urgent-inner{ display:flex; align-items:center; gap:12px; }
    .urgent-badge{
      flex-shrink:0;
      font-weight:900;
      padding:6px 12px;
      border-radius:999px;
      background: rgba(15,23,42,.15);
      white-space:nowrap;
    }
    .urgent-marquee{ overflow:hidden; flex:1; }
    .urgent-marquee-text{
      display:inline-block;
      direction:rtl;
      unicode-bidi: plaintext;
      font-weight:900;
      white-space:nowrap;
      will-change: transform;
      animation: urgentMarquee var(--urgent-speed, 14s) linear infinite;
      background: linear-gradient(90deg, #2563eb, #0f172a, #f59e0b);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    @keyframes urgentMarquee{
      from{ transform: translateX(0); }
      to{ transform: translateX(-100%); }
    }
    @media (max-width:768px){
      .urgent-marquee-text{ animation-duration:22s; padding-right:24px; }
    }


    /* ADMIN â€“ ×›×—×•×œ ×‘×¨×•×¨ */
    html[data-theme="dark"] .nav-side a.btn-outline,
    html[data-theme="dark"] .nav-side a[href*="admin"]{
      background: rgba(37, 99, 235, 0.85);
      color: #ffffff;
      border: 1px solid rgba(147,197,253,0.6);
      box-shadow:
        0 8px 26px rgba(37,99,235,0.45),
        0 0 0 1px rgba(255,255,255,0.08) inset;
    }

    html[data-theme="dark"] .nav-side a[href*="admin"]:hover{
      background: #2563eb;
      box-shadow:
        0 14px 40px rgba(37,99,235,0.65),
        0 0 24px rgba(56,189,248,0.45);
      transform: translateY(-1px);
    }

    html[data-theme="dark"] .nav-side .personal-btn{
      background: linear-gradient(135deg,#38bdf8,#2563eb) !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow:
        0 14px 42px rgba(37,99,235,0.55),
        0 0 26px rgba(56,189,248,0.45);
      font-weight: 900;
      letter-spacing: .3px;
    }
    html[data-theme="dark"] .nav-side .personal-btn:hover{
      filter: brightness(1.08);
      transform: translateY(-2px);
      box-shadow:
        0 18px 55px rgba(37,99,235,0.75),
        0 0 36px rgba(56,189,248,0.65);
    }

    /* ADMIN â€“ Light Mode */
    html[data-theme="light"] .nav-side a.btn-outline,
    html[data-theme="light"] .nav-side a[href*="admin"]{
      background: linear-gradient(135deg,#e0ecff,#c7ddff);
      color: #1d4ed8;
      border: 1px solid #93c5fd;
      box-shadow:
        0 6px 18px rgba(37,99,235,0.18),
        0 0 0 1px rgba(255,255,255,0.8) inset;
      font-weight: 700;
    }
    html[data-theme="light"] .nav-side a[href*="admin"]:hover{
      background: #2563eb;
      color: #ffffff;
      box-shadow: 0 12px 34px rgba(37,99,235,0.35);
      transform: translateY(-1px);
    }

    html[data-theme="light"] .nav-side .personal-btn{
      background: linear-gradient(135deg,#2563eb,#38bdf8) !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow:
        0 10px 30px rgba(37,99,235,0.35),
        0 0 0 1px rgba(255,255,255,0.35) inset;
      font-weight: 900;
      letter-spacing: .25px;
    }
    html[data-theme="light"] .nav-side .personal-btn:hover{
      filter: brightness(1.06);
      transform: translateY(-2px);
      box-shadow: 0 16px 44px rgba(37,99,235,0.45);
    }


/* 1) ×œ×”×¤×•×š ××ª ×”××¢×‘×¨ ×œ"×—×œ×§" */
.hero-home-cards .grade-card{
  will-change: transform, background-color, box-shadow, border-color;
  transition:
    transform .28s ease,
    background-color .28s ease,
    box-shadow .28s ease,
    border-color .28s ease;
}

.hero-home-cards .grade-card:hover{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  background: rgba(255,255,255,0.78) !important; /* ×—×œ×§ ×•×œ× ×§×™×¦×•× ×™ */
  transform: translateY(-4px) !important;
  box-shadow: 0 18px 45px rgba(15,23,42,0.18) !important;
  border-color: rgba(37,99,235,0.22) !important;
}

/* 3) ×‘×“××¨×§ â€“ ××•×ª×• ×¨×¢×™×•×Ÿ */
html[data-theme="dark"] .hero-home-cards .grade-card:hover{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  background: rgba(15,23,42,0.70) !important;
  transform: translateY(-4px) !important;
  box-shadow: 0 18px 45px rgba(0,0,0,0.45) !important;
  border-color: rgba(56,189,248,0.25) !important;
}

@media (hover: none){
  .hero-home-cards .grade-card:active,
  .hero-home-cards .grade-card:focus-within{
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: rgba(255,255,255,0.78) !important;
  }
  html[data-theme="dark"] .hero-home-cards .grade-card:active,
  html[data-theme="dark"] .hero-home-cards .grade-card:focus-within{
    background: rgba(15,23,42,0.70) !important;
  }
}

/* ×‘×¨×™×¨×ª ××—×“×œ: ×©×™×”×™×” ××¢×‘×¨ ×¢×“×™×Ÿ ×¨×§ ×‘×¦×‘×¢×™× (×œ× ×¤×™×œ×˜×¨×™×/blur) */
html, body, .header-main, .section-light, .section-dark-strong, .grade-card,
.nav-side a, .theme-toggle-btn, .btn, .btn-outline {
  transition: background-color .22s ease, color .22s ease, border-color .22s ease, box-shadow .22s ease;
}

/* âœ… ×‘×–××Ÿ ×”×—×œ×¤×ª ×“××¨×§/×œ×™×™×˜: ××‘×˜×œ ×”×›×œ ×›×“×™ ×©×œ× ×ª×¨××” "×‘×™× ×™×™×" ××›×•×¢×¨ */
html.theme-changing *,
html.theme-changing *::before,
html.theme-changing *::after {
  transition: none !important;
  animation: none !important;
}

/* ×× ×™×© ×œ×š blur / filters ××™×¤×©×”×• â€“ ×–×” ××” ×©×¢×•×©×” ××ª ×”-flash */
html.theme-changing .hero-overlay,
html.theme-changing .hero-home-cards .grade-card {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  filter: none !important;
}

/* ×—×©×•×‘: ××œ ×ª×¢×©×” ×›×¨×˜×™×¡×™× ×—×¦×™ ×©×§×•×¤×™× ×‘×–××Ÿ theme change */
html.theme-changing .hero-home-cards .grade-card{
  background-color: #ffffff !important;
}
html[data-theme="dark"].theme-changing .hero-home-cards .grade-card{
  background-color: #0f172a !important;
}
.teacher-portal-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:12px 14px;
  border-radius:14px;
  font-weight:900;
  font-size:14px;
  letter-spacing:.2px;
  text-decoration:none;

  color:#eafff4;
  background:linear-gradient(135deg, rgba(57,217,138,.95), rgba(34,197,94,.70));
  border:1px solid rgba(57,217,138,.35);

  box-shadow:
    0 10px 26px rgba(34,197,94,.22),
    inset 0 1px 0 rgba(255,255,255,.12);

  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

.teacher-portal-btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.05);
  box-shadow:
    0 14px 34px rgba(34,197,94,.28),
    inset 0 1px 0 rgba(255,255,255,.14);
}

.teacher-portal-btn:active{
  transform:translateY(0);
  filter:brightness(.98);
}

.teacher-portal-btn:focus-visible{
  outline:none;
  box-shadow:
    0 0 0 3px rgba(57,217,138,.25),
    0 14px 34px rgba(34,197,94,.28);
}
.nav-spacer{
  pointer-events: none;
  opacity: 0;
}
#hero-main-title {
  color: #0a0101;
  text-shadow:
    0 0 6px rgba(96,165,250,0.9),
    0 0 16px rgba(96,165,250,0.7),
    0 0 32px rgba(96,165,250,0.5);
}

#hero-main-body {
  color: #00143a;
  text-shadow:
    0 0 4px rgba(82, 62, 62, 0.6);
}
#hero-main-title {
  letter-spacing: 0.01em;
}
.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(146, 126, 126, 0.45),
    rgba(211, 186, 186, 0.6)
  );
  z-index: 1;
}
[data-theme="dark"] .hero-overlay {
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0.65),
    rgba(0,0,0,0.75)
  );
}
[data-theme="dark"] #hero-main-body {
  color: #ffffff;
  text-shadow:
    0 2px 4px rgba(3, 2, 2, 0.9),
    0 0 14px rgba(15, 15, 24, 0.6),
    0 0 28px rgba(36, 20, 20, 0.4);
}

/* =========================
   HOME CLASS PICKER â€“ NEW LOOK
   (×œ× ××©× ×” IDs, ×œ× ×©×•×‘×¨ JS)
========================= */
.home-class-wrap{
  width:100%;
  max-width:900px;
  margin:0 auto;
}

.home-class-panel{
  border-radius:24px;
  padding:18px 18px 16px;
  border:1px solid rgba(148,163,184,0.55);
  background: rgba(255,255,255,0.92);
  box-shadow: 0 18px 45px rgba(15,23,42,0.10);
  position:relative;
  overflow:hidden;
}

.home-class-panel::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(900px 240px at 80% -20%, rgba(37,99,235,.18), transparent 60%),
    radial-gradient(700px 220px at 10% 120%, rgba(56,189,248,.14), transparent 55%);
  pointer-events:none;
}

.home-class-head{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
  position:relative;
  z-index:1;
}

.home-class-icon{
  width:46px;
  height:46px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.35rem;
  background: rgba(37,99,235,0.10);
  border:1px solid rgba(37,99,235,0.22);
}

.home-class-title{
  font-weight:900;
  letter-spacing:.2px;
}

.home-class-subtitle{
  font-size:.9rem;
  color: rgba(15,23,42,0.70);
}

.home-class-form{
  display:grid;
  grid-template-columns: 110px 1fr 110px 1fr auto;
  gap:10px;
  align-items:center;
  position:relative;
  z-index:1;
}

.home-class-label{
  font-size:.85rem;
  font-weight:800;
  color: rgba(15,23,42,0.78);
}

.home-class-select{
  border-radius:14px;
  padding:10px 12px;
  border:1px solid rgba(148,163,184,0.55);
  background: rgba(255,255,255,0.9);
  box-shadow: 0 10px 22px rgba(15,23,42,0.06);
}

.home-class-go{
  border-radius:16px;
  padding:10px 16px;
  font-weight:900;
  box-shadow: 0 14px 34px rgba(37,99,235,0.20);
}



/* responsive */
@media (max-width:900px){
  .home-class-form{
    grid-template-columns: 1fr 1fr;
  }
  .home-class-label{ display:none; }
  .home-class-go{ grid-column: 1 / -1; }
}

/* dark mode */
html[data-theme="dark"] .home-class-panel{
  background: rgba(15,23,42,0.88);
  border-color: rgba(148,163,184,0.22);
  box-shadow: 0 18px 55px rgba(0,0,0,0.45);
}
html[data-theme="dark"] .home-class-icon{
  background: rgba(56,189,248,0.10);
  border-color: rgba(56,189,248,0.22);
}
html[data-theme="dark"] .home-class-subtitle{
  color: rgba(255,255,255,0.72);
}
html[data-theme="dark"] .home-class-label{
  color: rgba(255,255,255,0.78);
}
html[data-theme="dark"] .home-class-select{
  background: rgba(2,6,23,0.55);
  border-color: rgba(148,163,184,0.25);
  box-shadow: 0 10px 22px rgba(0,0,0,0.28);
  color:#e5e7eb;
}
html[data-theme="dark"] .home-class-hints .pill{
  background: rgba(255,255,255,0.06);
  border-color: rgba(148,163,184,0.22);
  color: rgba(255,255,255,0.72);
}
.site-footer{
  border-top: 1px solid rgba(148,163,184,.35);
  background: rgba(255,255,255,.92);
  padding: 14px 0;
}

html[data-theme="dark"] .site-footer{
  background: rgba(2,6,23,.55);
  border-top-color: rgba(148,163,184,.18);
}

.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.footer-copy{
  font-weight: 800;
  font-size: .92rem;
  opacity: .9;
  white-space: nowrap;
}

html[data-theme="dark"] .footer-copy{ color: #e5e7eb; opacity: .85; }

.footer-links{
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}

.footer-links a{
  text-decoration: none;
  font-weight: 800;
  font-size: .92rem;
  color: #0f172a;
  opacity: .85;
}

.footer-links a:hover{ opacity: 1; text-decoration: underline; }

html[data-theme="dark"] .footer-links a{
  color: #e5e7eb;
  opacity: .8;
}

.footer-right{
  display: flex;
  align-items: center;
  gap: 14px;
}

.footer-social{
  display: flex;
  gap: 10px;
  align-items: center;
}

.soc{
  width: 32px;
  height: 32px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  font-weight: 900;
  color: #fff;
  text-decoration: none;
  box-shadow: 0 10px 20px rgba(15,23,42,.12);
  transform: translateY(0);
  transition: transform .15s ease, box-shadow .15s ease;
}

.soc:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(15,23,42,.16);
}

/* ×¦×‘×¢×™× */
.soc.yt{ background:#ef4444; }
.soc.fb{ background:#2563eb; }
.soc.tt{ background:#06b6d4; }
.soc.ig{ background:#7c3aed; }

.footer-logo img{
  width: 90px;
  height: auto;
  display: block;
}

/* ×¨×¡×¤×•× ×¡×™×‘×™ ×œ××•×‘×™×™×œ */
@media (max-width: 860px){
  .footer-inner{
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .footer-copy{ order: 3; }
  .footer-links{ order: 2; }
  .footer-right{ order: 1; }
}
.site-footer{
  border-top: 1px solid rgba(148,163,184,.35);
  background: rgba(255,255,255,.92);
  padding: 14px 0;
}

html[data-theme="dark"] .site-footer{
  background: rgba(2,6,23,.55);
  border-top-color: rgba(148,163,184,.18);
}

.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.footer-right{
  display: flex;
  align-items: center;
  gap: 14px;
  flex: 1;
  justify-content: flex-start; /* ×‘-RTL ×–×” ×¦×“ ×™××™×Ÿ ×•×™×–×•××œ×™×ª */
}

.footer-logo img{
  width: 110px;
  height: auto;
  display: block;
}

.footer-social{
  display: flex;
  gap: 10px;
  align-items: center;
}

.soc-img{
  width: 34px;
  height: 34px;
  border-radius: 999px;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(148,163,184,.35);
  background: rgba(255,255,255,.9);
  box-shadow: 0 10px 20px rgba(15,23,42,.12);
  transition: transform .15s ease, box-shadow .15s ease;
}

.soc-img img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.soc-img:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(15,23,42,.16);
}

html[data-theme="dark"] .soc-img{
  background: rgba(15,23,42,.7);
  border-color: rgba(148,163,184,.18);
}

.footer-links{
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  flex: 2;
}

.footer-links a{
  text-decoration: none;
  font-weight: 800;
  font-size: .92rem;
  color: #0f172a;
  opacity: .85;
}

.footer-links a:hover{ opacity: 1; text-decoration: underline; }

html[data-theme="dark"] .footer-links a{
  color: #e5e7eb;
  opacity: .8;
}

.footer-left{
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
  flex: 1;
  text-align: left;
}

.footer-copy{
  font-weight: 800;
  font-size: .92rem;
  opacity: .9;
  white-space: nowrap;
}

html[data-theme="dark"] .footer-copy{ color: #e5e7eb; opacity: .85; }

.footer-devlink{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: fit-content;
  padding: 6px 12px;
  border-radius: 999px;
  text-decoration: none;
  font-weight: 900;
  font-size: .9rem;
  color: #0f172a;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(148,163,184,.55);
  box-shadow: 0 10px 22px rgba(15,23,42,.10);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}

.footer-devlink:hover{
  transform: translateY(-1px);
  background: #eff6ff;
  box-shadow: 0 14px 30px rgba(15,23,42,.14);
}

html[data-theme="dark"] .footer-devlink{
  color: #e5e7eb;
  background: rgba(15,23,42,.55);
  border-color: rgba(148,163,184,.22);
}

/* ××•×‘×™×™×œ */
@media (max-width: 860px){
  .footer-inner{
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .footer-right{ justify-content: center; }
  .footer-left{ align-items: center; }
  .footer-copy{ white-space: normal; }
}
.site-footer{
  border-top: 1px solid rgba(148,163,184,.25);
  background: rgba(255,255,255,.92);
  padding: 18px 0;
}

html[data-theme="dark"] .site-footer{
  background: rgba(2,6,23,.55);
  border-top-color: rgba(148,163,184,.18);
}

.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 18px;

  display: grid;
  grid-template-columns: 1fr auto 1fr; /* right | center | left */
  align-items: center;
  gap: 18px;
}

/* ===== RIGHT ===== */
.footer-right{
  display:flex;
  align-items:center;
  gap: 14px;
  justify-content:flex-start; /* RTL => ×¦×“ ×™××™×Ÿ ×•×™×–×•××œ×™×ª */
}

.footer-logo{
  height: 42px;
  width: auto;
  display:block;
  filter: drop-shadow(0 8px 18px rgba(15,23,42,.12));
}

.footer-social{display:flex;gap:10px;align-items:center}

.soc{
  width: 34px; height: 34px;
  border-radius: 999px;
  overflow:hidden;
  display:inline-flex;
  border:1px solid rgba(148,163,184,.35);
  background: rgba(255,255,255,.9);
  box-shadow: 0 10px 22px rgba(15,23,42,.10);
  transition: transform .15s ease, box-shadow .15s ease;
}
.soc img{width:100%;height:100%;object-fit:cover;display:block}
.soc:hover{transform:translateY(-1px);box-shadow:0 14px 30px rgba(15,23,42,.16)}

html[data-theme="dark"] .soc{
  background: rgba(15,23,42,.7);
  border-color: rgba(148,163,184,.18);
}

/* ===== CENTER ===== */
.footer-links{
  display:flex;
  gap: 18px;
  justify-content:center;
  flex-wrap:wrap;
}

.footer-links a{
  text-decoration:none;
  font-weight: 900;
  font-size: .92rem;
  color:#0f172a;
  opacity:.78;
  padding: 6px 10px;
  border-radius: 999px;
  transition: background .15s ease, opacity .15s ease;
}
.footer-links a:hover{
  opacity: 1;
  background: rgba(37,99,235,.08);
}

html[data-theme="dark"] .footer-links a{
  color:#e5e7eb;
  opacity:.8;
}
html[data-theme="dark"] .footer-links a:hover{
  background: rgba(56,189,248,.10);
}

/* ===== LEFT ===== */
.footer-left{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap: 6px;
}

.footer-copy{
  font-weight: 800;
  font-size: .92rem;
  opacity: .9;
  white-space: nowrap;
}

html[data-theme="dark"] .footer-copy{color:#e5e7eb;opacity:.85}

.footer-dev{
  text-decoration:none;
  font-weight: 900;
  font-size: .9rem;
  color:#0f172a;
  opacity:.85;
}
.footer-dev span{
  font-weight: 1000;
  text-decoration: underline;
  text-underline-offset: 4px;
}
.footer-dev:hover{opacity:1}

html[data-theme="dark"] .footer-dev{color:#e5e7eb}

/* ===== MOBILE ===== */
@media (max-width: 880px){
  .footer-inner{
    grid-template-columns: 1fr;
    text-align:center;
    justify-items:center;
  }
  .footer-right{justify-content:center}
  .footer-left{align-items:center}
  .footer-copy{white-space: normal}
}
/* ===== SITE FOOTER ===== */
.site-footer{
  border-top: 1px solid rgba(148,163,184,.25);
  background: #ffffff;
  padding: 22px 0;
}

html[data-theme="dark"] .site-footer{
  background: rgba(2,6,23,.65);
  border-top-color: rgba(148,163,184,.18);
}

/* inner layout */
.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 18px;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

/* shared side */
.footer-side{
  display: flex;
  align-items: center;
  gap: 16px;
}

/* RIGHT â€“ logo + socials */
.footer-right{
  justify-content: flex-end;
}

.footer-brand{
  display: inline-flex;
  align-items: center;
}

.footer-logo{
  height: 46px;
  width: auto;
  display: block;
}

/* socials */
.footer-social{
  display: flex;
  gap: 10px;
}

.footer-social .soc{
  width: 67px;
  height: 67px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  background: rgba(15,23,42,.05);
  border: 1px solid rgba(148,163,184,.35);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}

.footer-social .soc img{
  width: 67px;
  height: 67px;
  object-fit: contain;
}

.footer-social .soc:hover{
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(15,23,42,.18);
  background: rgba(59,130,246,.12);
}

html[data-theme="dark"] .footer-social .soc{
  background: rgba(15,23,42,.6);
  border-color: rgba(148,163,184,.22);
}

/* LEFT â€“ copyright + dev */
.footer-left{
  flex-direction: column;
  align-items: flex-start;
  gap: 6px;
}

.footer-copy{
  font-size: .95rem;
  font-weight: 700;
  opacity: .9;
}

.footer-dev{
  font-size: .9rem;
  text-decoration: none;
  color: #0f172a;
  font-weight: 800;
  opacity: .85;
}

.footer-dev span{
  font-weight: 900;
}

.footer-dev:hover{
  opacity: 1;
  text-decoration: underline;
}

html[data-theme="dark"] .footer-copy,
html[data-theme="dark"] .footer-dev{
  color: #e5e7eb;
}

/* ===== MOBILE ===== */
@media (max-width: 720px){
  .footer-inner{
    flex-direction: column;
    text-align: center;
  }

  .footer-left{
    align-items: center;
  }

  .footer-right{
    justify-content: center;
  }
}
/* ===== FOOTER LAYOUT ===== */
.site-footer{
  border-top: 1px solid rgba(148,163,184,.25);
  background: #fff;
  padding: 18px 0;
}

html[data-theme="dark"] .site-footer{
  background: rgba(2,6,23,.65);
  border-top-color: rgba(148,163,184,.18);
}

.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 18px;

  display: grid;
  grid-template-columns: 1fr auto 1fr; /* ×™××™×Ÿ | ×××¦×¢ | ×©×××œ */
  align-items: center;
}

/* ===== RIGHT: socials ===== */
.footer-right{
  display: flex;
  gap: 10px;
  justify-content: flex-start;
}

.footer-right .soc{
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;

  background: rgba(15,23,42,.05);
  border: 1px solid rgba(148,163,184,.35);
  transition: transform .15s ease, box-shadow .15s ease;
}

.footer-right .soc img{
  width: 18px;
  height: 18px;
}

.footer-right .soc:hover{
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(15,23,42,.18);
}

/* ===== CENTER: copyright ===== */
.footer-center{
  text-align: center;
  font-size: .95rem;
  font-weight: 700;
  opacity: .9;
}

/* ===== LEFT: developed by ===== */
.footer-left{
  display: flex;
  justify-content: flex-end;
}

.footer-dev{
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
  font-weight: 800;
  color: #0f172a;
}

.footer-dev img{
  width: 34px;
  height: 34px;
  border-radius: 50%;
  object-fit: cover;
}

.footer-dev:hover{
  text-decoration: underline;
}

html[data-theme="dark"] .footer-center,
html[data-theme="dark"] .footer-dev{
  color: #e5e7eb;
}

/* ===== MOBILE ===== */
@media (max-width: 720px){
  .footer-inner{
    grid-template-columns: 1fr;
    gap: 12px;
    text-align: center;
  }

  .footer-right,
  .footer-left{
    justify-content: center;
  }
}
.site-footer{
  background: #fff;
  border-top: 1px solid rgba(15,23,42,.08);
}

.footer-inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 12px 18px;

  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  align-items: center;
}

/* ×™××™×Ÿ â€“ ×¨×©×ª×•×ª */
.footer-right{
  display: flex;
  gap: 12px;
  justify-content: flex-end;
}

.footer-social .soc img{
  width: 34px;
  height: 34px;
  border-radius: 50%;
  border: 1px solid rgba(148,163,184,.35);
  padding: 4px;
  background: #fff;
  transition: transform .15s ease, box-shadow .15s ease;
}

.footer-social .soc img:hover{
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(15,23,42,.18);
}

/* ×××¦×¢ â€“ ×–×›×•×™×•×ª */
.footer-copy{
  text-align: center;
  font-weight: 700;
  color: #1e293b;
  font-size: .95rem;
}

/* ×©×××œ â€“ Developed by */
.footer-left{
  display: flex;
  justify-content: flex-start;
}

.footer-dev{
  font-weight: 700;
  text-decoration: none;
  color: #0f172a;
}

.footer-dev span{
  font-weight: 900;
}

/* ××•×‘×™×™×œ */
@media (max-width: 700px){
  .footer-inner{
    grid-template-columns: 1fr;
    gap: 10px;
    text-align: center;
  }

  .footer-right,
  .footer-left{
    justify-content: center;
  }
}
.site-footer{
  width: 100%;
  background: #fff;
  border-top: 1px solid rgba(15,23,42,.08);
}

.footer-inner{
  width: 100%;
  max-width: none;          /* âœ… ××‘×˜×œ ×”×’×‘×œ×” */
  margin: 0;                /* âœ… ×œ× ×××•×¨×›×– ×‘×ª×•×š ×§×•×¤×¡×” */
  padding: 18px 34px;       /* âœ… ××•×•×™×¨ */
  
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  align-items: center;
}
.footer-right{ justify-content: flex-end; }
.footer-left{ justify-content: flex-start; }
.footer-copy{ text-align: center; }
.footer-social{
  display:flex;
  gap: 14px;
  align-items:center;
}

.footer-social .soc img{
  width: 40px;
  height: 40px;
  border-radius: 999px;
}
.site-footer{
  width:100%;
  background:#ffffff;
  border-top:2px solid rgba(15,23,42,.12); /* ×¢×•×’×Ÿ */
}

.footer-inner{
  width:100%;
  max-width:none;
  margin:0;
  padding:20px 36px;          /* ×¤×—×•×ª ××•×•×™×¨ ××œ××¢×œ×” */
  
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  align-items:center;
}

/* ===== ××¨×›×– â€“ ×–×›×•×™×•×ª ===== */
.footer-copy{
  text-align:center;
  font-size:1.02rem;          /* â¬…ï¸ ×’×“×•×œ ×™×•×ª×¨ */
  font-weight:800;            /* â¬…ï¸ ××•×“×’×© */
  color:#0f172a;
}

/* ===== ×©×××œ â€“ Developed by ===== */
.footer-left{
  display:flex;
  align-items:center;
  gap:10px;
}

.footer-dev{
  font-size:.95rem;
  font-weight:800;
  color:#1e293b;
  text-decoration:underline;
}

.footer-dev span{
  font-weight:900;
}

/* ===== ×™××™×Ÿ â€“ ×¨×©×ª×•×ª ===== */
.footer-right{
  display:flex;
  justify-content:flex-end;
}

.footer-social{
  display:flex;
  gap:12px;
}

.footer-social img{
  width:67px;                 /* â¬…ï¸ ×§×¦×ª ×™×•×ª×¨ ×’×“×•×œ */
  height:67px;
  border-radius:70%;
  background:#fff;
  box-shadow:0 4px 12px rgba(15,23,42,.12); /* ×œ× ××¨×—×£ â€“ â€œ×™×•×©×‘â€ */
}
.footer-social{
  display:flex;
  gap:16px;               /* ×™×•×ª×¨ ×¨×•×•×— ×‘×™× ×™×”×Ÿ */
}

.footer-social img{
  width:67px;             /* â¬…ï¸ ×–×” ×”×¢×™×§×¨ */
  height:67px;
  border-radius:50%;
  background:#fff;
  padding:6px;            /* × ×•×ª×Ÿ â€œ×’×•×£â€ */
  box-shadow:0 6px 18px rgba(15,23,42,.18);
  transition:transform .2s ease, box-shadow .2s ease;
}

.footer-social img:hover{
  transform:translateY(-2px) scale(1.05);
  box-shadow:0 10px 26px rgba(15,23,42,.25);
}
.footer-social img{
  width:67px;
  height:67px;
}
.footer-social{
  display:flex;
  gap:22px;
  align-items:center;
}

.footer-social img{
  width:72px;          /* â¬…ï¸ ×’×“×•×œ. × ×§×•×“×”. */
  height:72px;
  border-radius:50%;

  background:#fff;
  padding:10px;

  box-shadow:
    0 8px 22px rgba(15,23,42,.22),
    inset 0 0 0 1px rgba(15,23,42,.08);

  transition:
    transform .18s ease,
    box-shadow .18s ease;
}

.footer-social img:hover{
  transform:translateY(-3px) scale(1.08);
  box-shadow:
    0 14px 36px rgba(15,23,42,.35);
}
/* âœ… Social buttons â€“ clean + not huge */
.site-footer .footer-right{
  display:flex !important;
  justify-content:flex-end !important;
  align-items:center !important;
  gap:14px !important;
}

.site-footer .footer-right .soc{
  width:52px !important;
  height:52px !important;
  border-radius:999px !important;
  overflow:hidden !important;

  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;

  background:#fff !important;
  border:1px solid rgba(15,23,42,.12) !important;
  box-shadow:0 6px 16px rgba(15,23,42,.10) !important;

  transition:transform .18s ease, box-shadow .18s ease !important;
}

.site-footer .footer-right .soc:hover{
  transform:translateY(-2px) !important;
  box-shadow:0 10px 24px rgba(15,23,42,.16) !important;
}

/* ×”×ª××•× ×” ×‘×¤× ×™×: ×œ× ×œ×”×ª×¤×•×¦×¥, ×œ×©×‘×ª ×™×¤×” */
.site-footer .footer-right .soc img{
  width:70% !important;
  height:70% !important;
  object-fit:contain !important;
  display:block !important;
}

/* ×“××¨×§ */
html[data-theme="dark"] .site-footer .footer-right .soc{
  background: rgba(15,23,42,.55) !important;
  border-color: rgba(148,163,184,.22) !important;
  box-shadow:0 8px 20px rgba(0,0,0,.35) !important;
}
/* ===== HERO MINI CARDS UPGRADE ===== */
.hero-mini-card{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.hero-mini-text{
  margin:0;
  font-size:.92rem;
  line-height:1.6;
}

/* label "×¢×“×›×•×Ÿ ××—×¨×•×Ÿ" */
.hero-latest-label{
  display:inline-flex;
  align-items:center;
  width:fit-content;
  padding:6px 12px;
  border-radius:999px;
  font-weight:1000;
  font-size:.92rem;
  color:#0b1220;
  background: rgba(15,23,42,.08);
  border:1px solid rgba(15,23,42,.10);
}

html[data-theme="dark"] .hero-latest-label{
  color:#ffffff;
  background: rgba(255,255,255,.08);
  border-color: rgba(148,163,184,.18);
}

.hero-latest-snippet{
  margin:0;
  font-size:.92rem;
  line-height:1.6;
  opacity:.92;
  display:-webkit-box;
  -webkit-line-clamp:2;      /* â¬…ï¸ ×¨×§ 2 ×©×•×¨×•×ª */
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.hero-latest-btn,
.hero-council-btn{
  margin-top:auto;
  display:inline-flex;
  justify-content:center;
  align-items:center;
  text-decoration:none;
  border-radius:999px;
  padding:10px 14px;
  font-weight:1000;
  font-size:.92rem;
  border:1px solid rgba(37,99,235,.25);
  background: rgba(37,99,235,.08);
  color:#1d4ed8;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}

.hero-latest-btn:hover,
.hero-council-btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(37,99,235,.18);
  background: rgba(37,99,235,.14);
}

html[data-theme="dark"] .hero-latest-btn,
html[data-theme="dark"] .hero-council-btn{
  color:#e5f0ff;
  border-color: rgba(56,189,248,.22);
  background: rgba(56,189,248,.10);
}

html[data-theme="dark"] .hero-latest-btn:hover,
html[data-theme="dark"] .hero-council-btn:hover{
  box-shadow: 0 18px 40px rgba(0,0,0,.35);
  background: rgba(56,189,248,.16);
}
.hero-latest-title{
  margin-top:2px;
  font-weight: 1000;
  font-size: 1rem;
  color: #0b1220;
}

html[data-theme="dark"] .hero-latest-title{
  color:#fff;
}

  </style>
</head>


<body data-page="index">

  <div id="update-banner" style="
    display:none;
    position:fixed;
    bottom:20px;
    right:20px;
    background:#2563eb;
    color:white;
    padding:12px 20px;
    border-radius:12px;
    font-size:0.9rem;
    cursor:pointer;
    box-shadow:0 4px 20px rgba(0,0,0,0.25);
    z-index:999999;
  ">
    ×™×© ×¢×“×›×•×Ÿ ×—×“×© ×œ××ª×¨ Â· ×œ×—×¥ ×œ×¨×¢× ×•×Ÿ
  </div>

  <script type="module" src="analytics.js"></script>

  <header class="header-main">
  <div class="container">
    <nav class="nav nav-centered" aria-label="× ×™×•×•×˜ ×¨××©×™">

      <div class="nav-side nav-right-links">
        <a href="index.html#home-news">×—×“×©×•×ª</a>
        <a href="index.html#grades">×”×©×›×‘×•×ª</a>
        <a href="polls.html">×¡×§×¨×™×</a>
        <a href="about.html">××•×“×•×ª</a>
      </div>

      <div class="nav-center">
        <a href="index.html" class="logo-circle" aria-label="×“×£ ×”×‘×™×ª">
          <img
            src="https://i.ibb.co/tp4K737Y/Cropped-circle-image-1.png"
            alt="×¡××œ ×™×¢×¨×ª ×”×¢××§"
            class="logo-img"
          />
        </a>
      </div>

<div class="nav-side nav-left-links">
  <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
  <a href="admin.html" class="btn-outline">Admin</a>
  <a href="teachers.html" class="teacher-portal-btn">
   ×¤×•×¨×˜×œ ××•×¨×™×
</a>

</div>


      <button id="theme-toggle" class="theme-toggle-btn" type="button" aria-label="××¦×‘ ×›×”×”/×‘×”×™×¨">
        ğŸŒ™
      </button>

      <button
        class="nav-toggle"
        id="nav-toggle"
        type="button"
        aria-label="×¤×ª×— ×ª×¤×¨×™×˜"
        aria-expanded="false"
        aria-controls="nav-mobile"
      >
        <span></span><span></span><span></span>
      </button>

      <div class="nav-mobile" id="nav-mobile" aria-hidden="true">
        <a href="index.html#home-news">×—×“×©×•×ª</a>
        <a href="index.html#home-exams">××‘×—× ×™×</a>
<a href="index.html#home-class-picker">×”×©×›×‘×•×ª</a>
        <a href="polls.html">×¡×§×¨×™×</a>
        <a href="about.html">××•×“×•×ª</a>
        <a href="index.html#contact">×™×¦×™×¨×ª ×§×©×¨</a>
        <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
          <a href="teachers.html" class="teacher-portal-btn">
   ×¤×•×¨×˜×œ ××•×¨×™×
        <a href="admin.html" class="btn-outline">Admin</a>
        
      </div>

    </nav>
  </div>
</header>


  <section class="hero hero-home">
    <div class="hero-slides">
      <div class="hero-slide"></div>
      <div class="hero-slide"></div>
      <div class="hero-slide"></div>
      <div class="hero-slide"></div>
      <div class="hero-slide"></div>
      <div class="hero-slide"></div>

    </div>

    <div class="hero-overlay"></div>

    <div class="container hero-home-inner">
      <div class="hero-home-header">
        <h1 id="hero-main-title">×™×—×“ ×¦×•××—×™× ×‘×™×¢×¨×ª ×”×¢××§</h1>
        <p id="hero-main-body">
          ×¡×‘×™×‘×” ×—×™× ×•×›×™×ª ×‘×˜×•×—×”, ×ª×•××›×ª ×•××•×‘×™×œ×”. ×›×œ ×ª×œ××™×“ ×•×ª×œ××™×“×” â€“ ×¢×•×œ× ×•××œ×•××•.
        </p>

        <div class="hero-actions">
        </div>
      </div>
<div class="hero-home-cards">

  <!-- 1) ×©×¢×•×ª ×¤×¢×™×œ×•×ª -->
<div class="grade-card glass-card hero-mini-card">
  <h3>××” ×§×•×¨×” ×”×™×•×?</h3>
  <p class="hero-mini-text" id="todayPlanText">
    ×˜×•×¢×Ÿâ€¦
  </p>
</div>


  <!-- 2) ×¢×“×›×•×Ÿ ×”× ×”×œ×” + ×¢×“×›×•×Ÿ ××—×¨×•×Ÿ + ×˜×™×–×¨ + ×›×¤×ª×•×¨ -->
  <div class="grade-card hero-mini-card hero-latest-card" id="hero-latest">
    <h3>×¢×“×›×•×Ÿ ××”× ×”×œ×ª ×‘×™×ª ×”×¡×¤×¨</h3>

<div class="hero-latest-title">×¢×“×›×•×Ÿ ××—×¨×•×Ÿ</div>

    <p class="hero-latest-snippet" id="hero-latest-snippet">
      ×˜×•×¢×Ÿ ××ª ×”×¢×“×›×•×Ÿ ×”××—×¨×•×Ÿ...
    </p>

    <a class="hero-latest-btn" id="hero-latest-btn" href="news.html">
      ×œ×›×ª×‘×” ×”××œ××” â†’
    </a>
  </div>

  <!-- 3) ××•×¢×¦×ª ×ª×œ××™×“×™× (××•×¤×¦×™×” ×‘') -->
  <div class="grade-card hero-mini-card hero-council-card">
    <h3>××•×¢×¦×ª ×ª×œ××™×“×™×</h3>
    <p class="hero-mini-text">
      ×™×•×–××•×ª, ×¤×¢×™×œ×•×™×•×ª ×•×”×¦×¢×•×ª ×©××•×‘×œ×•×ª ×¢×œ ×™×“×™ ×ª×œ××™×“×™ ×‘×™×ª ×”×¡×¤×¨,
      ×‘×©×™×ª×•×£ ×¢× ×”×”× ×”×œ×” ×•×”×¦×•×•×ª ×”×—×™× ×•×›×™.
    </p>
    <a class="hero-council-btn" href="council.html">×œ×¤×¢×™×œ×•×ª ××•×¢×¦×ª ×ª×œ××™×“×™× â†’</a>
  </div>

</div>

  </section>

  <section id="about" class="section-light reveal-on-scroll">
    <div class="container">
      <div class="section-header">
        <h2 id="about-title" class="section-title">××•×“×•×ª ×‘×™×ª ×”×¡×¤×¨</h2>
        <p id="about-body" class="section-subtitle">
          ×™×¢×¨×ª ×”×¢××§ ×”×™× ×—×˜×™×‘×ª-×‘×™× ×™×™× ×××œ×›×ª×™×ª ×‘××’×“×œ ×”×¢××§, ×”××•×‘×™×œ×” ×—×™× ×•×š ×¢×¨×›×™, ×™×•×–××” ×•×—×“×©× ×•×ª...
        </p>
        <div class="about-btn-wrap">
          <a href="about.html" class="about-btn">××•×“×•×ª ×‘×™×ª ×”×¡×¤×¨ Â»</a>
        </div>
      </div>

      <div class="home-grid">
        <div class="grade-card">
          <h3>×¢×¨×›×™× ×—×™× ×•×›×™×™×</h3>
          <p style="font-size:0.9rem; margin-top:4px;">
            ×›×‘×•×“, ××—×¨×™×•×ª, ×”×§×©×‘×”, ×©×™×™×›×•×ª ×•×¨××™×™×ª ×”×ª×œ××™×“ ×‘××¨×›×–.
          </p>
        </div>
        <div class="grade-card">
          <h3>×—×™×™ ×‘×™×ª ×¡×¤×¨</h3>
          <p style="font-size:0.9rem; margin-top:4px;">
            ×˜×™×•×œ×™×, ×¤×¨×•×™×§×˜×™× ×—×‘×¨×ª×™×™×, ×™×•×–××•×ª ×©×œ ××•×¢×¦×ª ×ª×œ××™×“×™× ×•×¢×•×“.
          </p>
        </div>
      </div>
    </div>
  </section>
  <div id="urgent-wrap" class="urgent-wrap" style="display:none;"></div>

   <section id="home-class-picker" class="section-light reveal-on-scroll">
  <div class="container">

    <div class="home-class-wrap">
      <div class="home-class-panel">
        <div class="home-class-head">
          <div class="home-class-icon" aria-hidden="true">ğŸ«</div>
          <div class="home-class-titles">
            <h3 class="home-class-title" style="margin:0;">×‘×—×™×¨×ª ×›×™×ª×”</h3>
            <p class="home-class-subtitle" style="margin:6px 0 0;">
              ×‘×—×¨ ×©×›×‘×” ×•××– ×›×™×ª×” â€” ×•× ×¢×‘×™×¨ ××•×ª×š ×œ×“×£ ×”×›×™×ª×”.
            </p>
          </div>
        </div>

        <div class="home-class-form">
          <label class="home-class-label" for="home-grade">×©×›×‘×”</label>
          <select id="home-grade" class="select home-class-select">
            <option value="">×‘×—×¨ ×©×›×‘×”</option>
            <option value="z">×–×³</option>
            <option value="h">×—×³</option>
            <option value="t">×˜×³</option>
          </select>

          <label class="home-class-label" for="home-class">×›×™×ª×”</label>
          <select id="home-class" class="select home-class-select" disabled>
            <option value="">×‘×—×¨ ×›×™×ª×”</option>
          </select>

          <button id="home-open-class" class="btn home-class-go" type="button" disabled>
            ×¤×ª×— ×“×£ ×›×™×ª×”
          </button>
        </div>

 
      </div>
    </div>

  </div>
</section>
  <section id="home-news" class="section-light reveal-on-scroll">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title" id="home-news-title">×—×“×©×•×ª ××—×¨×•× ×•×ª</h2>
        <p class="section-subtitle" id="home-news-subtitle">
          ×”×›×ª×‘×” ×”××—×¨×•× ×” ×©×¤×•×¨×¡××” ×‘×œ×•×— ×”××•×“×¢×•×ª â€“ ×•×‘×›×¤×ª×•×¨ ×œ××˜×” ×ª×•×›×œ×• ×œ×¢×‘×•×¨ ×œ×›×œ ×”×›×ª×‘×•×ª.
        </p>
      </div>

      <div class="home-grid">
        <div class="grade-card">
          <h3>×”×¢×“×›×•×Ÿ ×”××—×¨×•×Ÿ ××‘×™×ª ×”×¡×¤×¨</h3>
          <div id="home-board" class="home-board-list">
            <p class="empty-msg">××™×Ÿ ×¢×“×™×™×Ÿ ×—×“×©×•×ª ×‘××ª×¨.</p>
          </div>
          <a href="news.html" class="all-news-btn">×œ×¦×¤×™×™×” ×‘×›×œ ×”×—×“×©×•×ª ×•×”××•×“×¢×•×ª Â»</a>
        </div>
      </div>
    </div>
  </section>






</div>

</section>


<script src="home-class-picker.js" defer></script>




<section class="section-light reveal-on-scroll" id="grades-intro" style="padding-top:0; margin-top:-10px;">
  <div class="container">
    <div class="section-header">
      <h3 class="section-title" style="font-size:1.4rem;">ğŸ® ××©×—×§×™× ×‘××ª×¨</h3>
      <p class="section-subtitle">×—××™×©×” ××©×—×§×™× ×§×¦×¨×™× ×•××’× ×™×‘×™× ×œ×”×¢×‘×™×¨ ××ª ×”×–××Ÿ</p>
    </div>

    <!-- ===== MOBILE PICKER (chips) ===== -->
    <div class="game-picker" aria-label="×‘×—×¨ ××©×—×§">
      <button class="gchip" type="button" data-game="reaction">âš¡ ×ª×’×•×‘×”</button>
      <button class="gchip" type="button" data-game="quiz">ğŸ§  ××ª××˜×™×§×”</button>
      <button class="gchip" type="button" data-game="memory">ğŸ§© Memory</button>
      <button class="gchip" type="button" data-game="dodge">ğŸ›¡ï¸ Dodge</button>
      <button class="gchip" type="button" data-game="snake">ğŸ Snake</button>
    </div>

    <!-- ===== DESKTOP GRID (cards) ===== -->
    <div class="home-grid game-grid" style="margin-top:18px;">
      <div class="grade-card game-card" data-game="reaction">
        <h3>âš¡ ××‘×—×Ÿ ×ª×’×•×‘×”</h3>
        <p style="font-size:0.9rem;">×œ×—×¥ ×‘×¨×’×¢ ×©×–×” × ×”×™×” ×™×¨×•×§.</p>
        <button class="btn game-open-btn" type="button">×©×—×§ ×¢×›×©×™×•</button>
      </div>

      <div class="grade-card game-card" data-game="quiz">
        <h3>ğŸ§  ××ª××˜×™×§×” (×××’×¨ ×¢× ×§)</h3>
        <p style="font-size:0.9rem;">×©××œ×•×ª ×‘×œ×™ ×—×–×¨×•×ª â€” ×¢×œ ×××ª.</p>
        <button class="btn game-open-btn" type="button">×©×—×§ ×¢×›×©×™×•</button>
      </div>

      <div class="grade-card game-card" data-game="memory">
        <h3>ğŸ§© Memory</h3>
        <p style="font-size:0.9rem;">×§×•××‘×• + ×˜×™×™××¨ + ×©×™××™×.</p>
        <button class="btn game-open-btn" type="button">×©×—×§ ×¢×›×©×™×•</button>
      </div>

      <div class="grade-card game-card" data-game="dodge">
        <h3>ğŸ›¡ï¸ Dodge Arena</h3>
        <p style="font-size:0.9rem;">×‘××•×‘×™×™×œ ×™×© ×’â€™×•×™×¡×˜×™×§.</p>
        <button class="btn game-open-btn" type="button">×©×—×§ ×¢×›×©×™×•</button>
      </div>

      <div class="grade-card game-card" data-game="snake">
        <h3>ğŸ Snake</h3>
        <p style="font-size:0.9rem;">×‘××•×‘×™×™×œ ×™×© D-Pad.</p>
        <button class="btn game-open-btn" type="button">×©×—×§ ×¢×›×©×™×•</button>
      </div>
    </div>

    <!-- GAME PANEL -->
    <div id="gameHubPanel" class="gamehub-panel" style="display:none; margin-top:16px;">
      <div class="gamehub-head">
        <div>
          <div class="gamehub-title" id="gameHubTitle">××©×—×§</div>
          <div class="gamehub-sub" id="gameHubSub">â€”</div>
        </div>

        <div class="gamehub-actions">
          <button class="btn-outline" id="gameFullscreenBtn" type="button" style="display:none;">××¡×š ××œ× â›¶</button>
          <button class="btn-outline" id="gameResetBtn" type="button">××™×¤×•×¡</button>
          <button class="btn" id="gameCloseBtn" type="button">×¡×’×•×¨ âœ•</button>
        </div>
      </div>

      <div id="gameHubBody" class="gamehub-body"></div>
    </div>
  </div>

  <style>
    /* ===== Picker UX ===== */
    .game-picker{
      display:none;
      gap:10px;
      overflow:auto;
      padding:4px 2px 10px;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
    }
    .gchip{
      scroll-snap-align:start;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.85);
      padding:10px 12px;
      font-weight:1000;
      cursor:pointer;
      white-space:nowrap;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    .gchip:hover{ transform: translateY(-1px); box-shadow:0 12px 26px rgba(15,23,42,0.10); background:#eff6ff; }
    .gchip.active{ background: rgba(37,99,235,.10); border-color: rgba(37,99,235,.35); }
    html[data-theme="dark"] .gchip{
      background: rgba(2,6,23,.55);
      border-color: rgba(148,163,184,.22);
      color:#e5e7eb;
    }
    html[data-theme="dark"] .gchip:hover{ background: rgba(56,189,248,.12); box-shadow:0 18px 40px rgba(0,0,0,.35); }
    html[data-theme="dark"] .gchip.active{ background: rgba(56,189,248,.14); border-color: rgba(56,189,248,.30); }

    /* ===== Game grid/cards ===== */
    .game-card{ display:flex; flex-direction:column; gap:10px; }
    .game-open-btn{ margin-top:auto; border-radius:999px; font-weight:1000; padding:10px 14px; }

    /* ===== Panel ===== */
    .gamehub-panel{
      border-radius:24px;
      border:1px solid rgba(148,163,184,0.45);
      background: rgba(255,255,255,0.92);
      box-shadow:0 18px 45px rgba(15,23,42,0.10);
      overflow:hidden;
    }
    html[data-theme="dark"] .gamehub-panel{
      background: rgba(15,23,42,0.88);
      border-color: rgba(148,163,184,0.22);
      box-shadow:0 18px 55px rgba(0,0,0,0.45);
    }

    .gamehub-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 14px;
      border-bottom:1px solid rgba(148,163,184,0.22);
    }
    .gamehub-title{ font-weight:1100; font-size:1.05rem; letter-spacing:.2px; color:#0f172a; }
    .gamehub-sub{ font-size:.9rem; opacity:.85; color:#334155; margin-top:4px; }
    html[data-theme="dark"] .gamehub-title{ color:#fff; }
    html[data-theme="dark"] .gamehub-sub{ color:rgba(255,255,255,0.72); }

    .gamehub-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .gamehub-body{ padding:16px; }

    /* ===== Shared cards ===== */
    .gh-card{
      max-width:860px; margin:0 auto;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(15,23,42,.04);
      padding:14px;
    }
    html[data-theme="dark"] .gh-card{
      background: rgba(2,6,23,.35);
      border-color: rgba(148,163,184,.22);
    }
    .gh-row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; }
    .gh-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 12px; border-radius:999px;
      font-weight:1000; font-size:.9rem;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.75);
    }
    html[data-theme="dark"] .gh-pill{ background: rgba(15,23,42,.65); border-color: rgba(148,163,184,.20); color:#e5e7eb; }
    .gh-help{ opacity:.85; font-weight:900; line-height:1.55; }
    html[data-theme="dark"] .gh-help{ color:rgba(255,255,255,.78); }

    /* ===== Reaction ===== */
    .rx-wrap{ display:flex; flex-direction:column; gap:12px; align-items:center; text-align:center; padding:8px 0; }
    .rx-btn{
      width:min(520px, 100%);
      height:120px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.35);
      font-weight:1100;
      font-size:1.05rem;
      cursor:pointer;
      user-select:none;
    }

    /* ===== Quiz ===== */
    .q-wrap{ max-width:780px; margin:0 auto; display:flex; flex-direction:column; gap:12px; }
    .q-q{ font-weight:1100; font-size:1.05rem; }
    .q-opts{ display:flex; flex-direction:column; gap:8px; }
    .q-opts button{
      text-align:right;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,0.92);
      cursor:pointer;
      font-weight:1000;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    .q-opts button:hover{ transform: translateY(-1px); box-shadow:0 12px 26px rgba(15,23,42,0.10); background:#eff6ff; }
    html[data-theme="dark"] .q-opts button{
      background: rgba(2,6,23,0.45);
      border-color: rgba(148,163,184,.22);
      color:#e5e7eb;
    }
    html[data-theme="dark"] .q-opts button:hover{ background: rgba(56,189,248,0.10); box-shadow:0 18px 40px rgba(0,0,0,.35); }
    .q-meta{ display:flex; justify-content:space-between; gap:10px; opacity:.88; font-weight:1100; flex-wrap:wrap; }
    .q-result{
      border-radius:16px; padding:12px;
      border:1px solid rgba(148,163,184,.25);
      background: rgba(37,99,235,.06);
      font-weight:1100;
    }
    html[data-theme="dark"] .q-result{
      background: rgba(56,189,248,.10);
      border-color: rgba(148,163,184,.18);
      color:#e5f0ff;
    }
    .q-mini{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
      margin-top:10px;
    }
    .q-mini .btn-outline{
      border-radius:999px;
      padding:9px 12px;
      font-weight:1000;
    }

    /* ===== Memory ===== */
    .mem-wrap{ max-width:860px; margin:0 auto; display:flex; flex-direction:column; gap:12px; }
    .mem-grid{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:10px; }
    @media (max-width:520px){ .mem-grid{ grid-template-columns: repeat(4, minmax(0,1fr)); gap:8px; } }
    .mem-card{
      aspect-ratio: 1/1;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.90);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      font-weight:1100;
      font-size:1.25rem;
      user-select:none;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .mem-card:hover{ transform: translateY(-1px); box-shadow:0 12px 26px rgba(15,23,42,.10); }
    html[data-theme="dark"] .mem-card{
      background: rgba(2,6,23,.50);
      border-color: rgba(148,163,184,.22);
      color:#e5e7eb;
    }
    .mem-card.revealed{ background: rgba(34,197,94,.16); }
    html[data-theme="dark"] .mem-card.revealed{ background: rgba(34,197,94,.18); }
    .mem-card.matched{
      background: rgba(37,99,235,.12);
      border-color: rgba(37,99,235,.35);
      cursor:default;
    }
    html[data-theme="dark"] .mem-card.matched{
      background: rgba(56,189,248,.14);
      border-color: rgba(56,189,248,.30);
    }

    /* ===== Canvas games ===== */
    .canvas-wrap{ max-width:920px; margin:0 auto; display:flex; flex-direction:column; gap:10px; }
    .canvas-box{
      border-radius:18px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.86);
      padding:10px;
    }
    html[data-theme="dark"] .canvas-box{
      background: rgba(2,6,23,.45);
      border-color: rgba(148,163,184,.22);
    }
    canvas.game-canvas{
      width:100%;
      height:auto;
      border-radius:14px;
      display:block;
      background: rgba(15,23,42,.06);
      border:1px solid rgba(148,163,184,.25);
      touch-action:none;
    }
    html[data-theme="dark"] canvas.game-canvas{
      background: rgba(2,6,23,.35);
      border-color: rgba(148,163,184,.18);
    }

    /* ===== Mobile controls ===== */
    .mcontrols{ display:none; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-top:10px; }
    .pad{
      display:grid;
      grid-template-columns: 52px 52px 52px;
      grid-template-rows: 52px 52px 52px;
      gap:8px;
      user-select:none;
      touch-action:none;
    }
    .pad button{
      border-radius:14px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.85);
      font-weight:1100;
      cursor:pointer;
    }
    html[data-theme="dark"] .pad button{
      background: rgba(2,6,23,.55);
      border-color: rgba(148,163,184,.22);
      color:#e5e7eb;
    }

    .joy{
      width:160px; height:160px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.65);
      position:relative;
      overflow:hidden;
      touch-action:none;
    }
    html[data-theme="dark"] .joy{
      background: rgba(2,6,23,.45);
      border-color: rgba(148,163,184,.22);
    }
    .joy .knob{
      width:70px; height:70px;
      border-radius:999px;
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      border:1px solid rgba(148,163,184,.35);
      background: rgba(37,99,235,.14);
    }
    html[data-theme="dark"] .joy .knob{ background: rgba(56,189,248,.16); border-color: rgba(148,163,184,.22); }

    .kbd{
      font-weight:1100;
      padding:4px 8px;
      border-radius:10px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.75);
      display:inline-flex; align-items:center; gap:6px;
    }
    html[data-theme="dark"] .kbd{ background: rgba(15,23,42,.65); border-color: rgba(148,163,184,.20); color:#e5e7eb; }

    /* ===== Responsive behavior ===== */
    @media (max-width:780px){
      .game-picker{ display:flex; }
      .game-grid{ display:none !important; }
      .gamehub-body{ padding:12px; }
      .rx-btn{ height:106px; }
      .gamehub-head{ flex-direction:column; align-items:flex-start; }
      .gamehub-actions{ width:100%; justify-content:flex-end; }
      .mcontrols{ display:flex; }
    }
  </style>

  <script>
  (function(){
    const panel = document.getElementById("gameHubPanel");
    const titleEl = document.getElementById("gameHubTitle");
    const subEl   = document.getElementById("gameHubSub");
    const bodyEl  = document.getElementById("gameHubBody");
    const closeBtn= document.getElementById("gameCloseBtn");
    const resetBtn= document.getElementById("gameResetBtn");
    const fsBtn   = document.getElementById("gameFullscreenBtn");

    let currentGame = null;
    let cleanup = null;

    const isMobile = () => matchMedia("(max-width: 780px)").matches;
    const themeIsDark = () => document.documentElement.dataset.theme === "dark";

    function openPanel(){
      panel.style.display = "block";
      if (isMobile()) panel.scrollIntoView({ behavior:"smooth", block:"start" });
    }
    function closePanel(){
      if (cleanup) { try{ cleanup(); }catch(e){} cleanup=null; }
      currentGame = null;
      bodyEl.innerHTML = "";
      panel.style.display = "none";
      fsBtn.style.display = "none";
      fsBtn.onclick = null;
    }

    closeBtn.addEventListener("click", closePanel);
    resetBtn.addEventListener("click", () => { if (currentGame) loadGame(currentGame); });

    // chips
    document.querySelectorAll(".gchip").forEach(ch=>{
      ch.addEventListener("click", ()=>{
        document.querySelectorAll(".gchip").forEach(x=>x.classList.remove("active"));
        ch.classList.add("active");
        loadGame(ch.dataset.game);
      });
    });

    // cards
    document.querySelectorAll(".game-card .game-open-btn").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        const card = e.target.closest(".game-card");
        const g = card?.dataset?.game;
        if (!g) return;
        loadGame(g);
      });
    });

    function loadGame(gameKey){
      if (cleanup) { try{ cleanup(); }catch(e){} cleanup=null; }
      currentGame = gameKey;
      bodyEl.innerHTML = "";
      fsBtn.style.display = "none";
      fsBtn.onclick = null;

      if (gameKey === "reaction"){
        titleEl.textContent = "âš¡ ××‘×—×Ÿ ×ª×’×•×‘×”";
        subEl.textContent   = "×—×›×” ×©×–×” ×™×”×¤×•×š ×œ×™×¨×•×§ â€” ×•××– ×ª×œ×—×¥ ××”×¨.";
        cleanup = renderReactionGame(bodyEl);
        openPanel(); return;
      }
      if (gameKey === "quiz"){
        titleEl.textContent = "ğŸ§  ××ª××˜×™×§×” â€” ×××’×¨ ×©××œ×•×ª (8 ×‘×›×œ ×¡×©×Ÿ)";
        subEl.textContent   = "×§×¦×¨, ××”×™×¨, ×•××ª×—×œ×£ ×›×œ ×¤×¢×.";
        cleanup = renderMathQuiz(bodyEl);
        openPanel(); return;
      }
      if (gameKey === "memory"){
        titleEl.textContent = "ğŸ§© Memory";
        subEl.textContent   = "×§×•××‘×• + ×˜×™×™××¨ + ×©×™××™×.";
        cleanup = renderMemoryGame(bodyEl);
        openPanel(); return;
      }
      if (gameKey === "dodge"){
        titleEl.textContent = "ğŸ›¡ï¸ Dodge Arena";
        subEl.textContent   = "××—×©×‘: WASD/×—×¦×™× Â· ××•×‘×™×™×œ: ×’â€™×•×™×¡×˜×™×§.";
        cleanup = renderDodgeGame(bodyEl);
        openPanel(); return;
      }
      if (gameKey === "snake"){
        titleEl.textContent = "ğŸ Snake";
        subEl.textContent   = "××—×©×‘: ×—×¦×™×/WASD Â· ××•×‘×™×™×œ: D-Pad.";
        cleanup = renderSnakeGame(bodyEl);
        openPanel(); return;
      }

      titleEl.textContent = "××©×—×§";
      subEl.textContent = "×œ× × ××¦×.";
      bodyEl.innerHTML = "<div class='gh-card'>××©×”×• ×œ× ×”×¡×ª×“×¨.</div>";
      openPanel();
    }

    /* ======================
       Game 1: Reaction
    ====================== */
    function renderReactionGame(root){
      const wrap = document.createElement("div");
      wrap.className = "rx-wrap";
      wrap.innerHTML = `
        <div class="gh-card">
          <div class="gh-row">
            <span class="gh-pill">××˜×¨×”: ×–××Ÿ ×”×›×™ × ××•×š</span>
            <span class="gh-pill">× ×¤×¡×œ ×× ×œ×•×—×¦×™× ××•×§×“×</span>
          </div>
          <div class="gh-help" style="margin-top:10px;">×œ×—×¥ ×¨×§ ×›×©×”×›×¤×ª×•×¨ ×™×¨×•×§.</div>
        </div>

        <button class="rx-btn" id="rxBtn">×œ×—×¥ ×›×“×™ ×œ×”×ª×—×™×œ</button>
        <div id="rxResult" style="font-weight:1100; opacity:.9;"></div>
      `;
      root.appendChild(wrap);

      const btn = wrap.querySelector("#rxBtn");
      const res = wrap.querySelector("#rxResult");

      let state = "idle";
      let timer = null;
      let startTime = 0;

      function setBtn(text, bg, color){
        btn.textContent = text;
        btn.style.background = bg;
        btn.style.color = color;
      }
      function reset(){
        state = "idle";
        res.textContent = "";
        setBtn("×œ×—×¥ ×›×“×™ ×œ×”×ª×—×™×œ",
          themeIsDark() ? "rgba(56,189,248,.10)" : "rgba(37,99,235,.10)",
          themeIsDark() ? "#e5e7eb" : "#0f172a"
        );
        if (timer) { clearTimeout(timer); timer=null; }
      }
      function start(){
        state = "waiting";
        res.textContent = "××—×›×”â€¦";
        setBtn("×ª×—×›×”â€¦",
          themeIsDark() ? "rgba(245,158,11,.20)" : "rgba(245,158,11,.18)",
          themeIsDark() ? "#e5e7eb" : "#0f172a"
        );
        const delay = 850 + Math.random()*2600;
        timer = setTimeout(()=>{
          state = "ready";
          startTime = performance.now();
          res.textContent = "×¢×›×©×™×•!";
          setBtn("×œ×—×¥!!!",
            themeIsDark() ? "rgba(34,197,94,.25)" : "rgba(34,197,94,.22)",
            themeIsDark() ? "#e5e7eb" : "#0f172a"
          );
        }, delay);
      }
      function grade(ms){
        if (ms < 185) return "ğŸ§  ×¤×¡×™×›×™.";
        if (ms < 240) return "âš¡ ××˜×•×¨×£.";
        if (ms < 320) return "ğŸ”¥ ×—×–×§.";
        if (ms < 430) return "ğŸ™‚ ×¡×‘×‘×”.";
        return "ğŸ¢ ×¢×•×“ ××™××•×Ÿ.";
      }

      btn.addEventListener("click", ()=>{
        if (state === "idle"){ start(); return; }
        if (state === "waiting"){
          res.textContent = "× ×¤×¡×œ×ª ğŸ˜… ×œ×—×¦×ª ××•×§×“×.";
          setBtn("××•×¤×¡â€¦ × ×¡×” ×©×•×‘",
            themeIsDark() ? "rgba(239,68,68,.18)" : "rgba(239,68,68,.16)",
            themeIsDark() ? "#e5e7eb" : "#0f172a"
          );
          if (timer) { clearTimeout(timer); timer=null; }
          state = "idle";
          return;
        }
        if (state === "ready"){
          const ms = Math.round(performance.now() - startTime);
          res.textContent = `${ms}ms â€” ${grade(ms)}`;
          setBtn("×©×—×§ ×©×•×‘",
            themeIsDark() ? "rgba(56,189,248,.10)" : "rgba(37,99,235,.10)",
            themeIsDark() ? "#e5e7eb" : "#0f172a"
          );
          state = "idle";
          return;
        }
      });

      reset();
      return function cleanup(){ if (timer) clearTimeout(timer); };
    }

    /* ======================
       Game 2: MATH QUIZ (8 questions max)
    ====================== */
    function renderMathQuiz(root){
      const wrap = document.createElement("div");
      wrap.className = "q-wrap";
      root.appendChild(wrap);

      const SESSION_SIZE = 8;
      const OPTIONS = 4;

      const used = new Set();
      const session = [];

      let idx = 0, score = 0;
      const startT = performance.now();

      while (session.length < SESSION_SIZE){
        session.push(genQuestion(used));
      }

      function render(){
        wrap.innerHTML = "";

        if (idx >= session.length){
          const sec = Math.round((performance.now()-startT)/1000);
          const pct = Math.round((score/session.length)*100);
          wrap.innerHTML = `
            <div class="q-result">×¡×™×™××ª! ×¦×™×•×Ÿ: ${score}/${session.length} (${pct}%) Â· ×–××Ÿ: ${sec}s</div>
            <div class="q-mini" style="margin-top:10px;">
              <button class="btn" type="button" id="newSession">×¡×©×Ÿ ×—×“×© (×¢×•×“ 8)</button>
              <button class="btn-outline" type="button" id="closeQuiz">×¡×’×•×¨</button>
            </div>
          `;
          wrap.querySelector("#newSession").addEventListener("click", ()=> loadGame("quiz"));
          wrap.querySelector("#closeQuiz").addEventListener("click", closePanel);
          return;
        }

        const item = session[idx];

        const meta = document.createElement("div");
        meta.className = "q-meta";
        meta.innerHTML = `
          <div>×©××œ×” ${idx+1}/${session.length}</div>
          <div>× ×™×§×•×“: ${score}</div>
          <div>×¡×•×’: ${item.tag}</div>
        `;
        wrap.appendChild(meta);

        const qEl = document.createElement("div");
        qEl.className = "q-q";
        qEl.textContent = item.q;
        wrap.appendChild(qEl);

        const opts = document.createElement("div");
        opts.className = "q-opts";

        item.options.forEach((txt, i)=>{
          const b = document.createElement("button");
          b.type = "button";
          b.textContent = txt;
          b.addEventListener("click", ()=>{
            if (i === item.correct) score++;
            idx++;
            render();
          });
          opts.appendChild(b);
        });

        wrap.appendChild(opts);

        const mini = document.createElement("div");
        mini.className = "q-mini";
        mini.innerHTML = `
          <span class="gh-help" style="opacity:.8;">×˜×™×¤: ××œ ×ª× ×—×©. ×ª×—×©×‘.</span>
          <button class="btn-outline" type="button" id="skipQ">×“×œ×’</button>
        `;
        wrap.appendChild(mini);

        mini.querySelector("#skipQ").addEventListener("click", ()=>{
          idx++;
          render();
        });
      }

      render();
      return function cleanup(){};

      function genQuestion(usedSet){
        const types = ["arith","percent","linear","seq","frac","geo","powers","roots","avg"];
        const type = types[Math.floor(Math.random()*types.length)];

        let qObj = null;
        for (let tries=0; tries<250; tries++){
          qObj = buildByType(type);
          if (!qObj) continue;

          const key = qObj.key;
          if (!usedSet.has(key)){
            usedSet.add(key);
            qObj.options = makeOptions(qObj.ans, OPTIONS, qObj.rangeHint);
            qObj.correct = qObj.options.indexOf(qObj.ansText);
            if (qObj.correct === -1){
              qObj.options[0] = qObj.ansText;
              shuffle(qObj.options);
              qObj.correct = qObj.options.indexOf(qObj.ansText);
            }
            return { q: qObj.qText, options: qObj.options, correct: qObj.correct, tag: qObj.tag };
          }
        }

        const a = 7, b = 8;
        const arr = shuffle([String(a*b), String(a*b+2), String(a*b-2), String(a*b+8)]);
        return { q: `×›××” ×–×” ${a}Ã—${b}?`, options: arr, correct: arr.indexOf(String(a*b)), tag: "×›×¤×œ" };
      }

      function buildByType(type){
        if (type === "arith"){
          const a = r(12,99), b = r(12,99);
          const op = pick(["+","-","Ã—"]);
          const ans = (op==="+")? a+b : (op==="-"? a-b : a*b);
          const key = `arith:${a}${op}${b}`;
          return mk(`${a} ${op} ${b} = ?`, ans, "×—×™×©×•×‘", key, {min: -200, max: 9801});
        }
        if (type === "percent"){
          const base = r(80, 900);
          const p = pick([5,10,12,15,20,25,30,35,40]);
          const ans = Math.round((base * p)/100);
          const key = `pct:${p}of${base}`;
          return mk(`×›××” ×–×” ${p}% ××ª×•×š ${base}?`, ans, "××—×•×–×™×", key, {min:0,max:900});
        }
        if (type === "linear"){
          const a = pick([2,3,4,5,6,7,8,9]);
          const x = r(2, 30);
          const b = r(-20, 30);
          const c = a*x + b;
          const key = `lin:${a}x${b}=${c}`;
          return mk(`×× ${a}x ${b>=0?"+":""}${b} = ${c}, ××” x?`, x, "××©×•×•××”", key, {min:-50,max:60});
        }
        if (type === "seq"){
          const k = r(-4, 8);
          const term = (t)=> t*t + k;
          const s = [1,2,3,4].map(term);
          const ans = term(5);
          const key = `seq:${k}`;
          return mk(`×”×©×œ× ×¡×“×¨×”: ${s.join(", ")}, ?`, ans, "×¡×“×¨×”", key, {min:-10,max:80});
        }
        if (type === "frac"){
          const a = pick([1,2,3,4,5,6,7,8,9]);
          const b = pick([2,3,4,5,6,7,8,9,10,12]);
          if (a>=b) return null;
          const val = a/b;
          const key = `frac:${a}/${b}`;
          const ans = Math.round(val*100);
          return mk(`×›××” ××—×•×– ×–×” ×‘×¢×¨×š ${a}/${b}? (×‘×¢×™×’×•×œ)`, ans, "×©×‘×¨×™×", key, {min:0,max:100});
        }
        if (type === "geo"){
          const d = r(2, 14);
          const t = pick([10,15,20,25,30,40,45,50,60,75]);
          const ans = Math.round(d / (t/60));
          const key = `geo:${d}in${t}`;
          return mk(`×× ×¢×•×‘×¨×™× ${d} ×§"× ×‘-${t} ×“×§×•×ª â€” ××” ×”××”×™×¨×•×ª ×‘×§×"×©? (×‘×¢×™×’×•×œ)`, ans, "××”×™×¨×•×ª", key, {min:1,max:200});
        }
        if (type === "powers"){
          const base = pick([2,3,4,5,6,7,8,9]);
          const exp = pick([2,3,4]);
          const ans = Math.pow(base, exp);
          const key = `pow:${base}^${exp}`;
          return mk(`×›××” ×–×” ${base}^${exp}?`, ans, "×—×–×§×•×ª", key, {min:0,max:10000});
        }
        if (type === "roots"){
          const n = pick([9,16,25,36,49,64,81,100,121,144]);
          const ans = Math.round(Math.sqrt(n));
          const key = `root:${n}`;
          return mk(`××” ×”×©×•×¨×© ×”×¨×™×‘×•×¢×™ ×©×œ ${n}?`, ans, "×©×•×¨×©×™×", key, {min:0,max:50});
        }
        if (type === "avg"){
          const a = r(10, 90), b = r(10, 90), c = r(10, 90);
          const ans = Math.round((a+b+c)/3);
          const key = `avg:${a},${b},${c}`;
          return mk(`××” ×”×××•×¦×¢ (×‘×¢×™×’×•×œ) ×©×œ ${a}, ${b}, ${c}?`, ans, "×××•×¦×¢", key, {min:0,max:100});
        }
        return null;
      }

      function mk(qText, ans, tag, key, rangeHint){
        const ansText = String(ans);
        return { qText, ans, ansText, tag, key, rangeHint };
      }

      function makeOptions(ansText, n, hint){
        const ans = Number(ansText);
        const opts = new Set([String(ans)]);
        const min = hint?.min ?? (ans-30);
        const max = hint?.max ?? (ans+30);

        let guard = 0;
        while (opts.size < n && guard++ < 500){
          let cand;
          if (Math.random() < 0.65){
            const delta = pick([1,2,3,4,5,6,7,8,9,10,12,15,20]);
            cand = ans + (Math.random()<0.5 ? -delta : delta);
          } else {
            cand = r(min, max);
          }
          if (cand === ans) continue;
          opts.add(String(cand));
        }
        const arr = Array.from(opts);
        shuffle(arr);
        return arr;
      }
    }

    /* ======================
       Game 3: Memory
    ====================== */
    function renderMemoryGame(root){
      const symbols = ["ğŸ‰","âš½","ğŸ§","ğŸ®","ğŸ§ ","ğŸš€","ğŸ“š","ğŸ”¥","â­","ğŸ¯","ğŸ§Š","ğŸ•"];
      const pairs = isMobile() ? 8 : 10;
      const chosen = shuffle(symbols.slice()).slice(0, pairs);
      let deck = [...chosen, ...chosen].map((sym, i)=>({ id:i, sym }));
      shuffle(deck);

      let revealed = [];
      let matched = new Set();
      let moves = 0, combo = 0, bestCombo = 0;
      let locked = false;

      const start = performance.now();
      let timerId = null;

      const wrap = document.createElement("div");
      wrap.className = "mem-wrap";
      wrap.innerHTML = `
        <div class="gh-card">
          <div class="gh-row">
            <span class="gh-pill">××”×œ×›×™×: <span id="memMoves">0</span></span>
            <span class="gh-pill">×§×•××‘×•: <span id="memCombo">0</span></span>
            <span class="gh-pill">×–××Ÿ: <span id="memTime">0</span>s</span>
          </div>
          <div class="gh-help" style="margin-top:10px;">×ª××¦× ×–×•×’×•×ª. ×¨×¦×£ × ×›×•×Ÿ ××¢×œ×” ×§×•××‘×•.</div>
        </div>

        <div class="mem-grid" id="memGrid"></div>

        <div id="memEnd" class="gh-card" style="display:none;">
          <div style="font-weight:1100; font-size:1.05rem;">×¡×™×™××ª!</div>
          <div class="gh-help" style="margin-top:8px;">
            ××”×œ×›×™×: <b id="memEndMoves"></b> Â· ×–××Ÿ: <b id="memEndTime"></b>s Â· ×§×•××‘×• ×©×™×: <b id="memEndBest"></b>
          </div>
        </div>
      `;
      root.appendChild(wrap);

      const grid = wrap.querySelector("#memGrid");
      const movesEl = wrap.querySelector("#memMoves");
      const comboEl = wrap.querySelector("#memCombo");
      const timeEl  = wrap.querySelector("#memTime");
      const endBox  = wrap.querySelector("#memEnd");

      function render(){
        grid.innerHTML = "";
        deck.forEach((card, idx)=>{
          const el = document.createElement("button");
          el.type = "button";
          el.className = "mem-card";
          const isMatched = matched.has(idx);
          const isRevealed = revealed.includes(idx);

          if (isMatched) el.classList.add("matched");
          else if (isRevealed) el.classList.add("revealed");

          el.textContent = (isMatched || isRevealed) ? card.sym : "â”";
          el.disabled = isMatched || locked;

          el.addEventListener("click", ()=>onPick(idx));
          grid.appendChild(el);
        });
      }

      function onPick(idx){
        if (locked) return;
        if (matched.has(idx)) return;
        if (revealed.includes(idx)) return;

        revealed.push(idx);
        if (revealed.length === 1){ render(); return; }

        moves++;
        movesEl.textContent = String(moves);
        locked = true;
        render();

        const [a,b] = revealed;
        const ok = deck[a].sym === deck[b].sym;

        setTimeout(()=>{
          if (ok){
            matched.add(a); matched.add(b);
            combo++;
            bestCombo = Math.max(bestCombo, combo);
          } else {
            combo = 0;
          }
          comboEl.textContent = String(combo);
          revealed = [];
          locked = false;
          render();

          if (matched.size === deck.length){
            const sec = Math.round((performance.now()-start)/1000);
            endBox.style.display = "block";
            wrap.querySelector("#memEndMoves").textContent = String(moves);
            wrap.querySelector("#memEndTime").textContent = String(sec);
            wrap.querySelector("#memEndBest").textContent = String(bestCombo);
            if (timerId) { clearInterval(timerId); timerId=null; }
          }
        }, ok ? 420 : 620);
      }

      function tick(){
        const sec = Math.round((performance.now()-start)/1000);
        timeEl.textContent = String(sec);
      }

      timerId = setInterval(tick, 250);
      tick();
      render();

      return function cleanup(){ if (timerId) clearInterval(timerId); };
    }

    /* ======================
       Game 4: Dodge Arena (JOYSTICK on mobile)
    ====================== */
    function renderDodgeGame(root){
      const wrap = document.createElement("div");
      wrap.className = "canvas-wrap";

      wrap.innerHTML = `
        <div class="gh-card">
          <div class="gh-row">
            <span class="gh-pill">× ×™×§×•×“: <span id="dgScore">0</span></span>
            <span class="gh-pill">×©×™×: <span id="dgBest">0</span></span>
            <span class="gh-pill">×¨××”: <span id="dgLvl">1</span></span>
          </div>
          <div class="gh-help" style="margin-top:10px;">
            ××—×©×‘: <span class="kbd">WASD</span>/<span class="kbd">×—×¦×™×</span> Â· ××•×‘×™×™×œ: ×’â€™×•×™×¡×˜×™×§.
            <span class="kbd">P</span> ×¢×¦×•×¨/×”××©×š.
          </div>
        </div>

        <div class="canvas-box" id="dgBox">
          <canvas class="game-canvas" id="dgCanvas" width="860" height="460"></canvas>

          <div class="mcontrols">
            <div class="joy" id="dgJoy" aria-label="×’×•×™×¡×˜×™×§">
              <div class="knob" id="dgKnob"></div>
            </div>

            <div class="pad" aria-label="×¤×¢×•×œ×•×ª">
              <button type="button" id="dgPause">â¯</button>
              <button type="button" id="dgNothing1" style="opacity:.55; cursor:default;" disabled>â€¢</button>
              <button type="button" id="dgRestart">â†»</button>

              <button type="button" id="dgSlow">ğŸ¢</button>
              <button type="button" id="dgNothing2" style="opacity:.55; cursor:default;" disabled>â€¢</button>
              <button type="button" id="dgBoost">ğŸš€</button>

              <button type="button" id="dgNothing3" style="opacity:.55; cursor:default;" disabled>â€¢</button>
              <button type="button" id="dgNothing4" style="opacity:.55; cursor:default;" disabled>â€¢</button>
              <button type="button" id="dgNothing5" style="opacity:.55; cursor:default;" disabled>â€¢</button>
            </div>
          </div>
        </div>

        <div class="gh-card" id="dgEnd" style="display:none;">
          <div style="font-weight:1100;font-size:1.05rem;">× ×’××¨ ğŸ˜ˆ</div>
          <div class="gh-help" style="margin-top:8px;">××™×¤×•×¡ ×›×“×™ ×œ×”×ª×—×™×œ ××—×“×©.</div>
        </div>
      `;
      root.appendChild(wrap);

      const box = wrap.querySelector("#dgBox");
      const canvas = wrap.querySelector("#dgCanvas");
      const ctx = canvas.getContext("2d");

      const scoreEl = wrap.querySelector("#dgScore");
      const bestEl  = wrap.querySelector("#dgBest");
      const lvlEl   = wrap.querySelector("#dgLvl");
      const endEl   = wrap.querySelector("#dgEnd");

      let best = Number(localStorage.getItem("yaarat_game_dodge_best") || "0");
      bestEl.textContent = String(best);

      // Fullscreen button on mobile only
      fsBtn.style.display = isMobile() ? "inline-flex" : "none";
      fsBtn.onclick = async ()=>{
        try{
          if (!document.fullscreenElement) await box.requestFullscreen?.();
          else await document.exitFullscreen?.();
        }catch(e){}
      };

      // safer fit: don't let canvas become 0 => freezes / crashes
      function safeFitCanvas(){
        const rect = canvas.getBoundingClientRect();
        if (!rect.width || rect.width < 80) return; // ğŸ‘ˆ ×§×¨×™×˜×™: ×œ× ××’×“×™×œ×™× ×œ-0
        const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        const targetW = Math.floor(rect.width * dpr);
        const targetH = Math.floor((rect.width * (460/860)) * dpr);
        if (targetW < 160 || targetH < 120) return;
        if (canvas.width !== targetW || canvas.height !== targetH){
          canvas.width = targetW;
          canvas.height = targetH;
        }
      }
      safeFitCanvas();

      let running = true;
      let paused = false;
      let lastT = performance.now();

      const player = { x: 0, y: 0, r: 10, vx:0, vy:0, speed: 300 };
      let bullets = [];
      let particles = [];
      let score = 0;
      let level = 1;
      let spawnTimer = 0;
      let spawnEvery = 0.85;
      let bulletSpeed = 150;
      let keys = Object.create(null);

      // mobile joystick vector
      let joyVec = {x:0,y:0};
      let boost = 0;
      let slow  = 0;

      function W(){ return canvas.width; }
      function H(){ return canvas.height; }

      function reset(){
        safeFitCanvas();
        bullets = [];
        particles = [];
        score = 0;
        level = 1;
        spawnTimer = 0;
        spawnEvery = 0.85;
        bulletSpeed = 150;
        player.r = 10;
        player.speed = 300;
        player.x = (W() || 860)/2;
        player.y = (H() || 460)/2;
        endEl.style.display = "none";
        paused = false;
        running = true;
        lastT = performance.now();
      }

      function togglePause(){ if (running) paused = !paused; }
      function spawnBullet(){
        const w=W(), h=H();
        const edge = Math.floor(Math.random()*4);
        let x,y;
        if (edge===0){ x = Math.random()*w; y = -14; }
        if (edge===1){ x = w+14; y = Math.random()*h; }
        if (edge===2){ x = Math.random()*w; y = h+14; }
        if (edge===3){ x = -14; y = Math.random()*h; }

        const dx = player.x - x;
        const dy = player.y - y;
        const jitter = (Math.random()*0.55 - 0.275);
        const ang = Math.atan2(dy,dx) + jitter;

        const sp = bulletSpeed * (0.9 + Math.random()*0.35);
        bullets.push({
          x,y, vx: Math.cos(ang)*sp, vy: Math.sin(ang)*sp,
          r: 6 + Math.random()*3, life: 12
        });
      }
      function addBurst(x,y, n=18){
        for (let i=0;i<n;i++){
          const a = Math.random()*Math.PI*2;
          const sp = 70 + Math.random()*200;
          particles.push({ x,y, vx: Math.cos(a)*sp, vy: Math.sin(a)*sp, life: 0.6 + Math.random()*0.7 });
        }
      }

      function step(dt){
        const w=W(), h=H();
        if (!w || !h) return;

        // input (desktop)
        let ix = 0, iy = 0;
        if (keys["ArrowLeft"] || keys["a"] || keys["A"]) ix -= 1;
        if (keys["ArrowRight"]|| keys["d"] || keys["D"]) ix += 1;
        if (keys["ArrowUp"]   || keys["w"] || keys["W"]) iy -= 1;
        if (keys["ArrowDown"] || keys["s"] || keys["S"]) iy += 1;

        // input (mobile joystick)
        if (isMobile()){
          ix += joyVec.x;
          iy += joyVec.y;
        }

        const ilen = Math.hypot(ix,iy) || 1;
        if (ix!==0 || iy!==0){ ix/=ilen; iy/=ilen; }

        let sp = player.speed;
        if (boost>0){ sp *= 1.22; boost -= dt; }
        if (slow>0){ sp *= 0.72; slow -= dt; }

        player.vx = ix * sp;
        player.vy = iy * sp;

        player.x += player.vx * dt;
        player.y += player.vy * dt;

        player.x = Math.max(player.r, Math.min(w-player.r, player.x));
        player.y = Math.max(player.r, Math.min(h-player.r, player.y));

        // difficulty
        score += dt * (10 + level*2.2);
        const newLevel = 1 + Math.floor(score/120);
        if (newLevel !== level){
          level = newLevel;
          spawnEvery = Math.max(0.23, 0.85 - (level-1)*0.06);
          bulletSpeed = 150 + (level-1)*24;
          player.speed = 300 + (level-1)*7;
          addBurst(player.x, player.y, 8);
        }

        spawnTimer += dt;
        while (spawnTimer >= spawnEvery){
          spawnTimer -= spawnEvery;
          spawnBullet();
          if (level >= 6 && Math.random() < 0.25) spawnBullet();
        }

        // bullets
        for (let i=bullets.length-1;i>=0;i--){
          const b = bullets[i];
          b.x += b.vx*dt;
          b.y += b.vy*dt;
          b.life -= dt;

          const dist = Math.hypot(b.x-player.x, b.y-player.y);
          if (dist < b.r + player.r){
            running = false;
            endEl.style.display = "block";
            addBurst(player.x, player.y, 32);
            if (score > best){
              best = Math.floor(score);
              localStorage.setItem("yaarat_game_dodge_best", String(best));
            }
            break;
          }
          if (b.life <= 0 || b.x < -60 || b.x > w+60 || b.y < -60 || b.y > h+60){
            bullets.splice(i,1);
          }
        }

        // particles
        for (let i=particles.length-1;i>=0;i--){
          const p = particles[i];
          p.x += p.vx*dt; p.y += p.vy*dt;
          p.vx *= (1 - 2.1*dt); p.vy *= (1 - 2.1*dt);
          p.life -= dt;
          if (p.life <= 0) particles.splice(i,1);
        }
      }

      function draw(){
        const w=W(), h=H();
        if (!w || !h) return;

        ctx.clearRect(0,0,w,h);

        // grid
        ctx.globalAlpha = themeIsDark() ? 0.22 : 0.20;
        ctx.strokeStyle = themeIsDark() ? "#93c5fd" : "#2563eb";
        ctx.lineWidth = 1;
        const stepG = Math.max(42, Math.round(w/18));
        for (let x=stepG;x<w;x+=stepG){ ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,h); ctx.stroke(); }
        for (let y=stepG;y<h;y+=stepG){ ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(w,y); ctx.stroke(); }
        ctx.globalAlpha = 1;

        // bullets
        bullets.forEach(b=>{
          ctx.beginPath();
          ctx.fillStyle = themeIsDark() ? "rgba(239,68,68,.88)" : "rgba(239,68,68,.72)";
          ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
          ctx.fill();
        });

        // player
        ctx.beginPath();
        ctx.fillStyle = themeIsDark() ? "rgba(34,197,94,.95)" : "rgba(34,197,94,.82)";
        ctx.arc(player.x, player.y, player.r, 0, Math.PI*2);
        ctx.fill();

        // ring
        ctx.globalAlpha = 0.25;
        ctx.lineWidth = Math.max(5, Math.round(w/180));
        ctx.strokeStyle = themeIsDark() ? "#38bdf8" : "#2563eb";
        ctx.beginPath();
        ctx.arc(player.x, player.y, player.r+10, 0, Math.PI*2);
        ctx.stroke();
        ctx.globalAlpha = 1;

        // particles
        particles.forEach(p=>{
          ctx.globalAlpha = Math.max(0, Math.min(1, p.life));
          ctx.fillStyle = "#f59e0b";
          ctx.fillRect(p.x, p.y, 3, 3);
        });
        ctx.globalAlpha = 1;

        // HUD
        ctx.globalAlpha = 0.85;
        ctx.fillStyle = themeIsDark() ? "#e5e7eb" : "#0f172a";
        ctx.font = "900 14px system-ui, -apple-system, Segoe UI, Arial";
        ctx.fillText(paused ? "PAUSED" : "DODGE", 12, 20);
        ctx.globalAlpha = 1;
      }

      function loop(t){
        const dt = Math.min(0.033, (t-lastT)/1000);
        lastT = t;

        safeFitCanvas();
        if (running && !paused) step(dt);
        draw();

        scoreEl.textContent = String(Math.floor(score));
        bestEl.textContent  = String(best);
        lvlEl.textContent   = String(level);

        raf = requestAnimationFrame(loop);
      }

      function onKeyDown(e){
        keys[e.key] = true;
        if (e.key === "p" || e.key === "P") togglePause();
      }
      function onKeyUp(e){ keys[e.key] = false; }

      // Mobile joystick
      const joy = wrap.querySelector("#dgJoy");
      const knob= wrap.querySelector("#dgKnob");
      let joyDown = false;

      function setKnob(nx, ny){
        const max = 40;
        const x = Math.max(-max, Math.min(max, nx));
        const y = Math.max(-max, Math.min(max, ny));
        knob.style.transform = `translate(${x}px, ${y}px) translate(-50%,-50%)`;
        joyVec.x = x/max;
        joyVec.y = y/max;
      }
      function joyPos(ev){
        const rect = joy.getBoundingClientRect();
        const cx = rect.left + rect.width/2;
        const cy = rect.top + rect.height/2;
        return { x: ev.clientX - cx, y: ev.clientY - cy };
      }
      function onJoyDown(ev){
        joyDown = true;
        joy.setPointerCapture?.(ev.pointerId);
        const p = joyPos(ev);
        setKnob(p.x, p.y);
      }
      function onJoyMove(ev){
        if (!joyDown) return;
        const p = joyPos(ev);
        setKnob(p.x, p.y);
      }
      function onJoyUp(){
        joyDown = false;
        setKnob(0,0);
      }

      // buttons
      wrap.querySelector("#dgPause").addEventListener("click", togglePause);
      wrap.querySelector("#dgRestart").addEventListener("click", reset);
      wrap.querySelector("#dgBoost").addEventListener("click", ()=>{ boost = 0.35; });
      wrap.querySelector("#dgSlow").addEventListener("click", ()=>{ slow  = 0.45; });

      joy.addEventListener("pointerdown", onJoyDown);
      joy.addEventListener("pointermove", onJoyMove);
      joy.addEventListener("pointerup", onJoyUp);
      joy.addEventListener("pointercancel", onJoyUp);

      let raf = requestAnimationFrame(loop);
      window.addEventListener("keydown", onKeyDown);
      window.addEventListener("keyup", onKeyUp);
      window.addEventListener("resize", safeFitCanvas);

      // ğŸ‘ˆ ×—×©×•×‘: ×××ª×—×œ×™× ××—×¨×™ ×¤×¨×™×™× ×›×“×™ ×©×”×¤×× ×œ ×›×‘×¨ "× ×¤×ª×—" ×•×”×§× ×‘×¡ ×œ× ×™×”×™×” 0
      requestAnimationFrame(()=>reset());

      return function cleanup(){
        cancelAnimationFrame(raf);
        window.removeEventListener("keydown", onKeyDown);
        window.removeEventListener("keyup", onKeyUp);
        window.removeEventListener("resize", safeFitCanvas);
        joy.removeEventListener("pointerdown", onJoyDown);
        joy.removeEventListener("pointermove", onJoyMove);
        joy.removeEventListener("pointerup", onJoyUp);
        joy.removeEventListener("pointercancel", onJoyUp);
        fsBtn.onclick = null;
      };
    }

    /* ======================
       Game 5: Snake (FIXED: no-freeze, D-pad on mobile)
       ×¡×™×‘×ª ×”×§×¨×™×¡×” ×©×œ×š: ×œ×¤×¢××™× ×”×§× ×‘×¡ ×”×™×” 0 ×¨×•×—×‘ ×›×©×”×¤×× ×œ × ×¤×ª×— => cols/rows=0 => placeFood() ×œ×•×œ××” ××™× ×¡×•×¤×™×ª.
    ====================== */
    function renderSnakeGame(root){
      const wrap = document.createElement("div");
      wrap.className = "canvas-wrap";

      wrap.innerHTML = `
        <div class="gh-card">
          <div class="gh-row">
            <span class="gh-pill">× ×™×§×•×“: <span id="snScore">0</span></span>
            <span class="gh-pill">×©×™×: <span id="snBest">0</span></span>
            <span class="gh-pill">××”×™×¨×•×ª: <span id="snSpd">1</span>x</span>
          </div>
          <div class="gh-help" style="margin-top:10px;">
            ××—×©×‘: <span class="kbd">×—×¦×™×</span>/<span class="kbd">WASD</span> Â· ××•×‘×™×™×œ: D-Pad.
          </div>
        </div>

        <div class="canvas-box" id="snBox">
          <canvas class="game-canvas" id="snCanvas" width="860" height="460"></canvas>

          <div class="mcontrols">
            <div class="pad" aria-label="D-pad">
              <button type="button" id="snUp">â–²</button>
              <button type="button" disabled style="opacity:.55; cursor:default;">â€¢</button>
              <button type="button" id="snRestart">â†»</button>

              <button type="button" id="snLeft">â—€</button>
              <button type="button" disabled style="opacity:.55; cursor:default;">â€¢</button>
              <button type="button" id="snRight">â–¶</button>

              <button type="button" disabled style="opacity:.55; cursor:default;">â€¢</button>
              <button type="button" id="snDown">â–¼</button>
              <button type="button" disabled style="opacity:.55; cursor:default;">â€¢</button>
            </div>
            <div class="gh-help" style="max-width:320px; opacity:.8;">×˜×™×¤: ×ª×›× ×Ÿ ×¤× ×™×•×ª. ××œ ×ª×©×¨×•×£ ××¡×š.</div>
          </div>
        </div>

        <div class="gh-card" id="snEnd" style="display:none;">
          <div style="font-weight:1100;font-size:1.05rem;">× ×’××¨ ğŸ</div>
          <div class="gh-help" style="margin-top:8px;">××™×¤×•×¡ ×›×“×™ ×œ×”×ª×—×™×œ ××—×“×©.</div>
        </div>
      `;
      root.appendChild(wrap);

      const box = wrap.querySelector("#snBox");
      const canvas = wrap.querySelector("#snCanvas");
      const ctx = canvas.getContext("2d");

      // fullscreen mobile
      fsBtn.style.display = isMobile() ? "inline-flex" : "none";
      fsBtn.onclick = async ()=>{
        try{
          if (!document.fullscreenElement) await box.requestFullscreen?.();
          else await document.exitFullscreen?.();
        }catch(e){}
      };

      function safeFitCanvas(){
        const rect = canvas.getBoundingClientRect();
        if (!rect.width || rect.width < 80) return; // ğŸ‘ˆ ×©×•×‘: ×œ× ×œ××¤×©×¨ 0
        const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        const targetW = Math.floor(rect.width * dpr);
        const targetH = Math.floor((rect.width * (460/860)) * dpr);
        if (targetW < 160 || targetH < 120) return;
        if (canvas.width !== targetW || canvas.height !== targetH){
          canvas.width = targetW;
          canvas.height = targetH;
        }
      }
      safeFitCanvas();

      const scoreEl = wrap.querySelector("#snScore");
      const bestEl  = wrap.querySelector("#snBest");
      const spdEl   = wrap.querySelector("#snSpd");
      const endEl   = wrap.querySelector("#snEnd");

      let best = Number(localStorage.getItem("yaarat_game_snake_best") || "0");
      bestEl.textContent = String(best);

      let snake, dir, nextDir, food, score, alive;
      let tickMs = 140;
      let acc = 0;
      let last = performance.now();
      let keys = Object.create(null);
      let raf = null;

      function reset(){
        safeFitCanvas();

        const w = canvas.width || 860;
        const h = canvas.height || 460;

        const cell = isMobile() ? 26 : 22;
        const cols = Math.max(10, Math.floor(w/cell)); // ğŸ‘ˆ ××™× ×™××•×
        const rows = Math.max(8,  Math.floor(h/cell)); // ğŸ‘ˆ ××™× ×™××•×

        wrap.__cell = cell;
        wrap.__cols = cols;
        wrap.__rows = rows;

        snake = [{x: Math.floor(cols/2), y: Math.floor(rows/2)}];
        dir = {x:1,y:0};
        nextDir = {x:1,y:0};
        score = 0;
        alive = true;
        tickMs = 140;
        acc = 0;
        endEl.style.display = "none";
        placeFood();
        last = performance.now();
      }

      function placeFood(){
        const cols = wrap.__cols, rows = wrap.__rows;
        if (cols <= 1 || rows <= 1) { food = {x:0,y:0}; return; }

        // guard ×›×“×™ ×©×œ× ×ª×”×™×” ×œ×•×œ××” ××™× ×¡×•×¤×™×ª
        for (let guard=0; guard<800; guard++){
          const f = { x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows) };
          if (!snake.some(s=>s.x===f.x && s.y===f.y)){ food = f; return; }
        }
        // fallback ×× ××™×›×©×”×• ×”×›×œ ×ª×¤×•×¡
        food = { x: 0, y: 0 };
      }

      function setDir(nx,ny){
        if (!alive) return;
        if (nx === -dir.x && ny === -dir.y) return;
        nextDir = {x:nx,y:ny};
      }

      function step(){
        if (!alive) return;
        dir = nextDir;

        const cols = wrap.__cols, rows = wrap.__rows;
        const head = snake[0];
        const nh = { x: head.x + dir.x, y: head.y + dir.y };

        if (nh.x < 0 || nh.x >= cols || nh.y < 0 || nh.y >= rows){ die(); return; }
        if (snake.some((s,i)=> i>0 && s.x===nh.x && s.y===nh.y)){ die(); return; }

        snake.unshift(nh);

        if (nh.x === food.x && nh.y === food.y){
          score += 10;
          placeFood();
          if (tickMs > 72) tickMs -= 3;
        } else {
          snake.pop();
        }
      }

      function die(){
        alive = false;
        endEl.style.display = "block";
        if (score > best){
          best = score;
          localStorage.setItem("yaarat_game_snake_best", String(best));
        }
      }

      function draw(){
        const w = canvas.width, h = canvas.height;
        if (!w || !h) return;

        const cell = wrap.__cell;
        const cols = wrap.__cols, rows = wrap.__rows;

        ctx.clearRect(0,0,w,h);

        // grid
        ctx.globalAlpha = themeIsDark() ? 0.16 : 0.14;
        ctx.strokeStyle = themeIsDark() ? "#93c5fd" : "#2563eb";
        for (let x=0;x<=cols;x++){
          ctx.beginPath(); ctx.moveTo(x*cell,0); ctx.lineTo(x*cell,rows*cell); ctx.stroke();
        }
        for (let y=0;y<=rows;y++){
          ctx.beginPath(); ctx.moveTo(0,y*cell); ctx.lineTo(cols*cell,y*cell); ctx.stroke();
        }
        ctx.globalAlpha = 1;

        // food
        ctx.fillStyle = themeIsDark() ? "rgba(239,68,68,.9)" : "rgba(239,68,68,.75)";
        ctx.fillRect(food.x*cell+3, food.y*cell+3, cell-6, cell-6);

        // snake
        snake.forEach((s,i)=>{
          ctx.fillStyle = i===0
            ? (themeIsDark() ? "rgba(34,197,94,.95)" : "rgba(34,197,94,.82)")
            : (themeIsDark() ? "rgba(56,189,248,.55)" : "rgba(37,99,235,.30)");
          ctx.fillRect(s.x*cell+2, s.y*cell+2, cell-4, cell-4);
        });

        if (!alive){
          ctx.globalAlpha = 0.85;
          ctx.fillStyle = themeIsDark() ? "#e5e7eb" : "#0f172a";
          ctx.font = "1100 22px system-ui, -apple-system, Segoe UI, Arial";
          ctx.fillText("GAME OVER", 12, 30);
          ctx.globalAlpha = 1;
        }
      }

      function loop(t){
        const dt = t - last;
        last = t;
        acc += dt;

        safeFitCanvas();
        while (acc >= tickMs){ acc -= tickMs; step(); }
        draw();

        scoreEl.textContent = String(score);
        bestEl.textContent = String(best);
        spdEl.textContent = String(Math.round(140 / tickMs * 10)/10);

        raf = requestAnimationFrame(loop);
      }

      function onKeyDown(e){
        keys[e.key] = true;
        if (e.key==="ArrowLeft" || e.key==="a" || e.key==="A") setDir(-1,0);
        if (e.key==="ArrowRight"|| e.key==="d" || e.key==="D") setDir(1,0);
        if (e.key==="ArrowUp"   || e.key==="w" || e.key==="W") setDir(0,-1);
        if (e.key==="ArrowDown" || e.key==="s" || e.key==="S") setDir(0,1);
        if (e.key==="r" || e.key==="R") reset();
      }
      function onKeyUp(e){ keys[e.key] = false; }

      // D-pad (mobile)
      wrap.querySelector("#snUp").addEventListener("click", ()=>setDir(0,-1));
      wrap.querySelector("#snDown").addEventListener("click", ()=>setDir(0,1));
      wrap.querySelector("#snLeft").addEventListener("click", ()=>setDir(-1,0));
      wrap.querySelector("#snRight").addEventListener("click", ()=>setDir(1,0));
      wrap.querySelector("#snRestart").addEventListener("click", reset);

      window.addEventListener("keydown", onKeyDown);
      window.addEventListener("keyup", onKeyUp);
      window.addEventListener("resize", safeFitCanvas);

      // ğŸ‘ˆ ×©×•×‘: ××ª×—×•×œ ××—×¨×™ ×¤×¨×™×™× ×›×“×™ ×©×”×§× ×‘×¡ ×œ× ×™×”×™×” 0
      requestAnimationFrame(()=>{
        reset();
        raf = requestAnimationFrame(loop);
      });

      return function cleanup(){
        cancelAnimationFrame(raf);
        window.removeEventListener("keydown", onKeyDown);
        window.removeEventListener("keyup", onKeyUp);
        window.removeEventListener("resize", safeFitCanvas);
        fsBtn.onclick = null;
      };
    }

    // helpers
    function shuffle(arr){
      for (let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }
    function r(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    // auto: first chip active on mobile (nice UX)
    if (isMobile()){
      const first = document.querySelector(".gchip");
      if (first){ first.classList.add("active"); }
    }

  })();
  </script>
</section>





  <section id="home-poll-mini" class="section-light reveal-on-scroll">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">×¡×§×¨ ×”×©×‘×•×¢</h2>
        <p class="section-subtitle">
          ××¦×‘×™×¢×™× ×‘×§×œ×™×§ ×•×¨×•××™× ××™×“ ××™×š ×”×©×›×‘×” / ×‘×™×ª ×”×¡×¤×¨ ×—×•×©×‘×™×.
          ××¤×©×¨ ×œ×”×™×›× ×¡ ×œ×¢××•×“ ×”×¡×§×¨×™× ×›×“×™ ×œ×¨××•×ª ××ª ×›×œ ×”×¡×§×¨×™× ×”×§×•×“××™×.
        </p>
      </div>

      <div class="home-poll-card">
        <div class="home-poll-header">
          <span class="home-poll-badge">×¡×§×¨ ×”×©×‘×•×¢</span>
          <span class="home-poll-status-text" id="home-poll-status">×˜×•×¢×Ÿ ×¡×§×¨ ×¤×¢×™×œ...</span>
        </div>

        <div class="home-poll-body" id="home-poll-root">
          <p class="empty-msg">×˜×•×¢×Ÿ ×¡×§×¨...</p>
        </div>

        <div class="home-poll-footer">
          <span class="home-poll-votes" id="home-poll-total">0 ×”×¦×‘×¢×•×ª ×¢×“ ×¢×›×©×™×•</span>
          <a href="polls.html" class="home-poll-link">××¢×‘×¨ ×œ×›×œ ×”×¡×§×¨×™× Â»</a>
        </div>
      </div>
    </div>
  </section>

  <section id="requests" class="section-light reveal-on-scroll">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title" id="requests-title">×ª×™×‘×ª ×‘×§×©×•×ª</h2>
        <p class="section-subtitle" id="requests-subtitle">×¨×•×¦×™× ×œ×‘×§×© ××©×”×•? ×™×© ×¨×¢×™×•×Ÿ ×œ×©×™×¤×•×¨?</p>
      </div>

      <div class="card request-box">
        <h3 id="requests-box-title">×©×œ×™×—×ª ×‘×§×©×” ×œ××•×¢×¦×ª ×”×ª×œ××™×“×™× / ×”× ×”×œ×”</h3>
        <p id="requests-body">
          ×œ××™×œ×•×™ ×˜×•×¤×¡ ×”×‘×§×©×•×ª â€“ ×œ×—×¦×• ×¢×œ ×”×›×¤×ª×•×¨, ××œ××• ×¤×¨×˜×™× ×‘×§×¦×¨×” ×•× ×—×–×•×¨ ××œ×™×›× ×‘×”×§×“×.
        </p>
        <a
          href="https://docs.google.com/forms/d/e/1FAIpQLScisdjJ5h9t7VgSOa8hmnmrJh6H5VSy84uyE32hhOgDQEU05w/viewform?usp=sharing&ouid=106991680453150303010"
          target="_blank"
          class="btn"
        >
          ×œ××¢×‘×¨ ×œ×˜×•×¤×¡ ×”×‘×§×©×•×ª
        </a>
      </div>
    </div>
  </section>

  <section id="contact" class="section-light reveal-on-scroll">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title" id="contact-section-title">×™×¦×™×¨×ª ×§×©×¨</h2>
        <p class="section-subtitle" id="contact-section-subtitle">× ×™×ª×Ÿ ×œ×¤× ×•×ª ××œ×™× ×• ×‘×›×œ ×©××œ×”, ×‘×§×©×” ××• ×”×ª×™×™×¢×¦×•×ª.</p>
      </div>

      <div class="contact-flex">
        <div class="contact-box contact-info">
          <p>ğŸ“ ×˜×œ×¤×•×Ÿ: <span id="contact-phone">04-6440334</span></p>
          <p>âœ‰ï¸ ××™××™×™×œ: <span id="contact-email">@example.com</span></p>
          <p>ğŸ“ ×›×ª×•×‘×ª: <span id="contact-address">×¨×—×•×‘ ×œ×“×•×’××” 10, ××’×“×œ ×”×¢××§</span></p>
        </div>

        <div class="contact-box map-container-small">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d8626.962069771827!2d35.248568840191005!3d32.67741984975948!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151c4d61e49b7fdf%3A0x844e2317b042759e!2z15HXmSLXoSDXmdei16jXqiDXlNei157XpyDXl9eYIteR!5e0!3m2!1siw!2sil!4v1764975107997!5m2!1siw!2sil"
            allowfullscreen=""
            loading="lazy">
          </iframe>
        </div>
      </div>
    </div>
  </section>

<footer class="site-footer">
  <div class="footer-inner">

    <!-- RIGHT: socials -->
    <div class="footer-col footer-right">
      <a class="soc" href="https://www.facebook.com/p/%D7%97%D7%98%D7%99%D7%91%D7%AA-%D7%94%D7%A0%D7%A2%D7%95%D7%A8%D7%99%D7%9D-%D7%99%D7%A2%D7%A8%D7%AA-%D7%94%D7%A2%D7%9E%D7%A7-%D7%9E%D7%92%D7%93%D7%9C-%D7%94%D7%A2%D7%9E%D7%A7-61565220180198/"
         target="_blank" rel="noopener">
        <img src="face.jpg" alt="Facebook">
      </a>
      <a class="soc" href="https://www.instagram.com/yaarathaemeq/"
         target="_blank" rel="noopener">
        <img src="inst.jpg" alt="Instagram">
      </a>
    </div>

    <!-- CENTER: copyright -->
    <div class="footer-col footer-center">
      Â© 2026 Â· ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×‘×™×ª ×¡×¤×¨ ×™×¢×¨×ª ×”×¢××§
    </div>

    <!-- LEFT: developed by -->
    <div class="footer-col footer-left">
      <a href="https://ptzwebsitebuilding.vercel.app/"
         target="_blank" rel="noopener"
         class="footer-dev">
        <img src="peretzinho.png" alt="Peretzinho">
        <span>Developed by Peretzinho</span>
      </a>
    </div>

  </div>
</footer>



  <div id="to-top">â†‘</div>

<script>
(function () {
  const snippetEl = document.getElementById("hero-latest-snippet");
  const btnEl = document.getElementById("hero-latest-btn");
  const board = document.getElementById("home-board");
  if (!snippetEl || !btnEl || !board) return;

  function getCleanText(el){
    return (el?.textContent || "").replace(/\s+/g," ").trim();
  }

  function hasRealNews(){
    const t = getCleanText(board);
    if (!t) return false;
    if (t.includes("××™×Ÿ ×¢×“×™×™×Ÿ ×—×“×©×•×ª")) return false;
    if (t.includes("××™×Ÿ ×¢×“×™×™×Ÿ ×—×“×©×•×ª ×‘××ª×¨")) return false;
    return true;
  }

  function applyLatest(){
    // ×œ×•×§×— ××ª ×”×‘×œ×•×§ ×”×¨××©×•×Ÿ ×©×”×•× ×œ× empty-msg
    const firstItem =
      board.querySelector(":scope > :not(.empty-msg)") ||
      board.querySelector(".news-item, .board-item, article, .post, .card") ||
      board;

    const text = getCleanText(firstItem);
    if (!text) return false;

    // ××—×¤×© ×œ×™× ×§ ×œ×›×ª×‘×”
    const link =
      firstItem.querySelector("a[href]") ||
      board.querySelector("a[href]");

    snippetEl.textContent = text;

    if (link && link.getAttribute("href")) {
      btnEl.href = link.getAttribute("href");
      btnEl.textContent = "×œ×›×ª×‘×” ×”××œ××” â†’";
    } else {
      btnEl.href = "news.html";
      btnEl.textContent = "×œ×›×œ ×”×¢×“×›×•× ×™× â†’";
    }
    return true;
  }

  function showEmpty(){
    snippetEl.textContent = "×¢×“×™×™×Ÿ ××™×Ÿ ×¢×“×›×•×Ÿ ×—×“×©. ×‘×¨×’×¢ ×©×™×¢×œ×” â€“ ×”×•× ×™×•×¤×™×¢ ×›××Ÿ.";
    btnEl.href = "news.html";
    btnEl.textContent = "×œ×›×œ ×”×¢×“×›×•× ×™× â†’";
  }

  // 1) ×× ×›×‘×¨ ×™×© ×—×“×©×•×ª â€“ ××™×™×©×
  if (hasRealNews() && applyLatest()) return;

  // 2) ××—×›×” ×œ×˜×¢×™× ×” ×××™×ª×™×ª (poll ×§×¦×¨) ×•××– ××™×™×©×
  let tries = 0;
  const timer = setInterval(() => {
    tries++;
    if (hasRealNews() && applyLatest()) {
      clearInterval(timer);
    }
    if (tries >= 30) { // ~15 ×©× ×™×•×ª
      clearInterval(timer);
      if (!hasRealNews()) showEmpty();
    }
  }, 500);

})();
</script>


  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.add("page-loaded");

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });

      document.querySelectorAll(".reveal-on-scroll").forEach((el) => observer.observe(el));
    });
  </script>

  <script>
    (function () {
      const btn = document.getElementById("nav-toggle");
      const menu = document.getElementById("nav-mobile");
      if (!btn || !menu) return;

      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const isOpen = menu.classList.toggle("open");
        btn.setAttribute("aria-expanded", String(isOpen));
        menu.setAttribute("aria-hidden", String(!isOpen));
      });

      menu.querySelectorAll("a").forEach((a) => {
        a.addEventListener("click", () => {
          menu.classList.remove("open");
          btn.setAttribute("aria-expanded", "false");
          menu.setAttribute("aria-hidden", "true");
        });
      });

      document.addEventListener("click", (e) => {
        if (menu.contains(e.target) || btn.contains(e.target)) return;
        menu.classList.remove("open");
        btn.setAttribute("aria-expanded", "false");
        menu.setAttribute("aria-hidden", "true");
      });
    })();
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.addEventListener('controllerchange', () => window.location.reload());

      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => {
          if (!reg.waiting) return;

          const banner = document.getElementById('update-banner');
          banner.style.display = 'block';

          banner.onclick = () => reg.waiting.postMessage({ action: 'skipWaiting' });

          reg.waiting.addEventListener('statechange', (e) => {
            if (e.target.state === 'activated') window.location.reload();
          });
        })
        .catch(err => console.error('SW registration failed:', err));
    }
  </script>

<script type="module" src="firebase-config.js"></script>
<script src="accessibility.js"></script>
<script type="module" src="home-poll-mini.js"></script>
<script type="module" src="app.js?v=41"></script>
<script type="module" src="home-class-picker.js"></script>
<script type="module" src="./urgent.js"></script>
<script type="module" src="index.js?v=1"></script>
<script type="module" src="/analytics.js"></script>

</body>
</html>