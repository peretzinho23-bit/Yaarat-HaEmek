<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>×›×ª×‘×” â€“ ×™×¢×¨×ª ×”×¢××§</title>

  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="style.css" />

  <style>
    .article-page-wrapper {
      padding: 40px 0 60px;
    }
        #home-poll-mini{ padding:32px 0; }

    .home-poll-card{
      max-width:720px; margin:0 auto;
      border-radius:24px;
      padding:18px 18px 14px;
      background: rgba(15,23,42,0.96);
      border:1px solid rgba(148,163,184,0.5);
      box-shadow:0 18px 45px rgba(15,23,42,0.85);
      transition: background-color .25s ease, border-color .25s ease, box-shadow .25s ease, color .25s ease;
    }
    .home-poll-header{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; margin-bottom:10px; }
    .home-poll-badge{
      border-radius:999px; padding:4px 10px;
      font-size:.75rem;
      background:rgba(56,189,248,0.14);
      border:1px solid rgba(56,189,248,0.7);
      color:#bae6fd;
    }
    .home-poll-status-text{ font-size:.8rem; color:#9ca3af; }
    .home-poll-body{ margin-bottom:10px; }
    .home-poll-question{ font-size:1rem; font-weight:600; margin-bottom:8px; color:#e5f0ff; }

    .home-poll-options{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
    .home-poll-option{
      border-radius:999px;
      padding:6px 10px;
      background:rgba(15,23,42,0.9);
      border:1px solid rgba(51,65,85,0.9);
      font-size:.85rem;
      color:#e5e7eb;
      display:flex; justify-content:space-between; align-items:center; gap:6px;
    }
    .home-poll-option-label{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .home-poll-option-votes{ font-size:.75rem; color:#cbd5f5; white-space:nowrap; }

    .home-poll-footer{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; font-size:.8rem; }
    .home-poll-votes{ color:#9ca3af; }
    .home-poll-link{
      font-size:.8rem; text-decoration:none;
      border-radius:999px; padding:6px 10px;
      border:1px solid rgba(56,189,248,0.7);
      background:rgba(15,23,42,0.9);
      color:#7dd3fc;
    }
    .home-poll-link:hover{ text-decoration:underline; }

    :root[data-theme="light"] .home-poll-card{ background:#fff; border-color:rgba(15,23,42,0.08); box-shadow:0 12px 35px rgba(15,23,42,0.08); }
    :root[data-theme="light"] .home-poll-badge{ background:rgba(37,99,235,0.1); border-color:rgba(37,99,235,0.55); color:#1d4ed8; }
    :root[data-theme="light"] .home-poll-status-text{ color:#4b5563; }
    :root[data-theme="light"] .home-poll-question{ color:#111827; }
    :root[data-theme="light"] .home-poll-option{ background:#f9fafb; border-color:#e5e7eb; color:#111827; }
    :root[data-theme="light"] .home-poll-option-votes{ color:#4b5563; }
    :root[data-theme="light"] .home-poll-votes{ color:#6b7280; }
    :root[data-theme="light"] .home-poll-link{ background:#eff6ff; border-color:#2563eb; color:#1d4ed8; }
    @media (max-width:640px){ .home-poll-card{ padding:16px 14px 12px; } }

    #home-news .home-board-list > *:not(:first-child){ display:none !important; }
    #home-news .home-board-list p{
      display:-webkit-box;
      -webkit-line-clamp:4;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }

    .home-news-mini{ margin-top:8px; }
    .home-news-mini-item{ display:flex; align-items:center; gap:10px; }
    .home-news-mini-thumb-wrap{ flex:0 0 56px; height:56px; border-radius:12px; overflow:hidden; }
    .home-news-mini-thumb-wrap img{ width:100%; height:100%; object-fit:cover; display:block; }
    .home-news-mini-text{ flex:1; min-width:0; }
    .home-news-mini-title{ font-size:.9rem; font-weight:600; margin-bottom:2px; }
    .home-news-mini-body{ font-size:.8rem; color:#4b5563; max-height:2.6em; overflow:hidden; text-overflow:ellipsis; }
    .home-news-mini-empty{ font-size:.8rem; color:#6b7280; }
    .mini-link-inline{ display:inline-block; margin-top:4px; font-size:.78rem; }

    .hero-home-inner{
      position:relative; z-index:1;
      padding-top:64px; padding-bottom:40px;
      display:flex; flex-direction:column; gap:24px;
    }
    .hero-home-header{ max-width:720px; margin:0 auto 8px; text-align:center; }
    .hero-home-cards{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:18px; margin-top:18px; }
    .hero-quick-card ul{ margin:10px 0 0; padding-inline-start:1.1rem; font-size:.9rem; }
    @media (max-width:900px){
      .hero-home-inner{ padding-top:40px; }
      .hero-home-cards{ grid-template-columns:1fr; }
    }

    body[data-page="home"] .hero-home-header h1,
    body[data-page="home"] #hero-main-title{
      color:#fff;
      text-shadow:
        0 2px 16px rgba(0,0,0,.55),
        0 0 26px rgba(56,189,248,.35);
    }
    body[data-page="home"] .hero-home-header p,
    body[data-page="home"] #hero-main-body{
      color: rgba(255,255,255,.92);
      text-shadow: 0 2px 14px rgba(0,0,0,.45);
    }

    .hero.hero-home .hero-overlay{
      opacity: .38;
    }

    .hero-home-header .hero-glow-line{
      display:block;
      width:min(680px, 92vw);
      height:4px;
      margin:16px auto 0;
      border-radius:999px;
      background: linear-gradient(
        90deg,
        transparent 0%,
        #60a5fa 20%,
        #38bdf8 50%,
        #60a5fa 80%,
        transparent 100%
      );
      background-size:200% 100%;
      box-shadow: 0 0 18px rgba(56,189,248,.35), 0 8px 28px rgba(37,99,235,.25);
      opacity:.95;
      animation: heroGlowMove 5s linear infinite;
    }
    @keyframes heroGlowMove{
      from{ background-position:0% 50%; }
      to{ background-position:200% 50%; }
    }
    @media (max-width:768px){
      .hero-home-header .hero-glow-line{ height:3px; }
    }

    .hero-actions a,
    .hero-actions .btn,
    .hero-actions .btn-outline{
      border-radius:999px;
      padding:10px 18px;
      font-weight:800;
      letter-spacing:.2px;
      background: rgba(255,255,255,0.75);
      color:#0f172a;
      border:1px solid rgba(255,255,255,0.6);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow:0 8px 24px rgba(15,23,42,0.18);
      transition: all .25s ease;
    }
    .hero-actions a:hover{
      background: rgba(37,99,235,0.9);
      color:#fff;
      border-color: transparent;
      box-shadow:0 12px 35px rgba(37,99,235,0.45);
      transform: translateY(-1px);
    }
    html[data-theme="dark"] .hero-actions a,
    html[data-theme="dark"] .hero-actions .btn,
    html[data-theme="dark"] .hero-actions .btn-outline{
      background: rgba(255,255,255,0.18);
      color:#fff;
      border:1px solid rgba(255,255,255,0.35);
      box-shadow:0 10px 30px rgba(0,0,0,0.35);
    }

    .hero-home-cards .grade-card{
      border-radius:18px;
      padding:18px 18px 16px;
      border:1px solid rgba(255,255,255,0.40);
      background: rgba(255,255,255,0.92); /* ×¨×’×™×œ â€“ ×‘×¨×•×¨ */
      box-shadow:0 10px 26px rgba(15,23,42,0.12);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }

    .hero-home-cards .grade-card:hover{
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(12px) saturate(135%);
      -webkit-backdrop-filter: blur(12px) saturate(135%);
      transform: translateY(-4px);
      box-shadow:0 18px 45px rgba(15,23,42,0.18);
      border-color: rgba(37,99,235,0.22);
    }

    .hero-home-cards .grade-card h3{
      margin:0 0 8px;
      font-size:1.05rem;
      font-weight:800;
      letter-spacing:.2px;
      color: rgba(15,23,42,0.92);
    }
    .hero-home-cards .grade-card p,
    .hero-home-cards .grade-card li{
      color: rgba(15,23,42,0.72);
      line-height:1.55;
    }

    .hero-home-cards .grade-card:nth-child(2){
      border-color: rgba(37,99,235,0.20);
      box-shadow:0 14px 34px rgba(37,99,235,0.10);
      position: relative;
    }
    .hero-home-cards .grade-card:nth-child(2)::before{
      content:"";
      position:absolute;
      inset:12px auto 12px 12px;
      width:4px;
      border-radius:999px;
      background: rgba(37,99,235,0.50);
    }

    /* DARK */
    html[data-theme="dark"] .hero-home-cards .grade-card{
      background: rgba(15,23,42,0.88);
      border-color: rgba(148,163,184,0.22);
      box-shadow:0 14px 40px rgba(0,0,0,0.45);
    }
    html[data-theme="dark"] .hero-home-cards .grade-card:hover{
      background: rgba(15,23,42,0.45);
      backdrop-filter: blur(12px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
      border-color: rgba(56,189,248,0.28);
    }
    html[data-theme="dark"] .hero-home-cards .grade-card h3{ color: rgba(255,255,255,0.92); }
    html[data-theme="dark"] .hero-home-cards .grade-card p,
    html[data-theme="dark"] .hero-home-cards .grade-card li{ color: rgba(255,255,255,0.74); }
    html[data-theme="dark"] .hero-home-cards .grade-card:nth-child(2)::before{ background: rgba(56,189,248,0.55); }

    @media (max-width:900px){
      .hero-home-cards .grade-card{
        padding:16px 14px 14px;
        border-radius:16px;
      }
      .hero-home-cards .grade-card:hover{
        backdrop-filter: blur(10px) saturate(125%);
        -webkit-backdrop-filter: blur(10px) saturate(125%);
      }
      .hero-home-cards .grade-card:nth-child(2)::before{
        inset:12px auto 12px 10px;
      }
    }

    /* ---------- ALL NEWS BUTTON ---------- */
    .all-news-btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 18px; margin-top:12px;
      font-size:.9rem; font-weight:600;
      text-decoration:none;
      color:#2563eb; background:#eff6ff;
      border:1px solid #bfdbfe; border-radius:999px;
      transition: background .25s ease, color .25s ease, transform .2s ease, box-shadow .25s ease;
    }
    .all-news-btn::before{ content:"ğŸ“°"; font-size:.95rem; }
    .all-news-btn:hover{ background:#2563eb; color:#fff; transform:translateY(-1px); box-shadow:0 8px 20px rgba(37,99,235,0.35); }
    :root[data-theme="dark"] .all-news-btn{ background:rgba(37,99,235,0.15); color:#93c5fd; border-color:rgba(37,99,235,0.4); }
    :root[data-theme="dark"] .all-news-btn:hover{ background:#2563eb; color:#fff; }

    .nav.nav-centered{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:10px 0; position:relative;
    }
    .nav-side{ display:flex; gap:10px; align-items:center; flex:1; }
    .nav-right-links{ justify-content:flex-start; }
    .nav-left-links{ justify-content:flex-end; }

    .logo-circle{
      width:74px; height:74px;
      border-radius:999px; overflow:hidden;
      border:2px solid rgba(59,130,246,0.35);
      background: rgba(255,255,255,0.9);
      box-shadow:0 10px 25px rgba(15,23,42,0.12);
      display:flex; align-items:center; justify-content:center;
    }
    .logo-img{ width:100%; height:100%; object-fit:cover; }
    html[data-theme="dark"] .logo-circle{
      background: rgba(15,23,42,0.55);
      border-color: rgba(56,189,248,0.35);
    }
    @media (max-width:900px){
      .logo-circle{ width:64px; height:64px; }
    }

    .nav-side a{
      padding:8px 14px;
      border-radius:999px;
      background: rgba(255,255,255,0.92);
      border:1px solid rgba(148,163,184,0.55);
      color:#0f172a;
      box-shadow:0 8px 20px rgba(15,23,42,0.08);
      font-size:.92rem;
      font-weight:600;
      letter-spacing:.2px;
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .nav-side a:hover{
      transform: translateY(-1px);
      box-shadow:0 12px 28px rgba(15,23,42,0.12);
      background:#eff6ff;
    }
    html[data-theme="dark"] .nav-side a{
      background: rgba(15,23,42,0.55);
      color:#e5e7eb;
      border-color: rgba(148,163,184,0.35);
    }
    .nav-side .personal-btn{
      background:#1d4ed8;
      color:#fff;
      border:none;
      font-weight:800;
    }
    .nav-side .btn-outline{ opacity:.85; }

    .theme-toggle-btn{
      all:unset;
      box-sizing:border-box;
      width:44px; height:44px;
      border-radius:50%;
      display:inline-flex; align-items:center; justify-content:center;
      cursor:pointer;
      border:1px solid rgba(148,163,184,0.6);
      background: rgba(255,255,255,0.92);
      box-shadow:0 8px 20px rgba(15,23,42,0.08);
      font-size:1.4rem;
      z-index:50;
    }
    html[data-theme="dark"] .theme-toggle-btn{ background: rgba(15,23,42,0.9); color:#f9fafb; }

    .nav-toggle{ display:none; }
    .nav-mobile{ display:none; }

    @media (max-width:900px){
      .nav-right-links, .nav-left-links{ display:none !important; }
      .nav.nav-centered{ justify-content:center; min-height:70px; }

      .nav-toggle{
        display:flex;
        position:absolute;
        left:12px;
        top:50%;
        transform: translateY(-50%);
        flex-direction:column;
        gap:4px;
        background:none;
        border:none;
        cursor:pointer;
        z-index:9999;
      }
      .nav-toggle span{ width:22px; height:2px; background:#0f172a; }
      html[data-theme="dark"] .nav-toggle span{ background:#e5e7eb; }

      #theme-toggle.theme-toggle-btn{
        position:absolute;
        right:12px;
        top:50%;
        transform: translateY(-50%);
        z-index:9999;
      }

      #nav-mobile.nav-mobile{
        display:none;
        position:absolute;
        top: calc(100% + 10px);
        left: 6px;
        width: min(220px, calc(100% - 24px));
        background: rgba(255,255,255,0.98);
        border:1px solid rgba(148,163,184,0.45);
        border-radius:18px;
        padding:8px;
        box-shadow:0 18px 45px rgba(15,23,42,0.18);
        z-index:9999;
      }
      html[data-theme="dark"] #nav-mobile.nav-mobile{
        background: rgba(15,23,42,0.95);
        border-color: rgba(148,163,184,0.35);
      }
      #nav-mobile.nav-mobile.open{ display:block; }

      #nav-mobile.nav-mobile a{
        display:block;
        padding:9px 10px;
        border-radius:12px;
        margin:6px 0;
        background: rgba(255,255,255,0.9);
        border:1px solid rgba(148,163,184,0.45);
        color:#0f172a;
        font-weight:600;
      }
      html[data-theme="dark"] #nav-mobile.nav-mobile a{
        background: rgba(2,6,23,0.55);
        border-color: rgba(148,163,184,0.25);
        color:#e5e7eb;
      }
    }

    .home-class-card{ width:100%; max-width:680px; margin:0 auto; text-align:center; padding:18px; }
    .home-class-row{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center; }
    .home-class-row .select{ min-width:160px; }

    #urgent-wrap{ width:100%; }
    .urgent-bar{
      width:min(1200px, calc(100% - 28px));
      margin:18px auto;
      padding:10px 14px;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.35);
      background: rgba(251,191,36,.14);
      overflow:hidden;
    }
    .urgent-inner{ display:flex; align-items:center; gap:12px; }
    .urgent-badge{
      flex-shrink:0;
      font-weight:900;
      padding:6px 12px;
      border-radius:999px;
      background: rgba(15,23,42,.15);
      white-space:nowrap;
    }
    .urgent-marquee{ overflow:hidden; flex:1; }
    .urgent-marquee-text{
      display:inline-block;
      direction:rtl;
      unicode-bidi: plaintext;
      font-weight:900;
      white-space:nowrap;
      will-change: transform;
      animation: urgentMarquee var(--urgent-speed, 14s) linear infinite;
      background: linear-gradient(90deg, #2563eb, #0f172a, #f59e0b);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    @keyframes urgentMarquee{
      from{ transform: translateX(0); }
      to{ transform: translateX(-100%); }
    }
    @media (max-width:768px){
      .urgent-marquee-text{ animation-duration:22s; padding-right:24px; }
    }


    /* ADMIN â€“ ×›×—×•×œ ×‘×¨×•×¨ */
    html[data-theme="dark"] .nav-side a.btn-outline,
    html[data-theme="dark"] .nav-side a[href*="admin"]{
      background: rgba(37, 99, 235, 0.85);
      color: #ffffff;
      border: 1px solid rgba(147,197,253,0.6);
      box-shadow:
        0 8px 26px rgba(37,99,235,0.45),
        0 0 0 1px rgba(255,255,255,0.08) inset;
    }

    html[data-theme="dark"] .nav-side a[href*="admin"]:hover{
      background: #2563eb;
      box-shadow:
        0 14px 40px rgba(37,99,235,0.65),
        0 0 24px rgba(56,189,248,0.45);
      transform: translateY(-1px);
    }

    html[data-theme="dark"] .nav-side .personal-btn{
      background: linear-gradient(135deg,#38bdf8,#2563eb) !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow:
        0 14px 42px rgba(37,99,235,0.55),
        0 0 26px rgba(56,189,248,0.45);
      font-weight: 900;
      letter-spacing: .3px;
    }
    html[data-theme="dark"] .nav-side .personal-btn:hover{
      filter: brightness(1.08);
      transform: translateY(-2px);
      box-shadow:
        0 18px 55px rgba(37,99,235,0.75),
        0 0 36px rgba(56,189,248,0.65);
    }

    /* ADMIN â€“ Light Mode */
    html[data-theme="light"] .nav-side a.btn-outline,
    html[data-theme="light"] .nav-side a[href*="admin"]{
      background: linear-gradient(135deg,#e0ecff,#c7ddff);
      color: #1d4ed8;
      border: 1px solid #93c5fd;
      box-shadow:
        0 6px 18px rgba(37,99,235,0.18),
        0 0 0 1px rgba(255,255,255,0.8) inset;
      font-weight: 700;
    }
    html[data-theme="light"] .nav-side a[href*="admin"]:hover{
      background: #2563eb;
      color: #ffffff;
      box-shadow: 0 12px 34px rgba(37,99,235,0.35);
      transform: translateY(-1px);
    }

    html[data-theme="light"] .nav-side .personal-btn{
      background: linear-gradient(135deg,#2563eb,#38bdf8) !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow:
        0 10px 30px rgba(37,99,235,0.35),
        0 0 0 1px rgba(255,255,255,0.35) inset;
      font-weight: 900;
      letter-spacing: .25px;
    }
    html[data-theme="light"] .nav-side .personal-btn:hover{
      filter: brightness(1.06);
      transform: translateY(-2px);
      box-shadow: 0 16px 44px rgba(37,99,235,0.45);
    }


/* 1) ×œ×”×¤×•×š ××ª ×”××¢×‘×¨ ×œ"×—×œ×§" */
.hero-home-cards .grade-card{
  will-change: transform, background-color, box-shadow, border-color;
  transition:
    transform .28s ease,
    background-color .28s ease,
    box-shadow .28s ease,
    border-color .28s ease;
}

.hero-home-cards .grade-card:hover{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  background: rgba(255,255,255,0.78) !important; /* ×—×œ×§ ×•×œ× ×§×™×¦×•× ×™ */
  transform: translateY(-4px) !important;
  box-shadow: 0 18px 45px rgba(15,23,42,0.18) !important;
  border-color: rgba(37,99,235,0.22) !important;
}

/* 3) ×‘×“××¨×§ â€“ ××•×ª×• ×¨×¢×™×•×Ÿ */
html[data-theme="dark"] .hero-home-cards .grade-card:hover{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  background: rgba(15,23,42,0.70) !important;
  transform: translateY(-4px) !important;
  box-shadow: 0 18px 45px rgba(0,0,0,0.45) !important;
  border-color: rgba(56,189,248,0.25) !important;
}

@media (hover: none){
  .hero-home-cards .grade-card:active,
  .hero-home-cards .grade-card:focus-within{
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: rgba(255,255,255,0.78) !important;
  }
  html[data-theme="dark"] .hero-home-cards .grade-card:active,
  html[data-theme="dark"] .hero-home-cards .grade-card:focus-within{
    background: rgba(15,23,42,0.70) !important;
  }
}

/* ×‘×¨×™×¨×ª ××—×“×œ: ×©×™×”×™×” ××¢×‘×¨ ×¢×“×™×Ÿ ×¨×§ ×‘×¦×‘×¢×™× (×œ× ×¤×™×œ×˜×¨×™×/blur) */
html, body, .header-main, .section-light, .section-dark-strong, .grade-card,
.nav-side a, .theme-toggle-btn, .btn, .btn-outline {
  transition: background-color .22s ease, color .22s ease, border-color .22s ease, box-shadow .22s ease;
}

/* âœ… ×‘×–××Ÿ ×”×—×œ×¤×ª ×“××¨×§/×œ×™×™×˜: ××‘×˜×œ ×”×›×œ ×›×“×™ ×©×œ× ×ª×¨××” "×‘×™× ×™×™×" ××›×•×¢×¨ */
html.theme-changing *,
html.theme-changing *::before,
html.theme-changing *::after {
  transition: none !important;
  animation: none !important;
}
    .article-card {
      border-radius: 24px;
      padding: 22px 26px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.25);
      max-width: 900px;
      margin: 0 auto;
    }

    html[data-theme="light"] .article-card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
    }

    html[data-theme="dark"] .article-card {
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .article-title {
      font-size: 1.6rem;
      margin-bottom: 8px;
    }

    .article-meta {
      font-size: 0.85rem;
      opacity: 0.8;
      margin-bottom: 12px;
    }

    .article-images {
      margin: 55px 0 18px;
    }

    .article-images img {
      width: 100%;
      max-height: 380px;
      object-fit: cover;
      border-radius: 18px;
      display: block;
    }

    .article-body {
      font-size: 0.98rem;
      line-height: 1.7;
      white-space: pre-line;
    }

    .article-back {
      max-width: 900px;
      margin: 12px auto 0;
      text-align: left;
    }

    .article-back a {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 999px;
      border: 1px solid #22c55e;
      font-size: 0.9rem;
      text-decoration: none;
    }

    html[data-theme="light"] .article-back a {
      background: #ecfdf3;
      color: #166534;
    }

    html[data-theme="dark"] .article-back a {
      background: rgba(22, 163, 74, 0.12);
      color: #bbf7d0;
    }

    .article-back a:hover {
      filter: brightness(1.05);
    }
  </style>
</head>

<body data-page="article">
  <!-- ×× ×œ×™×˜×™×§×•×ª -->
  <script type="module" src="analytics.js"></script>

  <!-- HEADER -->
 <header class="header-main">
  <div class="container">
    <nav class="nav nav-centered" aria-label="× ×™×•×•×˜ ×¨××©×™">

      <div class="nav-side nav-right-links">
        <a href="index.html#home-news">×—×“×©×•×ª</a>
        <a href="index.html#grades">×”×©×›×‘×•×ª</a>
        <a href="polls.html">×¡×§×¨×™×</a>
        <a href="about.html">××•×“×•×ª</a>
      </div>

      <div class="nav-center">
        <a href="index.html" class="logo-circle" aria-label="×“×£ ×”×‘×™×ª">
          <img
            src="https://i.ibb.co/tp4K737Y/Cropped-circle-image-1.png"
            alt="×¡××œ ×™×¢×¨×ª ×”×¢××§"
            class="logo-img"
          />
        </a>
      </div>

<div class="nav-side nav-left-links">
  <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
  <a href="admin.html" class="btn-outline">Admin</a>
  <a href="teachers.html" class="teacher-portal-btn">
   ×¤×•×¨×˜×œ ××•×¨×™×
</a>

</div>


      <button id="theme-toggle" class="theme-toggle-btn" type="button" aria-label="××¦×‘ ×›×”×”/×‘×”×™×¨">
        ğŸŒ™
      </button>

      <button
        class="nav-toggle"
        id="nav-toggle"
        type="button"
        aria-label="×¤×ª×— ×ª×¤×¨×™×˜"
        aria-expanded="false"
        aria-controls="nav-mobile"
      >
        <span></span><span></span><span></span>
      </button>

      <div class="nav-mobile" id="nav-mobile" aria-hidden="true">
        <a href="index.html#home-news">×—×“×©×•×ª</a>
        <a href="index.html#home-exams">××‘×—× ×™×</a>
<a href="index.html#home-class-picker">×”×©×›×‘×•×ª</a>
        <a href="polls.html">×¡×§×¨×™×</a>
        <a href="about.html">××•×“×•×ª</a>
        <a href="index.html#contact">×™×¦×™×¨×ª ×§×©×¨</a>
        <a href="redirect-edu.html" class="personal-btn">×œ××¨×—×‘ ×”××™×©×™</a>
          <a href="teachers.html" class="teacher-portal-btn">
   ×¤×•×¨×˜×œ ××•×¨×™×
        <a href="admin.html" class="btn-outline">Admin</a>
        
      </div>

    </nav>
  </div>
</header>

  <main class="article-page-wrapper">
    <div class="container">
      <article id="article-container" class="article-card">
        <h1 class="article-title">×˜×•×¢×Ÿ ×›×ª×‘×”...</h1>
        <p class="article-body">×× × ×”××ª×Ÿ ×¨×’×¢.</p>
      </article>

      <div class="article-back">
        <a href="news.html">â† ×—×–×¨×” ×œ×›×œ ×”×—×“×©×•×ª</a>
      </div>
    </div>
  </main>

  <footer>
  Â© ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×‘×™×ª ×¡×¤×¨ ×™×¢×¨×ª ×”×¢××§ Â·
  Developed By
  <a
    class="footer-devlink"
    href="https://ptzwebsitebuilding.vercel.app/"
    target="_blank"
    rel="noopener noreferrer"
  >Peretzinho</a></a>
  </footer>
  <div id="to-top">â†‘</div>

  <script src="accessibility.js"></script>

  <!-- ×¡×§×¨×™×¤×˜ ×©××‘×™× ××ª ×”×›×ª×‘×” ×œ×¤×™ ×”×¤×¨××˜×¨×™× ×‘-URL -->
  <script type="module">
    import { db } from "./firebase-config.js";
    import { doc, getDoc } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";

    const GRADES = ["z", "h", "t"];
    const GRADE_LABELS = { z: "×–×³", h: "×—×³", t: "×˜×³" };

    function escapeHtml(str) {
      return String(str || "")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    function timeAgo(dateStr) {
      if (!dateStr) return "";
      const d = new Date(dateStr);
      if (isNaN(d.getTime())) return "";

      const seconds = Math.floor((Date.now() - d.getTime()) / 1000);

      if (seconds < 60) return "×œ×¤× ×™ ×¨×’×¢";
      if (seconds < 3600) return `×œ×¤× ×™ ${Math.floor(seconds / 60)} ×“×§×•×ª`;
      if (seconds < 86400) return `×œ×¤× ×™ ${Math.floor(seconds / 3600)} ×©×¢×•×ª`;
      if (seconds < 604800) return `×œ×¤× ×™ ${Math.floor(seconds / 86400)} ×™××™×`;
      if (seconds < 2592000) return `×œ×¤× ×™ ${Math.floor(seconds / 604800)} ×©×‘×•×¢×•×ª`;
      if (seconds < 31536000) return `×œ×¤× ×™ ${Math.floor(seconds / 2592000)} ×—×•×“×©×™×`;
      return `×œ×¤× ×™ ${Math.floor(seconds / 31536000)} ×©× ×™×`;
    }

    function formatLocalDate(d) {
      try {
        const day = String(d.getDate()).padStart(2, "0");
        const month = String(d.getMonth() + 1).padStart(2, "0");
        const year = d.getFullYear();
        return `${day}.${month}.${year}`;
      } catch {
        return "";
      }
    }

    function toJsDate(raw) {
      if (!raw) return null;

      if (typeof raw === "object" && raw !== null && typeof raw.toDate === "function") {
        try {
          return raw.toDate();
        } catch {
          return null;
        }
      }

      const d = new Date(raw);
      return isNaN(d.getTime()) ? null : d;
    }

    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    async function loadArticle() {
      const type = getQueryParam("type") || "news";
      const grade = getQueryParam("grade") || "z";
      const indexStr = getQueryParam("index");
      const index = indexStr ? parseInt(indexStr, 10) : NaN;

      const container = document.getElementById("article-container");

      if (!indexStr || Number.isNaN(index)) {
        showNotFound(container);
        return;
      }

      try {
        let item = null;

        if (type === "board") {
          const snap = await getDoc(doc(db, "board", "general"));
          const data = snap.exists() ? snap.data() : { items: [] };
          const arr = data.items || [];
          item = arr[index] || null;
        } else {
          if (!GRADES.includes(grade)) {
            showNotFound(container);
            return;
          }
          const snap = await getDoc(doc(db, "news", grade));
          const data = snap.exists() ? snap.data() : { items: [] };
          const arr = data.items || [];
          item = arr[index] || null;
        }

        if (!item) {
          showNotFound(container);
          return;
        }

        const images = Array.isArray(item.imageUrls) && item.imageUrls.length
          ? item.imageUrls
          : (item.imageUrl ? [item.imageUrl] : []);

        let metaPieces = [];
        if (type === "board") {
          metaPieces.push("×œ×•×— ××•×“×¢×•×ª");
        } else {
          const gradeLabel = GRADE_LABELS[grade] || "";
          if (gradeLabel) metaPieces.push(`×©×›×‘×” ${gradeLabel}`);
        }

        const rawDate = item.createdAt || item.date;
        const d = toJsDate(rawDate);

        if (d) {
          const iso = d.toISOString();
          const rel = timeAgo(iso);
          const abs = formatLocalDate(d);

          if (rel && abs) metaPieces.push(`${rel} (${abs})`);
          else if (abs) metaPieces.push(abs);
        }

        if (item.meta) metaPieces.push(item.meta);

        const metaHtml = metaPieces.length
          ? `<div class="article-meta">${escapeHtml(metaPieces.join(" Â· "))}</div>`
          : "";

        const imagesHtml = images.length
          ? `
            <div class="article-images">
              <img src="${escapeHtml(images[0])}" alt="${escapeHtml(item.title || "")}">
            </div>
          `
          : "";

        container.innerHTML = `
          <h1 class="article-title">${escapeHtml(item.title || "")}</h1>
          ${metaHtml}
          ${imagesHtml}
          <div class="article-body">${escapeHtml(item.body || "")}</div>
        `;

        if (item.title) {
          document.title = String(item.title) + " â€“ ×™×¢×¨×ª ×”×¢××§";
        }
      } catch (err) {
        console.error("×©×’×™××” ×‘×˜×¢×™× ×ª ×›×ª×‘×”:", err);
        showNotFound(document.getElementById("article-container"));
      }
    }

    function showNotFound(container) {
      container.innerHTML = `
        <h1 class="article-title">×”×›×ª×‘×” ×œ× × ××¦××”</h1>
        <p class="article-body">
          ×”×›×ª×‘×” ×©×‘×™×§×©×ª ×œ× × ××¦××”. ×™×™×ª×›×Ÿ ×©×§×™×©×•×¨ ×©×’×•×™ ××• ×©×”×¤×¨×™×˜ ×”×•×¡×¨.
        </p>
      `;
    }

    loadArticle();
  </script>

  <!-- âœ… THEME TOGGLE (×—×™×™×‘ ×œ×”×™×•×ª ×›××Ÿ ×›×“×™ ×©×”×›×¤×ª×•×¨ ×™×¢×‘×•×“ ×‘×¢××•×“ ×”×›×ª×‘×”) -->
  <script>
    (function () {
      const btn = document.getElementById("theme-toggle");
      if (!btn) return;

      const KEY = "yaar_theme";

      function applyTheme(theme) {
        document.documentElement.setAttribute("data-theme", theme);
        btn.textContent = theme === "dark" ? "ğŸŒ™" : "â˜€ï¸";
      }

      // init: ×§×•×“× localStorage, ×× ××™×Ÿ ××– ×œ×¤×™ ××¢×¨×›×ª
      const saved = localStorage.getItem(KEY);
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(saved || (prefersDark ? "dark" : "light"));

      // toggle
      btn.addEventListener("click", () => {
        const current = document.documentElement.getAttribute("data-theme") || "light";
        const next = current === "dark" ? "light" : "dark";
        localStorage.setItem(KEY, next);
        applyTheme(next);
      });
    })();
  </script>
  
<script type="module" src="/analytics.js"></script>

</body>
</html>