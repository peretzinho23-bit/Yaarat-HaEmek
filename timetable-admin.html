<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>××¢×¨×›×ª ×©×¢×•×ª â€“ × ×™×”×•×œ</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="admin.css" />

  <style>
    /* =========================
       Timetable Admin â€“ UI Polish
       (NO JS changes)
       ========================= */

    :root{
      --ring: rgba(56,189,248,.35);
      --border: rgba(148,163,184,.26);
      --glass: rgba(255,255,255,.70);
      --glass2: rgba(255,255,255,.58);
      --shadow: 0 16px 40px rgba(15,23,42,.10);
      --shadow2: 0 20px 55px rgba(15,23,42,.12);
      --radius: 20px;
    }
    html[data-theme="dark"]{
      --glass: rgba(2,6,23,.42);
      --glass2: rgba(2,6,23,.34);
      --shadow: 0 22px 60px rgba(0,0,0,.35);
      --shadow2: 0 26px 80px rgba(0,0,0,.42);
      --border: rgba(148,163,184,.18);
      --ring: rgba(56,189,248,.22);
    }

    .tt-wrap { max-width: 1120px; margin: 0 auto; }

    /* Header tweak (keeps your structure) */
    .header-main{ position: sticky; top: 0; z-index: 50; backdrop-filter: blur(10px); }
    .header-main .container{ padding-top: 10px; padding-bottom: 10px; }

    /* Better logo bubble without changing HTML */
    .logo-circle{
      width:64px;height:64px;border-radius:999px;
      display:flex;align-items:center;justify-content:center;
      border:2px solid rgba(59,130,246,.28);
      background: rgba(255,255,255,.90);
      box-shadow: 0 12px 30px rgba(15,23,42,.12);
      overflow:hidden;
      font-weight: 900;
      line-height: 1.05;
      text-align:center;
      color:#0f172a;
    }
    html[data-theme="dark"] .logo-circle{
      background: rgba(15,23,42,.60);
      border-color: rgba(56,189,248,.26);
      color:#e5e7eb;
    }

    /* Cards */
    .row-card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      background: var(--glass);
      box-shadow: var(--shadow);
    }

    .muted { opacity: .86; font-size: .93rem; line-height: 1.6; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    /* Sticky control bar */
    .tt-top{
      position: sticky;
      top: 92px; /* header height-ish */
      z-index: 40;
      padding: 12px;
      margin: 10px 0 14px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: var(--glass2);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow2);
      display:flex;
      gap: 14px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }

    .tt-actions { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

    /* Buttons â€“ unify look */
    button, .btn, .btn-outline{
      border-radius: 999px !important;
      padding: 10px 14px !important;
      font-weight: 900 !important;
      letter-spacing: .2px;
    }

    /* Controls */
    .ctrl-label{
      display:flex;
      align-items:center;
      gap:10px;
      margin:0;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.55);
    }
    html[data-theme="dark"] .ctrl-label{
      background: rgba(2,6,23,.28);
    }

    .ctrl-label select{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.35);
      background: rgba(0, 0, 0, 0.9);
      color: inherit;
      outline:none;
      min-width: 220px;
    }
    .ctrl-label select:focus{
      border-color: rgba(56,189,248,.55);
      box-shadow: 0 0 0 4px rgba(56,189,248,.16);
    }
    html[data-theme="dark"] .ctrl-label select{
      background: rgba(2,6,23,0.35);
      border-color: rgba(148,163,184,0.22);
    }

    /* A nicer "help box" instead of "test page" warning */
    .note{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(37,99,235,.20);
      background: rgba(219,234,254,.55);
      color: #0f172a;
    }
    html[data-theme="dark"] .note{
      background: rgba(30,58,138,.18);
      border-color: rgba(56,189,248,.18);
      color: #e5e7eb;
    }
    .note .badge{
      flex:0 0 auto;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 950;
      background: rgba(37,99,235,.18);
      border: 1px solid rgba(37,99,235,.22);
      color:#1d4ed8;
      white-space:nowrap;
    }
    html[data-theme="dark"] .note .badge{
      background: rgba(56,189,248,.12);
      border-color: rgba(56,189,248,.18);
      color:#93c5fd;
    }
    .note .title{
      font-weight: 950;
      margin-bottom: 4px;
    }
    .note .tt-hint{ margin-top: 8px; opacity:.85; font-size:.88rem; }

    /* Table container */
    .tt-table-wrap{
      margin-top: 14px;
      overflow: auto;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: var(--glass2);
      box-shadow: var(--shadow);
    }

    .tt-table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      min-width: 920px;
    }

    .tt-table th, .tt-table td{
      border-bottom: 1px solid rgba(148,163,184,0.16);
      border-left: 1px solid rgba(148,163,184,0.14);
      padding: 12px;
      vertical-align: top;
    }
    .tt-table tr > *:first-child{ border-right: 1px solid rgba(148,163,184,0.14); }

    .tt-table thead th{
      position: sticky;
      top: 0;
      z-index: 5;
      background: rgba(0, 0, 0, 0.94);
      backdrop-filter: blur(10px);
      font-weight: 1000;
      box-shadow: 0 6px 0 rgba(148,163,184,0.08);
    }
    html[data-theme="dark"] .tt-table thead th{
      background: rgba(15,23,42,0.92);
    }

    .tt-table .day-col{
      position: sticky;
      right: 0;
      z-index: 4;
      font-weight: 1000;
      white-space:nowrap;
      background: rgba(255,255,255,0.94);
      backdrop-filter: blur(10px);
    }
    html[data-theme="dark"] .tt-table .day-col{
      background: rgba(15,23,42,0.92);
    }

    .tt-head-num{
      font-size: .95rem;
      opacity: .95;
      text-align:center;
      white-space:nowrap;
    }

    .tt-cell{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .tt-cell input{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.28);
      background: rgba(255,255,255,0.88);
      outline:none;
      transition: box-shadow .15s ease, border-color .15s ease, transform .1s ease;
    }
    .tt-cell input:focus{
      border-color: rgba(56,189,248,.55);
      box-shadow: 0 0 0 4px rgba(56,189,248,.16);
    }
    .tt-cell input:hover{ transform: translateY(-1px); }

    html[data-theme="dark"] .tt-cell input{
      background: rgba(2,6,23,0.35);
      border-color: rgba(148,163,184,0.18);
      color: #e5e7eb;
    }

    /* Bottom message look */
    #msg{
      margin-top: 12px !important;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.20);
      background: rgba(255,255,255,0.55);
    }
    html[data-theme="dark"] #msg{
      background: rgba(2,6,23,0.25);
      border-color: rgba(148,163,184,0.14);
    }

    /* Small responsive touches */
    @media (max-width: 520px){
      .logo-circle{ width:56px;height:56px; }
      .ctrl-label select{ min-width: 180px; }
      .tt-top{ top: 86px; }
    }
    /* ===== Logo image ===== */
.logo-circle{
  width:64px;
  height:64px;
  border-radius:50%;
  background-image: url("/assets/logo.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  /* ××¡×ª×™×¨ ×˜×§×¡×˜ ×× ×™×© */
  font-size: 0;
  color: transparent;

  border: 2px solid rgba(59,130,246,.28);
  box-shadow: 0 12px 30px rgba(15,23,42,.12);
  background-color: #fff;
}

html[data-theme="dark"] .logo-circle{
  background-color: rgba(15,23,42,.6);
  border-color: rgba(56,189,248,.26);
}
/* ===== HEADER / NAV â€“ FIX LAYOUT ===== */
.header-main .container{
  max-width: 1100px;
}

.header-main .nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  flex-wrap:nowrap;            /* â— ×œ× ×œ×”×ª×¤×¦×œ ×œ×©×•×¨×•×ª */
}

.header-main .nav-left{
  display:flex;
  align-items:center;
  gap:14px;
  min-width: 0;                /* ×××¤×©×¨ ×§×™×¦×•×¥ ×˜×§×¡×˜ ×‘××§×•× ×“×—×™×¤×•×ª */
}

/* ×× ×™×© ×œ×š ×¦×“ ×™××™×Ÿ/×××¦×¢ ×•×›×•' â€“ ×©×™×™×©××¨ ×™×¦×™×‘ */
.header-main .nav-right,
.header-main .nav-center{
  display:flex;
  align-items:center;
  gap:10px;
  flex:0 0 auto;
}

/* ×˜×§×¡×˜ ×›×•×ª×¨×ª ×©×œ× ×™×“×—×•×£ ×”×›×œ */
.school-title-main{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width: 60vw;
}
/* ===== TOP BAR / PILLS â€“ STABILITY ===== */
.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  min-height:44px;
  padding: 8px 14px;
  border-radius:999px;
  line-height:1;
}

.btn, .btn-outline{
  line-height:1;
  min-height:44px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  white-space:nowrap;
}

/* ×× ×”×©×“×” ×—×™×¤×•×©/×‘×—×™×¨×” × ×¨××” × ××•×š/×’×‘×•×” */
input, select{
  min-height:44px;
  line-height:1.1;
}
html[data-theme="dark"] .pill{
  background: rgba(15,23,42,.55);
  border-color: rgba(148,163,184,.25);
}

html[data-theme="dark"] input,
html[data-theme="dark"] select{
  background: rgba(2,6,23,.35);
  color:#e5e7eb;
}

  </style>
</head>
<body>
  <header class="header-main">
    <div class="container">
      <nav class="nav">
            <a href="index.html" class="logo-circle" aria-label="×“×£ ×”×‘×™×ª">
            <img src="https://i.ibb.co/tp4K737Y/Cropped-circle-image-1.png" alt="×¡××œ ×™×¢×¨×ª ×”×¢××§" class="logo-img" />
          </a>
            <div class="school-title-main">××¢×¨×›×ª ×©×¢×•×ª Â· × ×™×”×•×œ</div>
            <div class="school-title-sub">
              <div class="back-btn-wrap">
                <a href="admin.html" class="back-btn">â† ×—×–×¨×” ×œ×œ×•×— ×”× ×™×”×•×œ</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <section class="section">
    <div class="container tt-wrap">

      <p id="auth-status" class="section-subtitle">×‘×•×“×§ ×”×ª×—×‘×¨×•×ª...</p>

      <div id="login-section" class="row-card" style="display:none; max-width:420px; margin:0 auto;">
        <h2 class="section-title" style="font-size:1.2rem;">×”×ª×—×‘×¨×•×ª</h2>
        <form id="login-form">
          <label>××™××™×™×œ</label>
          <input type="email" name="email" required />
          <label>×¡×™×¡××”</label>
          <input type="password" name="password" required />
          <button type="submit" style="width:100%; margin-top:10px;">×›× ×™×¡×”</button>
        </form>
      </div>

      <div id="panel" style="display:none;">

        <div class="tt-top">
          <div class="tt-actions">
            <button id="logout-btn" class="btn-outline" type="button">×”×ª× ×ª×§×•×ª</button>

            <label class="ctrl-label">
              ×›×™×ª×”:
              <select id="classId">
                <option value="">×‘×—×¨ ×›×™×ª×”</option>
                <optgroup label="×–×³">
                  <option value="z1">×–1</option><option value="z2">×–2</option><option value="z3">×–3</option><option value="z4">×–4</option><option value="z5">×–5</option>
                </optgroup>
                <optgroup label="×—×³">
                  <option value="h1">×—1/7</option><option value="h4">×—4/8</option><option value="h5">×—5/9</option><option value="h6">×—6/10</option><option value="amat">×¢××´×˜</option>
                </optgroup>
                <optgroup label="×˜×³">
                  <option value="t1">×˜1</option><option value="t2">×˜2</option><option value="t3">×˜3</option><option value="t4">×˜4</option><option value="t5">×˜5</option>
                </optgroup>
              </select>
            </label>

            <button id="load" class="btn-outline" type="button">×˜×¢×Ÿ ××¢×¨×›×ª</button>
            <button id="save" class="btn" type="button">×©××•×¨ ××¢×¨×›×ª</button>
          </div>

          <div class="muted" id="meta"></div>
        </div>

        <div class="row-card">
          <div class="note">
            <div class="badge">ğŸ› ï¸ ××¦×‘ × ×™×”×•×œ</div>
            <div>
              <div class="title">×”× ×—×™×•×ª ××”×™×¨×•×ª</div>
              <div class="muted">
                ×™××™×: <b>×¨××©×•×Ÿâ€“×©×™×©×™</b> Â· ×©×¢×•×ª: <b>1â€“9</b><br>
                ×›×œ ×ª×: <b>××§×¦×•×¢ / ××•×¨×” / ×›×™×ª×” (××•×¤×¦×™×•× ×œ×™)</b>
              </div>
              <div class="tt-hint">
                ×˜×™×¤: ×× ×‘×©×™×©×™ ×™×© ×¤×—×•×ª ×©×¢×•×ª â€” ×¤×©×•×˜ ×ª×©××™×¨ ×¨×™×§ ××—×¨×™ ××” ×©×œ× ×¦×¨×™×š.
              </div>
            </div>
          </div>
        </div>

        <div class="tt-table-wrap">
          <table class="tt-table" id="table"></table>
        </div>

        <div id="msg" class="muted"></div>
      </div>

    </div>
  </section>

  <script type="module" src="timetable-admin.js"></script>
  <script type="module" src="/analytics.js"></script>
</body>
</html>
